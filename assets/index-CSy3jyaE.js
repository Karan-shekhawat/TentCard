(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function Av(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Nd={exports:{}},fl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k0;function NT(){if(k0)return fl;k0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return fl.Fragment=e,fl.jsx=i,fl.jsxs=i,fl}var j0;function IT(){return j0||(j0=1,Nd.exports=NT()),Nd.exports}var E=IT(),Id={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P0;function DT(){if(P0)return Se;P0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),I=Symbol.iterator;function z(V){return V===null||typeof V!="object"?null:(V=I&&V[I]||V["@@iterator"],typeof V=="function"?V:null)}var te={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ne=Object.assign,$={};function le(V,X,oe){this.props=V,this.context=X,this.refs=$,this.updater=oe||te}le.prototype.isReactComponent={},le.prototype.setState=function(V,X){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,X,"setState")},le.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function ae(){}ae.prototype=le.prototype;function se(V,X,oe){this.props=V,this.context=X,this.refs=$,this.updater=oe||te}var H=se.prototype=new ae;H.constructor=se,ne(H,le.prototype),H.isPureReactComponent=!0;var W=Array.isArray;function J(){}var x={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function R(V,X,oe){var ce=oe.ref;return{$$typeof:s,type:V,key:X,ref:ce!==void 0?ce:null,props:oe}}function M(V,X){return R(V.type,X,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function j(V){var X={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(oe){return X[oe]})}var C=/\/+/g;function tt(V,X){return typeof V=="object"&&V!==null&&V.key!=null?j(""+V.key):X.toString(36)}function ft(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(J,J):(V.status="pending",V.then(function(X){V.status==="pending"&&(V.status="fulfilled",V.value=X)},function(X){V.status==="pending"&&(V.status="rejected",V.reason=X)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function G(V,X,oe,ce,be){var Re=typeof V;(Re==="undefined"||Re==="boolean")&&(V=null);var Le=!1;if(V===null)Le=!0;else switch(Re){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(V.$$typeof){case s:case e:Le=!0;break;case T:return Le=V._init,G(Le(V._payload),X,oe,ce,be)}}if(Le)return be=be(V),Le=ce===""?"."+tt(V,0):ce,W(be)?(oe="",Le!=null&&(oe=Le.replace(C,"$&/")+"/"),G(be,X,oe,"",function(nr){return nr})):be!=null&&(D(be)&&(be=M(be,oe+(be.key==null||V&&V.key===be.key?"":(""+be.key).replace(C,"$&/")+"/")+Le)),X.push(be)),1;Le=0;var Nt=ce===""?".":ce+":";if(W(V))for(var rt=0;rt<V.length;rt++)ce=V[rt],Re=Nt+tt(ce,rt),Le+=G(ce,X,oe,Re,be);else if(rt=z(V),typeof rt=="function")for(V=rt.call(V),rt=0;!(ce=V.next()).done;)ce=ce.value,Re=Nt+tt(ce,rt++),Le+=G(ce,X,oe,Re,be);else if(Re==="object"){if(typeof V.then=="function")return G(ft(V),X,oe,ce,be);throw X=String(V),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Le}function ie(V,X,oe){if(V==null)return V;var ce=[],be=0;return G(V,ce,"","",function(Re){return X.call(oe,Re,be++)}),ce}function de(V){if(V._status===-1){var X=V._result;X=X(),X.then(function(oe){(V._status===0||V._status===-1)&&(V._status=1,V._result=oe)},function(oe){(V._status===0||V._status===-1)&&(V._status=2,V._result=oe)}),V._status===-1&&(V._status=0,V._result=X)}if(V._status===1)return V._result.default;throw V._result}var De=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Qe={map:ie,forEach:function(V,X,oe){ie(V,function(){X.apply(this,arguments)},oe)},count:function(V){var X=0;return ie(V,function(){X++}),X},toArray:function(V){return ie(V,function(X){return X})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Se.Activity=w,Se.Children=Qe,Se.Component=le,Se.Fragment=i,Se.Profiler=l,Se.PureComponent=se,Se.StrictMode=r,Se.Suspense=p,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Se.__COMPILER_RUNTIME={__proto__:null,c:function(V){return x.H.useMemoCache(V)}},Se.cache=function(V){return function(){return V.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(V,X,oe){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ce=ne({},V.props),be=V.key;if(X!=null)for(Re in X.key!==void 0&&(be=""+X.key),X)!S.call(X,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&X.ref===void 0||(ce[Re]=X[Re]);var Re=arguments.length-2;if(Re===1)ce.children=oe;else if(1<Re){for(var Le=Array(Re),Nt=0;Nt<Re;Nt++)Le[Nt]=arguments[Nt+2];ce.children=Le}return R(V.type,be,ce)},Se.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},Se.createElement=function(V,X,oe){var ce,be={},Re=null;if(X!=null)for(ce in X.key!==void 0&&(Re=""+X.key),X)S.call(X,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(be[ce]=X[ce]);var Le=arguments.length-2;if(Le===1)be.children=oe;else if(1<Le){for(var Nt=Array(Le),rt=0;rt<Le;rt++)Nt[rt]=arguments[rt+2];be.children=Nt}if(V&&V.defaultProps)for(ce in Le=V.defaultProps,Le)be[ce]===void 0&&(be[ce]=Le[ce]);return R(V,Re,be)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(V){return{$$typeof:g,render:V}},Se.isValidElement=D,Se.lazy=function(V){return{$$typeof:T,_payload:{_status:-1,_result:V},_init:de}},Se.memo=function(V,X){return{$$typeof:_,type:V,compare:X===void 0?null:X}},Se.startTransition=function(V){var X=x.T,oe={};x.T=oe;try{var ce=V(),be=x.S;be!==null&&be(oe,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(J,De)}catch(Re){De(Re)}finally{X!==null&&oe.types!==null&&(X.types=oe.types),x.T=X}},Se.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Se.use=function(V){return x.H.use(V)},Se.useActionState=function(V,X,oe){return x.H.useActionState(V,X,oe)},Se.useCallback=function(V,X){return x.H.useCallback(V,X)},Se.useContext=function(V){return x.H.useContext(V)},Se.useDebugValue=function(){},Se.useDeferredValue=function(V,X){return x.H.useDeferredValue(V,X)},Se.useEffect=function(V,X){return x.H.useEffect(V,X)},Se.useEffectEvent=function(V){return x.H.useEffectEvent(V)},Se.useId=function(){return x.H.useId()},Se.useImperativeHandle=function(V,X,oe){return x.H.useImperativeHandle(V,X,oe)},Se.useInsertionEffect=function(V,X){return x.H.useInsertionEffect(V,X)},Se.useLayoutEffect=function(V,X){return x.H.useLayoutEffect(V,X)},Se.useMemo=function(V,X){return x.H.useMemo(V,X)},Se.useOptimistic=function(V,X){return x.H.useOptimistic(V,X)},Se.useReducer=function(V,X,oe){return x.H.useReducer(V,X,oe)},Se.useRef=function(V){return x.H.useRef(V)},Se.useState=function(V){return x.H.useState(V)},Se.useSyncExternalStore=function(V,X,oe){return x.H.useSyncExternalStore(V,X,oe)},Se.useTransition=function(){return x.H.useTransition()},Se.version="19.2.1",Se}var L0;function Tm(){return L0||(L0=1,Id.exports=DT()),Id.exports}var me=Tm();const OT=Av(me);var Dd={exports:{}},dl={},Od={exports:{}},Md={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U0;function MT(){return U0||(U0=1,(function(s){function e(G,ie){var de=G.length;G.push(ie);e:for(;0<de;){var De=de-1>>>1,Qe=G[De];if(0<l(Qe,ie))G[De]=ie,G[de]=Qe,de=De;else break e}}function i(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var ie=G[0],de=G.pop();if(de!==ie){G[0]=de;e:for(var De=0,Qe=G.length,V=Qe>>>1;De<V;){var X=2*(De+1)-1,oe=G[X],ce=X+1,be=G[ce];if(0>l(oe,de))ce<Qe&&0>l(be,oe)?(G[De]=be,G[ce]=de,De=ce):(G[De]=oe,G[X]=de,De=X);else if(ce<Qe&&0>l(be,de))G[De]=be,G[ce]=de,De=ce;else break e}}return ie}function l(G,ie){var de=G.sortIndex-ie.sortIndex;return de!==0?de:G.id-ie.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var p=[],_=[],T=1,w=null,I=3,z=!1,te=!1,ne=!1,$=!1,le=typeof setTimeout=="function"?setTimeout:null,ae=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function H(G){for(var ie=i(_);ie!==null;){if(ie.callback===null)r(_);else if(ie.startTime<=G)r(_),ie.sortIndex=ie.expirationTime,e(p,ie);else break;ie=i(_)}}function W(G){if(ne=!1,H(G),!te)if(i(p)!==null)te=!0,J||(J=!0,j());else{var ie=i(_);ie!==null&&ft(W,ie.startTime-G)}}var J=!1,x=-1,S=5,R=-1;function M(){return $?!0:!(s.unstable_now()-R<S)}function D(){if($=!1,J){var G=s.unstable_now();R=G;var ie=!0;try{e:{te=!1,ne&&(ne=!1,ae(x),x=-1),z=!0;var de=I;try{t:{for(H(G),w=i(p);w!==null&&!(w.expirationTime>G&&M());){var De=w.callback;if(typeof De=="function"){w.callback=null,I=w.priorityLevel;var Qe=De(w.expirationTime<=G);if(G=s.unstable_now(),typeof Qe=="function"){w.callback=Qe,H(G),ie=!0;break t}w===i(p)&&r(p),H(G)}else r(p);w=i(p)}if(w!==null)ie=!0;else{var V=i(_);V!==null&&ft(W,V.startTime-G),ie=!1}}break e}finally{w=null,I=de,z=!1}ie=void 0}}finally{ie?j():J=!1}}}var j;if(typeof se=="function")j=function(){se(D)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,tt=C.port2;C.port1.onmessage=D,j=function(){tt.postMessage(null)}}else j=function(){le(D,0)};function ft(G,ie){x=le(function(){G(s.unstable_now())},ie)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return I},s.unstable_next=function(G){switch(I){case 1:case 2:case 3:var ie=3;break;default:ie=I}var de=I;I=ie;try{return G()}finally{I=de}},s.unstable_requestPaint=function(){$=!0},s.unstable_runWithPriority=function(G,ie){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var de=I;I=G;try{return ie()}finally{I=de}},s.unstable_scheduleCallback=function(G,ie,de){var De=s.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?De+de:De):de=De,G){case 1:var Qe=-1;break;case 2:Qe=250;break;case 5:Qe=1073741823;break;case 4:Qe=1e4;break;default:Qe=5e3}return Qe=de+Qe,G={id:T++,callback:ie,priorityLevel:G,startTime:de,expirationTime:Qe,sortIndex:-1},de>De?(G.sortIndex=de,e(_,G),i(p)===null&&G===i(_)&&(ne?(ae(x),x=-1):ne=!0,ft(W,de-De))):(G.sortIndex=Qe,e(p,G),te||z||(te=!0,J||(J=!0,j()))),G},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(G){var ie=I;return function(){var de=I;I=ie;try{return G.apply(this,arguments)}finally{I=de}}}})(Md)),Md}var z0;function VT(){return z0||(z0=1,Od.exports=MT()),Od.exports}var Vd={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B0;function kT(){if(B0)return Yt;B0=1;var s=Tm();function e(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,_,T){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:p,containerInfo:_,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Yt.createPortal=function(p,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(p,_,null,T)},Yt.flushSync=function(p){var _=d.T,T=r.p;try{if(d.T=null,r.p=2,p)return p()}finally{d.T=_,r.p=T,r.d.f()}},Yt.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(p,_))},Yt.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Yt.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var T=_.as,w=g(T,_.crossOrigin),I=typeof _.integrity=="string"?_.integrity:void 0,z=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?r.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:I,fetchPriority:z}):T==="script"&&r.d.X(p,{crossOrigin:w,integrity:I,fetchPriority:z,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Yt.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=g(_.as,_.crossOrigin);r.d.M(p,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(p)},Yt.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,w=g(T,_.crossOrigin);r.d.L(p,T,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Yt.preloadModule=function(p,_){if(typeof p=="string")if(_){var T=g(_.as,_.crossOrigin);r.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(p)},Yt.requestFormReset=function(p){r.d.r(p)},Yt.unstable_batchedUpdates=function(p,_){return p(_)},Yt.useFormState=function(p,_,T){return d.H.useFormState(p,_,T)},Yt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Yt.version="19.2.1",Yt}var H0;function jT(){if(H0)return Vd.exports;H0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Vd.exports=kT(),Vd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q0;function PT(){if(q0)return dl;q0=1;var s=VT(),e=Tm(),i=jT();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(c(t)!==t)throw Error(r(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return p(h),t;if(f===o)return p(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var y=!1,b=h.child;b;){if(b===a){y=!0,a=h,o=f;break}if(b===o){y=!0,o=h,a=f;break}b=b.sibling}if(!y){for(b=f.child;b;){if(b===a){y=!0,a=f,o=h;break}if(b===o){y=!0,o=f,a=h;break}b=b.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function T(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=T(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,I=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),te=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),le=Symbol.for("react.profiler"),ae=Symbol.for("react.consumer"),se=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function tt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ne:return"Fragment";case le:return"Profiler";case $:return"StrictMode";case W:return"Suspense";case J:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case te:return"Portal";case se:return t.displayName||"Context";case ae:return(t._context.displayName||"Context")+".Consumer";case H:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return n=t.displayName||null,n!==null?n:tt(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return tt(t(n))}catch{}}return null}var ft=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},De=[],Qe=-1;function V(t){return{current:t}}function X(t){0>Qe||(t.current=De[Qe],De[Qe]=null,Qe--)}function oe(t,n){Qe++,De[Qe]=t.current,t.current=n}var ce=V(null),be=V(null),Re=V(null),Le=V(null);function Nt(t,n){switch(oe(Re,n),oe(be,t),oe(ce,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?s0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=s0(n),t=r0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(ce),oe(ce,t)}function rt(){X(ce),X(be),X(Re)}function nr(t){t.memoizedState!==null&&oe(Le,t);var n=ce.current,a=r0(n,t.type);n!==a&&(oe(be,t),oe(ce,a))}function Kr(t){be.current===t&&(X(ce),X(be)),Le.current===t&&(X(Le),ll._currentValue=de)}var Yr,Xr;function Wn(t){if(Yr===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Yr=n&&n[1]||"",Xr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yr+t+Xr}var oo=!1;function ir(t,n){if(!t||oo)return"";oo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(F){var B=F}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(F){B=F}t.call(Y.prototype)}}else{try{throw Error()}catch(F){B=F}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(F){if(F&&B&&typeof F.stack=="string")return[F.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],b=f[1];if(y&&b){var N=y.split(`
`),U=b.split(`
`);for(h=o=0;o<N.length&&!N[o].includes("DetermineComponentFrameRoot");)o++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(o===N.length||h===U.length)for(o=N.length-1,h=U.length-1;1<=o&&0<=h&&N[o]!==U[h];)h--;for(;1<=o&&0<=h;o--,h--)if(N[o]!==U[h]){if(o!==1||h!==1)do if(o--,h--,0>h||N[o]!==U[h]){var Q=`
`+N[o].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=o&&0<=h);break}}}finally{oo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Wn(a):""}function lo(t,n){switch(t.tag){case 26:case 27:case 5:return Wn(t.type);case 16:return Wn("Lazy");case 13:return t.child!==n&&n!==null?Wn("Suspense Fallback"):Wn("Suspense");case 19:return Wn("SuspenseList");case 0:case 15:return ir(t.type,!1);case 11:return ir(t.type.render,!1);case 1:return ir(t.type,!0);case 31:return Wn("Activity");default:return""}}function uo(t){try{var n="",a=null;do n+=lo(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _t=Object.prototype.hasOwnProperty,It=s.unstable_scheduleCallback,rs=s.unstable_cancelCallback,Ih=s.unstable_shouldYield,Zl=s.unstable_requestPaint,Wt=s.unstable_now,sr=s.unstable_getCurrentPriorityLevel,co=s.unstable_ImmediatePriority,ho=s.unstable_UserBlockingPriority,as=s.unstable_NormalPriority,Dh=s.unstable_LowPriority,Jl=s.unstable_IdlePriority,Wl=s.log,eu=s.unstable_setDisableYieldValue,Ln=null,Ut=null;function Tn(t){if(typeof Wl=="function"&&eu(t),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(Ln,t)}catch{}}var dt=Math.clz32?Math.clz32:nu,tu=Math.log,$r=Math.LN2;function nu(t){return t>>>=0,t===0?32:31-(tu(t)/$r|0)|0}var ei=256,rr=262144,vt=4194304;function ti(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ni(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var b=o&134217727;return b!==0?(o=b&~f,o!==0?h=ti(o):(y&=b,y!==0?h=ti(y):a||(a=b&~t,a!==0&&(h=ti(a))))):(b=o&~f,b!==0?h=ti(b):y!==0?h=ti(y):a||(a=o&~t,a!==0&&(h=ti(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Un(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Oh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iu(){var t=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),t}function ii(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function ar(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Mh(t,n,a,o,h,f){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,N=t.expirationTimes,U=t.hiddenUpdates;for(a=y&~a;0<a;){var Q=31-dt(a),Y=1<<Q;b[Q]=0,N[Q]=-1;var B=U[Q];if(B!==null)for(U[Q]=null,Q=0;Q<B.length;Q++){var F=B[Q];F!==null&&(F.lane&=-536870913)}a&=~Y}o!==0&&or(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function or(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-dt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function fo(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-dt(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function mo(t,n){var a=n&-n;return a=(a&42)!==0?1:lr(a),(a&(t.suspendedLanes|n))!==0?0:a}function lr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ni(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function su(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:C0(t.type))}function zn(t,n){var a=ie.p;try{return ie.p=t,n()}finally{ie.p=a}}var Bn=Math.random().toString(36).slice(2),Et="__reactFiber$"+Bn,Vt="__reactProps$"+Bn,si="__reactContainer$"+Bn,Zr="__reactEvents$"+Bn,Vh="__reactListeners$"+Bn,ru="__reactHandles$"+Bn,au="__reactResources$"+Bn,ri="__reactMarker$"+Bn;function Jr(t){delete t[Et],delete t[Vt],delete t[Zr],delete t[Vh],delete t[ru]}function ai(t){var n=t[Et];if(n)return n;for(var a=t.parentNode;a;){if(n=a[si]||a[Et]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=f0(t);t!==null;){if(a=t[Et])return a;t=f0(t)}return n}t=a,a=t.parentNode}return null}function Sn(t){if(t=t[Et]||t[si]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function fn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function oi(t){var n=t[au];return n||(n=t[au]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function bt(t){t[ri]=!0}var go=new Set,po={};function li(t,n){ui(t,n),ui(t+"Capture",n)}function ui(t,n){for(po[t]=n,t=0;t<n.length;t++)go.add(n[t])}var yo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_o={},vo={};function ou(t){return _t.call(vo,t)?!0:_t.call(_o,t)?!1:yo.test(t)?vo[t]=!0:(_o[t]=!0,!1)}function Wr(t,n,a){if(ou(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function dn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Tt(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function kt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function os(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Eo(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ke(t){if(!t._valueTracker){var n=os(t)?"checked":"value";t._valueTracker=Eo(t,n,""+t[n])}}function ur(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=os(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function ci(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var cr=/[\n"\\]/g;function nn(t){return t.replace(cr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ea(t,n,a,o,h,f,y,b){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+kt(n)):t.value!==""+kt(n)&&(t.value=""+kt(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?bo(t,y,kt(n)):a!=null?bo(t,y,kt(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+kt(b):t.removeAttribute("name")}function lu(t,n,a,o,h,f,y,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ke(t);return}a=a!=null?""+kt(a):"",n=n!=null?""+kt(n):a,b||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=b?t.checked:!!o,t.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),Ke(t)}function bo(t,n,a){n==="number"&&ci(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ls(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+kt(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function uu(t,n,a){if(n!=null&&(n=""+kt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+kt(a):""}function us(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(ft(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=kt(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Ke(t)}function sn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var cu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function To(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||cu.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function So(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&To(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&To(t,f,n[f])}function ta(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function na(t){return cs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Hn(){}var Ao=null;function An(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hs=null,hi=null;function hr(t){var n=Sn(t);if(n&&(t=n.stateNode)){var a=t[Vt]||null;e:switch(t=n.stateNode,n.type){case"input":if(ea(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+nn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[Vt]||null;if(!h)throw Error(r(90));ea(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&ur(o)}break e;case"textarea":uu(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&ls(t,!!a.multiple,n,!1)}}}var ia=!1;function fs(t,n,a){if(ia)return t(n,a);ia=!0;try{var o=t(n);return o}finally{if(ia=!1,(hs!==null||hi!==null)&&(sc(),hs&&(n=hs,t=hi,hi=hs=null,hr(n),t)))for(n=0;n<t.length;n++)hr(t[n])}}function qn(t,n){var a=t.stateNode;if(a===null)return null;var o=a[Vt]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fr=!1;if(wn)try{var $e={};Object.defineProperty($e,"passive",{get:function(){fr=!0}}),window.addEventListener("test",$e,$e),window.removeEventListener("test",$e,$e)}catch{fr=!1}var fi=null,wo=null,dr=null;function xo(){if(dr)return dr;var t,n=wo,a=n.length,o,h="value"in fi?fi.value:fi.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var y=a-t;for(o=1;o<=y&&n[a-o]===h[f-o];o++);return dr=h.slice(t,1<o?1-o:void 0)}function mr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ii(){return!0}function Fn(){return!1}function zt(t){function n(a,o,h,f,y){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ii:Fn,this.isPropagationStopped=Fn,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ii)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ii)},persist:function(){},isPersistent:Ii}),n}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},di=zt(Di),ds=w({},Di,{view:0,detail:0}),Ro=zt(ds),ms,sa,mi,ra=w({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==mi&&(mi&&t.type==="mousemove"?(ms=t.screenX-mi.screenX,sa=t.screenY-mi.screenY):sa=ms=0,mi=t),ms)},movementY:function(t){return"movementY"in t?t.movementY:sa}}),Co=zt(ra),gr=w({},ra,{dataTransfer:0}),fu=zt(gr),du=w({},ds,{relatedTarget:0}),pr=zt(du),No=w({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),mu=zt(No),aa=w({},Di,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gu=zt(aa),pu=w({},Di,{data:0}),gi=zt(pu),yu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=vu[t])?!!n[t]:!1}function gs(){return Eu}var en=w({},ds,{key:function(t){if(t.key){var n=yu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=mr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_u[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gs,charCode:function(t){return t.type==="keypress"?mr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?mr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bu=zt(en),Tu=w({},ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oi=zt(Tu),u=w({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gs}),m=zt(u),v=w({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=zt(v),P=w({},ra,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=zt(P),re=w({},Di,{newState:0,oldState:0}),we=zt(re),mt=[9,13,27,32],He=wn&&"CompositionEvent"in window,at=null;wn&&"documentMode"in document&&(at=document.documentMode);var xn=wn&&"TextEvent"in window&&!at,pi=wn&&(!He||at&&8<at&&11>=at),Gn=" ",Qn=!1;function yr(t,n){switch(t){case"keyup":return mt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var la=!1;function WE(t,n){switch(t){case"compositionend":return oa(n);case"keypress":return n.which!==32?null:(Qn=!0,Gn);case"textInput":return t=n.data,t===Gn&&Qn?null:t;default:return null}}function eb(t,n){if(la)return t==="compositionend"||!He&&yr(t,n)?(t=xo(),dr=wo=fi=null,la=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return pi&&n.locale!=="ko"?null:n.data;default:return null}}var tb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!tb[t.type]:n==="textarea"}function pg(t,n,a,o){hs?hi?hi.push(o):hi=[o]:hs=o,n=hc(n,"onChange"),0<n.length&&(a=new di("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var Io=null,Do=null;function nb(t){Jy(t,0)}function Su(t){var n=fn(t);if(ur(n))return t}function yg(t,n){if(t==="change")return n}var _g=!1;if(wn){var kh;if(wn){var jh="oninput"in document;if(!jh){var vg=document.createElement("div");vg.setAttribute("oninput","return;"),jh=typeof vg.oninput=="function"}kh=jh}else kh=!1;_g=kh&&(!document.documentMode||9<document.documentMode)}function Eg(){Io&&(Io.detachEvent("onpropertychange",bg),Do=Io=null)}function bg(t){if(t.propertyName==="value"&&Su(Do)){var n=[];pg(n,Do,t,An(t)),fs(nb,n)}}function ib(t,n,a){t==="focusin"?(Eg(),Io=n,Do=a,Io.attachEvent("onpropertychange",bg)):t==="focusout"&&Eg()}function sb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Su(Do)}function rb(t,n){if(t==="click")return Su(n)}function ab(t,n){if(t==="input"||t==="change")return Su(n)}function ob(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var mn=typeof Object.is=="function"?Object.is:ob;function Oo(t,n){if(mn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!_t.call(n,h)||!mn(t[h],n[h]))return!1}return!0}function Tg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Sg(t,n){var a=Tg(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Tg(a)}}function Ag(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Ag(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function wg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ci(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ci(t.document)}return n}function Ph(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var lb=wn&&"documentMode"in document&&11>=document.documentMode,ua=null,Lh=null,Mo=null,Uh=!1;function xg(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Uh||ua==null||ua!==ci(o)||(o=ua,"selectionStart"in o&&Ph(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Mo&&Oo(Mo,o)||(Mo=o,o=hc(Lh,"onSelect"),0<o.length&&(n=new di("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=ua)))}function _r(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var ca={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionrun:_r("Transition","TransitionRun"),transitionstart:_r("Transition","TransitionStart"),transitioncancel:_r("Transition","TransitionCancel"),transitionend:_r("Transition","TransitionEnd")},zh={},Rg={};wn&&(Rg=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);function vr(t){if(zh[t])return zh[t];if(!ca[t])return t;var n=ca[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Rg)return zh[t]=n[a];return t}var Cg=vr("animationend"),Ng=vr("animationiteration"),Ig=vr("animationstart"),ub=vr("transitionrun"),cb=vr("transitionstart"),hb=vr("transitioncancel"),Dg=vr("transitionend"),Og=new Map,Bh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bh.push("scrollEnd");function Kn(t,n){Og.set(t,n),li(n,[t])}var Au=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Rn=[],ha=0,Hh=0;function wu(){for(var t=ha,n=Hh=ha=0;n<t;){var a=Rn[n];Rn[n++]=null;var o=Rn[n];Rn[n++]=null;var h=Rn[n];Rn[n++]=null;var f=Rn[n];if(Rn[n++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}f!==0&&Mg(a,h,f)}}function xu(t,n,a,o){Rn[ha++]=t,Rn[ha++]=n,Rn[ha++]=a,Rn[ha++]=o,Hh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function qh(t,n,a,o){return xu(t,n,a,o),Ru(t)}function Er(t,n){return xu(t,null,null,n),Ru(t)}function Mg(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-dt(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Ru(t){if(50<tl)throw tl=0,Wf=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var fa={};function fb(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,n,a,o){return new fb(t,n,a,o)}function Fh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Mi(t,n){var a=t.alternate;return a===null?(a=gn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Vg(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Cu(t,n,a,o,h,f){var y=0;if(o=t,typeof t=="function")Fh(t)&&(y=1);else if(typeof t=="string")y=yT(t,a,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=gn(31,a,n,h),t.elementType=R,t.lanes=f,t;case ne:return br(a.children,h,f,n);case $:y=8,h|=24;break;case le:return t=gn(12,a,n,h|2),t.elementType=le,t.lanes=f,t;case W:return t=gn(13,a,n,h),t.elementType=W,t.lanes=f,t;case J:return t=gn(19,a,n,h),t.elementType=J,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case se:y=10;break e;case ae:y=9;break e;case H:y=11;break e;case x:y=14;break e;case S:y=16,o=null;break e}y=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return n=gn(y,a,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function br(t,n,a,o){return t=gn(7,t,o,n),t.lanes=a,t}function Gh(t,n,a){return t=gn(6,t,null,n),t.lanes=a,t}function kg(t){var n=gn(18,null,null,0);return n.stateNode=t,n}function Qh(t,n,a){return n=gn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var jg=new WeakMap;function Cn(t,n){if(typeof t=="object"&&t!==null){var a=jg.get(t);return a!==void 0?a:(n={value:t,source:n,stack:uo(n)},jg.set(t,n),n)}return{value:t,source:n,stack:uo(n)}}var da=[],ma=0,Nu=null,Vo=0,Nn=[],In=0,ps=null,yi=1,_i="";function Vi(t,n){da[ma++]=Vo,da[ma++]=Nu,Nu=t,Vo=n}function Pg(t,n,a){Nn[In++]=yi,Nn[In++]=_i,Nn[In++]=ps,ps=t;var o=yi;t=_i;var h=32-dt(o)-1;o&=~(1<<h),a+=1;var f=32-dt(n)+h;if(30<f){var y=h-h%5;f=(o&(1<<y)-1).toString(32),o>>=y,h-=y,yi=1<<32-dt(n)+h|a<<h|o,_i=f+t}else yi=1<<f|a<<h|o,_i=t}function Kh(t){t.return!==null&&(Vi(t,1),Pg(t,1,0))}function Yh(t){for(;t===Nu;)Nu=da[--ma],da[ma]=null,Vo=da[--ma],da[ma]=null;for(;t===ps;)ps=Nn[--In],Nn[In]=null,_i=Nn[--In],Nn[In]=null,yi=Nn[--In],Nn[In]=null}function Lg(t,n){Nn[In++]=yi,Nn[In++]=_i,Nn[In++]=ps,yi=n.id,_i=n.overflow,ps=t}var Bt=null,nt=null,Pe=!1,ys=null,Dn=!1,Xh=Error(r(519));function _s(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ko(Cn(n,t)),Xh}function Ug(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[Et]=t,n[Vt]=o,a){case"dialog":Ie("cancel",n),Ie("close",n);break;case"iframe":case"object":case"embed":Ie("load",n);break;case"video":case"audio":for(a=0;a<il.length;a++)Ie(il[a],n);break;case"source":Ie("error",n);break;case"img":case"image":case"link":Ie("error",n),Ie("load",n);break;case"details":Ie("toggle",n);break;case"input":Ie("invalid",n),lu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ie("invalid",n);break;case"textarea":Ie("invalid",n),us(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||n0(n.textContent,a)?(o.popover!=null&&(Ie("beforetoggle",n),Ie("toggle",n)),o.onScroll!=null&&Ie("scroll",n),o.onScrollEnd!=null&&Ie("scrollend",n),o.onClick!=null&&(n.onclick=Hn),n=!0):n=!1,n||_s(t,!0)}function zg(t){for(Bt=t.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:Bt=Bt.return}}function ga(t){if(t!==Bt)return!1;if(!Pe)return zg(t),Pe=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||md(t.type,t.memoizedProps)),a=!a),a&&nt&&_s(t),zg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));nt=h0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));nt=h0(t)}else n===27?(n=nt,Os(t.type)?(t=vd,vd=null,nt=t):nt=n):nt=Bt?Mn(t.stateNode.nextSibling):null;return!0}function Tr(){nt=Bt=null,Pe=!1}function $h(){var t=ys;return t!==null&&(ln===null?ln=t:ln.push.apply(ln,t),ys=null),t}function ko(t){ys===null?ys=[t]:ys.push(t)}var Zh=V(null),Sr=null,ki=null;function vs(t,n,a){oe(Zh,n._currentValue),n._currentValue=a}function ji(t){t._currentValue=Zh.current,X(Zh)}function Jh(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function Wh(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=h;for(var N=0;N<n.length;N++)if(b.context===n[N]){f.lanes|=a,b=f.alternate,b!==null&&(b.lanes|=a),Jh(f.return,a,t),o||(y=null);break e}f=b.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(r(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),Jh(y,a,t),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===t){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function pa(t,n,a,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var b=h.type;mn(h.pendingProps.value,y.value)||(t!==null?t.push(b):t=[b])}}else if(h===Le.current){if(y=h.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(ll):t=[ll])}h=h.return}t!==null&&Wh(n,t,a,o),n.flags|=262144}function Iu(t){for(t=t.firstContext;t!==null;){if(!mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ar(t){Sr=t,ki=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return Bg(Sr,t)}function Du(t,n){return Sr===null&&Ar(t),Bg(t,n)}function Bg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},ki===null){if(t===null)throw Error(r(308));ki=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ki=ki.next=n;return a}var db=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},mb=s.unstable_scheduleCallback,gb=s.unstable_NormalPriority,St={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ef(){return{controller:new db,data:new Map,refCount:0}}function jo(t){t.refCount--,t.refCount===0&&mb(gb,function(){t.controller.abort()})}var Po=null,tf=0,ya=0,_a=null;function pb(t,n){if(Po===null){var a=Po=[];tf=0,ya=rd(),_a={status:"pending",value:void 0,then:function(o){a.push(o)}}}return tf++,n.then(Hg,Hg),n}function Hg(){if(--tf===0&&Po!==null){_a!==null&&(_a.status="fulfilled");var t=Po;Po=null,ya=0,_a=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function yb(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var qg=G.S;G.S=function(t,n){xy=Wt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&pb(t,n),qg!==null&&qg(t,n)};var wr=V(null);function nf(){var t=wr.current;return t!==null?t:et.pooledCache}function Ou(t,n){n===null?oe(wr,wr.current):oe(wr,n.pool)}function Fg(){var t=nf();return t===null?null:{parent:St._currentValue,pool:t}}var va=Error(r(460)),sf=Error(r(474)),Mu=Error(r(542)),Vu={then:function(){}};function Gg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Qg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Hn,Hn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Yg(t),t;default:if(typeof n.status=="string")n.then(Hn,Hn);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Yg(t),t}throw Rr=n,va}}function xr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Rr=a,va):a}}var Rr=null;function Kg(){if(Rr===null)throw Error(r(459));var t=Rr;return Rr=null,t}function Yg(t){if(t===va||t===Mu)throw Error(r(483))}var Ea=null,Lo=0;function ku(t){var n=Lo;return Lo+=1,Ea===null&&(Ea=[]),Qg(Ea,t,n)}function Uo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function ju(t,n){throw n.$$typeof===I?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Xg(t){function n(k,O){if(t){var L=k.deletions;L===null?(k.deletions=[O],k.flags|=16):L.push(O)}}function a(k,O){if(!t)return null;for(;O!==null;)n(k,O),O=O.sibling;return null}function o(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=Mi(k,O),k.index=0,k.sibling=null,k}function f(k,O,L){return k.index=L,t?(L=k.alternate,L!==null?(L=L.index,L<O?(k.flags|=67108866,O):L):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function y(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function b(k,O,L,K){return O===null||O.tag!==6?(O=Gh(L,k.mode,K),O.return=k,O):(O=h(O,L),O.return=k,O)}function N(k,O,L,K){var pe=L.type;return pe===ne?Q(k,O,L.props.children,K,L.key):O!==null&&(O.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===S&&xr(pe)===O.type)?(O=h(O,L.props),Uo(O,L),O.return=k,O):(O=Cu(L.type,L.key,L.props,null,k.mode,K),Uo(O,L),O.return=k,O)}function U(k,O,L,K){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=Qh(L,k.mode,K),O.return=k,O):(O=h(O,L.children||[]),O.return=k,O)}function Q(k,O,L,K,pe){return O===null||O.tag!==7?(O=br(L,k.mode,K,pe),O.return=k,O):(O=h(O,L),O.return=k,O)}function Y(k,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Gh(""+O,k.mode,L),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case z:return L=Cu(O.type,O.key,O.props,null,k.mode,L),Uo(L,O),L.return=k,L;case te:return O=Qh(O,k.mode,L),O.return=k,O;case S:return O=xr(O),Y(k,O,L)}if(ft(O)||j(O))return O=br(O,k.mode,L,null),O.return=k,O;if(typeof O.then=="function")return Y(k,ku(O),L);if(O.$$typeof===se)return Y(k,Du(k,O),L);ju(k,O)}return null}function B(k,O,L,K){var pe=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return pe!==null?null:b(k,O,""+L,K);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case z:return L.key===pe?N(k,O,L,K):null;case te:return L.key===pe?U(k,O,L,K):null;case S:return L=xr(L),B(k,O,L,K)}if(ft(L)||j(L))return pe!==null?null:Q(k,O,L,K,null);if(typeof L.then=="function")return B(k,O,ku(L),K);if(L.$$typeof===se)return B(k,O,Du(k,L),K);ju(k,L)}return null}function F(k,O,L,K,pe){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(L)||null,b(O,k,""+K,pe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case z:return k=k.get(K.key===null?L:K.key)||null,N(O,k,K,pe);case te:return k=k.get(K.key===null?L:K.key)||null,U(O,k,K,pe);case S:return K=xr(K),F(k,O,L,K,pe)}if(ft(K)||j(K))return k=k.get(L)||null,Q(O,k,K,pe,null);if(typeof K.then=="function")return F(k,O,L,ku(K),pe);if(K.$$typeof===se)return F(k,O,L,Du(O,K),pe);ju(O,K)}return null}function he(k,O,L,K){for(var pe=null,ze=null,fe=O,Ce=O=0,Me=null;fe!==null&&Ce<L.length;Ce++){fe.index>Ce?(Me=fe,fe=null):Me=fe.sibling;var Be=B(k,fe,L[Ce],K);if(Be===null){fe===null&&(fe=Me);break}t&&fe&&Be.alternate===null&&n(k,fe),O=f(Be,O,Ce),ze===null?pe=Be:ze.sibling=Be,ze=Be,fe=Me}if(Ce===L.length)return a(k,fe),Pe&&Vi(k,Ce),pe;if(fe===null){for(;Ce<L.length;Ce++)fe=Y(k,L[Ce],K),fe!==null&&(O=f(fe,O,Ce),ze===null?pe=fe:ze.sibling=fe,ze=fe);return Pe&&Vi(k,Ce),pe}for(fe=o(fe);Ce<L.length;Ce++)Me=F(fe,k,Ce,L[Ce],K),Me!==null&&(t&&Me.alternate!==null&&fe.delete(Me.key===null?Ce:Me.key),O=f(Me,O,Ce),ze===null?pe=Me:ze.sibling=Me,ze=Me);return t&&fe.forEach(function(Ps){return n(k,Ps)}),Pe&&Vi(k,Ce),pe}function _e(k,O,L,K){if(L==null)throw Error(r(151));for(var pe=null,ze=null,fe=O,Ce=O=0,Me=null,Be=L.next();fe!==null&&!Be.done;Ce++,Be=L.next()){fe.index>Ce?(Me=fe,fe=null):Me=fe.sibling;var Ps=B(k,fe,Be.value,K);if(Ps===null){fe===null&&(fe=Me);break}t&&fe&&Ps.alternate===null&&n(k,fe),O=f(Ps,O,Ce),ze===null?pe=Ps:ze.sibling=Ps,ze=Ps,fe=Me}if(Be.done)return a(k,fe),Pe&&Vi(k,Ce),pe;if(fe===null){for(;!Be.done;Ce++,Be=L.next())Be=Y(k,Be.value,K),Be!==null&&(O=f(Be,O,Ce),ze===null?pe=Be:ze.sibling=Be,ze=Be);return Pe&&Vi(k,Ce),pe}for(fe=o(fe);!Be.done;Ce++,Be=L.next())Be=F(fe,k,Ce,Be.value,K),Be!==null&&(t&&Be.alternate!==null&&fe.delete(Be.key===null?Ce:Be.key),O=f(Be,O,Ce),ze===null?pe=Be:ze.sibling=Be,ze=Be);return t&&fe.forEach(function(CT){return n(k,CT)}),Pe&&Vi(k,Ce),pe}function We(k,O,L,K){if(typeof L=="object"&&L!==null&&L.type===ne&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case z:e:{for(var pe=L.key;O!==null;){if(O.key===pe){if(pe=L.type,pe===ne){if(O.tag===7){a(k,O.sibling),K=h(O,L.props.children),K.return=k,k=K;break e}}else if(O.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===S&&xr(pe)===O.type){a(k,O.sibling),K=h(O,L.props),Uo(K,L),K.return=k,k=K;break e}a(k,O);break}else n(k,O);O=O.sibling}L.type===ne?(K=br(L.props.children,k.mode,K,L.key),K.return=k,k=K):(K=Cu(L.type,L.key,L.props,null,k.mode,K),Uo(K,L),K.return=k,k=K)}return y(k);case te:e:{for(pe=L.key;O!==null;){if(O.key===pe)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){a(k,O.sibling),K=h(O,L.children||[]),K.return=k,k=K;break e}else{a(k,O);break}else n(k,O);O=O.sibling}K=Qh(L,k.mode,K),K.return=k,k=K}return y(k);case S:return L=xr(L),We(k,O,L,K)}if(ft(L))return he(k,O,L,K);if(j(L)){if(pe=j(L),typeof pe!="function")throw Error(r(150));return L=pe.call(L),_e(k,O,L,K)}if(typeof L.then=="function")return We(k,O,ku(L),K);if(L.$$typeof===se)return We(k,O,Du(k,L),K);ju(k,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(a(k,O.sibling),K=h(O,L),K.return=k,k=K):(a(k,O),K=Gh(L,k.mode,K),K.return=k,k=K),y(k)):a(k,O)}return function(k,O,L,K){try{Lo=0;var pe=We(k,O,L,K);return Ea=null,pe}catch(fe){if(fe===va||fe===Mu)throw fe;var ze=gn(29,fe,null,k.mode);return ze.lanes=K,ze.return=k,ze}finally{}}}var Cr=Xg(!0),$g=Xg(!1),Es=!1;function rf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function af(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function bs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ts(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(qe&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Ru(t),Mg(t,null,a),n}return xu(t,o,n,a),Ru(t)}function zo(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,fo(t,a)}}function of(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var lf=!1;function Bo(){if(lf){var t=_a;if(t!==null)throw t}}function Ho(t,n,a,o){lf=!1;var h=t.updateQueue;Es=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var N=b,U=N.next;N.next=null,y===null?f=U:y.next=U,y=N;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,b=Q.lastBaseUpdate,b!==y&&(b===null?Q.firstBaseUpdate=U:b.next=U,Q.lastBaseUpdate=N))}if(f!==null){var Y=h.baseState;y=0,Q=U=N=null,b=f;do{var B=b.lane&-536870913,F=B!==b.lane;if(F?(Oe&B)===B:(o&B)===B){B!==0&&B===ya&&(lf=!0),Q!==null&&(Q=Q.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var he=t,_e=b;B=n;var We=a;switch(_e.tag){case 1:if(he=_e.payload,typeof he=="function"){Y=he.call(We,Y,B);break e}Y=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=_e.payload,B=typeof he=="function"?he.call(We,Y,B):he,B==null)break e;Y=w({},Y,B);break e;case 2:Es=!0}}B=b.callback,B!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[B]:F.push(B))}else F={lane:B,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Q===null?(U=Q=F,N=Y):Q=Q.next=F,y|=B;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;F=b,b=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);Q===null&&(N=Y),h.baseState=N,h.firstBaseUpdate=U,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),Rs|=y,t.lanes=y,t.memoizedState=Y}}function Zg(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Jg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Zg(a[t],n)}var ba=V(null),Pu=V(0);function Wg(t,n){t=Gi,oe(Pu,t),oe(ba,n),Gi=t|n.baseLanes}function uf(){oe(Pu,Gi),oe(ba,ba.current)}function cf(){Gi=Pu.current,X(ba),X(Pu)}var pn=V(null),On=null;function Ss(t){var n=t.alternate;oe(gt,gt.current&1),oe(pn,t),On===null&&(n===null||ba.current!==null||n.memoizedState!==null)&&(On=t)}function hf(t){oe(gt,gt.current),oe(pn,t),On===null&&(On=t)}function ep(t){t.tag===22?(oe(gt,gt.current),oe(pn,t),On===null&&(On=t)):As()}function As(){oe(gt,gt.current),oe(pn,pn.current)}function yn(t){X(pn),On===t&&(On=null),X(gt)}var gt=V(0);function Lu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||yd(a)||_d(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Pi=0,xe=null,Ze=null,At=null,Uu=!1,Ta=!1,Nr=!1,zu=0,qo=0,Sa=null,_b=0;function ct(){throw Error(r(321))}function ff(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!mn(t[a],n[a]))return!1;return!0}function df(t,n,a,o,h,f){return Pi=f,xe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?Pp:Cf,Nr=!1,f=a(o,h),Nr=!1,Ta&&(f=np(n,a,o,h)),tp(t),f}function tp(t){G.H=Qo;var n=Ze!==null&&Ze.next!==null;if(Pi=0,At=Ze=xe=null,Uu=!1,qo=0,Sa=null,n)throw Error(r(300));t===null||wt||(t=t.dependencies,t!==null&&Iu(t)&&(wt=!0))}function np(t,n,a,o){xe=t;var h=0;do{if(Ta&&(Sa=null),qo=0,Ta=!1,25<=h)throw Error(r(301));if(h+=1,At=Ze=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Lp,f=n(a,o)}while(Ta);return f}function vb(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?Fo(n):n,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(xe.flags|=1024),n}function mf(){var t=zu!==0;return zu=0,t}function gf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function pf(t){if(Uu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Uu=!1}Pi=0,At=Ze=xe=null,Ta=!1,qo=zu=0,Sa=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?xe.memoizedState=At=t:At=At.next=t,At}function pt(){if(Ze===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var n=At===null?xe.memoizedState:At.next;if(n!==null)At=n,Ze=t;else{if(t===null)throw xe.alternate===null?Error(r(467)):Error(r(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},At===null?xe.memoizedState=At=t:At=At.next=t}return At}function Bu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fo(t){var n=qo;return qo+=1,Sa===null&&(Sa=[]),t=Qg(Sa,t,n),n=xe,(At===null?n.memoizedState:At.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Pp:Cf),t}function Hu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Fo(t);if(t.$$typeof===se)return Ht(t)}throw Error(r(438,String(t)))}function yf(t){var n=null,a=xe.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=xe.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Bu(),xe.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=M;return n.index++,a}function Li(t,n){return typeof n=="function"?n(t):n}function qu(t){var n=pt();return _f(n,Ze,t)}function _f(t,n,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var b=y=null,N=null,U=n,Q=!1;do{var Y=U.lane&-536870913;if(Y!==U.lane?(Oe&Y)===Y:(Pi&Y)===Y){var B=U.revertLane;if(B===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),Y===ya&&(Q=!0);else if((Pi&B)===B){U=U.next,B===ya&&(Q=!0);continue}else Y={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},N===null?(b=N=Y,y=f):N=N.next=Y,xe.lanes|=B,Rs|=B;Y=U.action,Nr&&a(f,Y),f=U.hasEagerState?U.eagerState:a(f,Y)}else B={lane:Y,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},N===null?(b=N=B,y=f):N=N.next=B,xe.lanes|=Y,Rs|=Y;U=U.next}while(U!==null&&U!==n);if(N===null?y=f:N.next=b,!mn(f,t.memoizedState)&&(wt=!0,Q&&(a=_a,a!==null)))throw a;t.memoizedState=f,t.baseState=y,t.baseQueue=N,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function vf(t){var n=pt(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do f=t(f,y.action),y=y.next;while(y!==h);mn(f,n.memoizedState)||(wt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function ip(t,n,a){var o=xe,h=pt(),f=Pe;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var y=!mn((Ze||h).memoizedState,a);if(y&&(h.memoizedState=a,wt=!0),h=h.queue,Tf(ap.bind(null,o,h,t),[t]),h.getSnapshot!==n||y||At!==null&&At.memoizedState.tag&1){if(o.flags|=2048,Aa(9,{destroy:void 0},rp.bind(null,o,h,a,n),null),et===null)throw Error(r(349));f||(Pi&127)!==0||sp(o,n,a)}return a}function sp(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=xe.updateQueue,n===null?(n=Bu(),xe.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function rp(t,n,a,o){n.value=a,n.getSnapshot=o,op(n)&&lp(t)}function ap(t,n,a){return a(function(){op(n)&&lp(t)})}function op(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!mn(t,a)}catch{return!0}}function lp(t){var n=Er(t,2);n!==null&&un(n,t,2)}function Ef(t){var n=tn();if(typeof t=="function"){var a=t;if(t=a(),Nr){Tn(!0);try{a()}finally{Tn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:t},n}function up(t,n,a,o){return t.baseState=a,_f(t,Ze,typeof o=="function"?o:Li)}function Eb(t,n,a,o,h){if(Qu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};G.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,cp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function cp(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=G.T,y={};G.T=y;try{var b=a(h,o),N=G.S;N!==null&&N(y,b),hp(t,n,b)}catch(U){bf(t,n,U)}finally{f!==null&&y.types!==null&&(f.types=y.types),G.T=f}}else try{f=a(h,o),hp(t,n,f)}catch(U){bf(t,n,U)}}function hp(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){fp(t,n,o)},function(o){return bf(t,n,o)}):fp(t,n,a)}function fp(t,n,a){n.status="fulfilled",n.value=a,dp(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,cp(t,a)))}function bf(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,dp(n),n=n.next;while(n!==o)}t.action=null}function dp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function mp(t,n){return n}function gp(t,n){if(Pe){var a=et.formState;if(a!==null){e:{var o=xe;if(Pe){if(nt){t:{for(var h=nt,f=Dn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Mn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){nt=Mn(h.nextSibling),o=h.data==="F!";break e}}_s(o)}o=!1}o&&(n=a[0])}}return a=tn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mp,lastRenderedState:n},a.queue=o,a=Vp.bind(null,xe,o),o.dispatch=a,o=Ef(!1),f=Rf.bind(null,xe,!1,o.queue),o=tn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=Eb.bind(null,xe,h,f,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function pp(t){var n=pt();return yp(n,Ze,t)}function yp(t,n,a){if(n=_f(t,n,mp)[0],t=qu(Li)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Fo(n)}catch(y){throw y===va?Mu:y}else o=n;n=pt();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(xe.flags|=2048,Aa(9,{destroy:void 0},bb.bind(null,h,a),null)),[o,f,t]}function bb(t,n){t.action=n}function _p(t){var n=pt(),a=Ze;if(a!==null)return yp(n,a,t);pt(),n=n.memoizedState,a=pt();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function Aa(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=xe.updateQueue,n===null&&(n=Bu(),xe.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function vp(){return pt().memoizedState}function Fu(t,n,a,o){var h=tn();xe.flags|=t,h.memoizedState=Aa(1|n,{destroy:void 0},a,o===void 0?null:o)}function Gu(t,n,a,o){var h=pt();o=o===void 0?null:o;var f=h.memoizedState.inst;Ze!==null&&o!==null&&ff(o,Ze.memoizedState.deps)?h.memoizedState=Aa(n,f,a,o):(xe.flags|=t,h.memoizedState=Aa(1|n,f,a,o))}function Ep(t,n){Fu(8390656,8,t,n)}function Tf(t,n){Gu(2048,8,t,n)}function Tb(t){xe.flags|=4;var n=xe.updateQueue;if(n===null)n=Bu(),xe.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function bp(t){var n=pt().memoizedState;return Tb({ref:n,nextImpl:t}),function(){if((qe&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Tp(t,n){return Gu(4,2,t,n)}function Sp(t,n){return Gu(4,4,t,n)}function Ap(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function wp(t,n,a){a=a!=null?a.concat([t]):null,Gu(4,4,Ap.bind(null,n,t),a)}function Sf(){}function xp(t,n){var a=pt();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&ff(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function Rp(t,n){var a=pt();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&ff(n,o[1]))return o[0];if(o=t(),Nr){Tn(!0);try{t()}finally{Tn(!1)}}return a.memoizedState=[o,n],o}function Af(t,n,a){return a===void 0||(Pi&1073741824)!==0&&(Oe&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Cy(),xe.lanes|=t,Rs|=t,a)}function Cp(t,n,a,o){return mn(a,n)?a:ba.current!==null?(t=Af(t,a,o),mn(t,n)||(wt=!0),t):(Pi&42)===0||(Pi&1073741824)!==0&&(Oe&261930)===0?(wt=!0,t.memoizedState=a):(t=Cy(),xe.lanes|=t,Rs|=t,n)}function Np(t,n,a,o,h){var f=ie.p;ie.p=f!==0&&8>f?f:8;var y=G.T,b={};G.T=b,Rf(t,!1,n,a);try{var N=h(),U=G.S;if(U!==null&&U(b,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Q=yb(N,o);Go(t,n,Q,En(t))}else Go(t,n,o,En(t))}catch(Y){Go(t,n,{then:function(){},status:"rejected",reason:Y},En())}finally{ie.p=f,y!==null&&b.types!==null&&(y.types=b.types),G.T=y}}function Sb(){}function wf(t,n,a,o){if(t.tag!==5)throw Error(r(476));var h=Ip(t).queue;Np(t,h,n,de,a===null?Sb:function(){return Dp(t),a(o)})}function Ip(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:de},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Dp(t){var n=Ip(t);n.next===null&&(n=t.alternate.memoizedState),Go(t,n.next.queue,{},En())}function xf(){return Ht(ll)}function Op(){return pt().memoizedState}function Mp(){return pt().memoizedState}function Ab(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=En();t=bs(a);var o=Ts(n,t,a);o!==null&&(un(o,n,a),zo(o,n,a)),n={cache:ef()},t.payload=n;return}n=n.return}}function wb(t,n,a){var o=En();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Qu(t)?kp(n,a):(a=qh(t,n,a,o),a!==null&&(un(a,t,o),jp(a,n,o)))}function Vp(t,n,a){var o=En();Go(t,n,a,o)}function Go(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Qu(t))kp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,b=f(y,a);if(h.hasEagerState=!0,h.eagerState=b,mn(b,y))return xu(t,n,h,0),et===null&&wu(),!1}catch{}finally{}if(a=qh(t,n,h,o),a!==null)return un(a,t,o),jp(a,n,o),!0}return!1}function Rf(t,n,a,o){if(o={lane:2,revertLane:rd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Qu(t)){if(n)throw Error(r(479))}else n=qh(t,a,o,2),n!==null&&un(n,t,2)}function Qu(t){var n=t.alternate;return t===xe||n!==null&&n===xe}function kp(t,n){Ta=Uu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function jp(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,fo(t,a)}}var Qo={readContext:Ht,use:Hu,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};Qo.useEffectEvent=ct;var Pp={readContext:Ht,use:Hu,useCallback:function(t,n){return tn().memoizedState=[t,n===void 0?null:n],t},useContext:Ht,useEffect:Ep,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Fu(4194308,4,Ap.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Fu(4194308,4,t,n)},useInsertionEffect:function(t,n){Fu(4,2,t,n)},useMemo:function(t,n){var a=tn();n=n===void 0?null:n;var o=t();if(Nr){Tn(!0);try{t()}finally{Tn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=tn();if(a!==void 0){var h=a(n);if(Nr){Tn(!0);try{a(n)}finally{Tn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=wb.bind(null,xe,t),[o.memoizedState,t]},useRef:function(t){var n=tn();return t={current:t},n.memoizedState=t},useState:function(t){t=Ef(t);var n=t.queue,a=Vp.bind(null,xe,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Sf,useDeferredValue:function(t,n){var a=tn();return Af(a,t,n)},useTransition:function(){var t=Ef(!1);return t=Np.bind(null,xe,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=xe,h=tn();if(Pe){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),et===null)throw Error(r(349));(Oe&127)!==0||sp(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Ep(ap.bind(null,o,f,t),[t]),o.flags|=2048,Aa(9,{destroy:void 0},rp.bind(null,o,f,a,n),null),a},useId:function(){var t=tn(),n=et.identifierPrefix;if(Pe){var a=_i,o=yi;a=(o&~(1<<32-dt(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=zu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=_b++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:xf,useFormState:gp,useActionState:gp,useOptimistic:function(t){var n=tn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Rf.bind(null,xe,!0,a),a.dispatch=n,[t,n]},useMemoCache:yf,useCacheRefresh:function(){return tn().memoizedState=Ab.bind(null,xe)},useEffectEvent:function(t){var n=tn(),a={impl:t};return n.memoizedState=a,function(){if((qe&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Cf={readContext:Ht,use:Hu,useCallback:xp,useContext:Ht,useEffect:Tf,useImperativeHandle:wp,useInsertionEffect:Tp,useLayoutEffect:Sp,useMemo:Rp,useReducer:qu,useRef:vp,useState:function(){return qu(Li)},useDebugValue:Sf,useDeferredValue:function(t,n){var a=pt();return Cp(a,Ze.memoizedState,t,n)},useTransition:function(){var t=qu(Li)[0],n=pt().memoizedState;return[typeof t=="boolean"?t:Fo(t),n]},useSyncExternalStore:ip,useId:Op,useHostTransitionStatus:xf,useFormState:pp,useActionState:pp,useOptimistic:function(t,n){var a=pt();return up(a,Ze,t,n)},useMemoCache:yf,useCacheRefresh:Mp};Cf.useEffectEvent=bp;var Lp={readContext:Ht,use:Hu,useCallback:xp,useContext:Ht,useEffect:Tf,useImperativeHandle:wp,useInsertionEffect:Tp,useLayoutEffect:Sp,useMemo:Rp,useReducer:vf,useRef:vp,useState:function(){return vf(Li)},useDebugValue:Sf,useDeferredValue:function(t,n){var a=pt();return Ze===null?Af(a,t,n):Cp(a,Ze.memoizedState,t,n)},useTransition:function(){var t=vf(Li)[0],n=pt().memoizedState;return[typeof t=="boolean"?t:Fo(t),n]},useSyncExternalStore:ip,useId:Op,useHostTransitionStatus:xf,useFormState:_p,useActionState:_p,useOptimistic:function(t,n){var a=pt();return Ze!==null?up(a,Ze,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:yf,useCacheRefresh:Mp};Lp.useEffectEvent=bp;function Nf(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:w({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var If={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=En(),h=bs(o);h.payload=n,a!=null&&(h.callback=a),n=Ts(t,h,o),n!==null&&(un(n,t,o),zo(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=En(),h=bs(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Ts(t,h,o),n!==null&&(un(n,t,o),zo(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=En(),o=bs(a);o.tag=2,n!=null&&(o.callback=n),n=Ts(t,o,a),n!==null&&(un(n,t,a),zo(n,t,a))}};function Up(t,n,a,o,h,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,y):n.prototype&&n.prototype.isPureReactComponent?!Oo(a,o)||!Oo(h,f):!0}function zp(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&If.enqueueReplaceState(n,n.state,null)}function Ir(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=w({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Bp(t){Au(t)}function Hp(t){console.error(t)}function qp(t){Au(t)}function Ku(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Fp(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Df(t,n,a){return a=bs(a),a.tag=3,a.payload={element:null},a.callback=function(){Ku(t,n)},a}function Gp(t){return t=bs(t),t.tag=3,t}function Qp(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){Fp(n,a,o)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Fp(n,a,o),typeof h!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})})}function xb(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&pa(n,a,h,!0),a=pn.current,a!==null){switch(a.tag){case 31:case 13:return On===null?rc():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Vu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),nd(t,o,h)),!1;case 22:return a.flags|=65536,o===Vu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),nd(t,o,h)),!1}throw Error(r(435,a.tag))}return nd(t,o,h),rc(),!1}if(Pe)return n=pn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Xh&&(t=Error(r(422),{cause:o}),ko(Cn(t,a)))):(o!==Xh&&(n=Error(r(423),{cause:o}),ko(Cn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Cn(o,a),h=Df(t.stateNode,o,h),of(t,h),ht!==4&&(ht=2)),!1;var f=Error(r(520),{cause:o});if(f=Cn(f,a),el===null?el=[f]:el.push(f),ht!==4&&(ht=2),n===null)return!0;o=Cn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Df(a.stateNode,o,t),of(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Cs===null||!Cs.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Gp(h),Qp(h,t,a,o),of(a,h),!1}a=a.return}while(a!==null);return!1}var Of=Error(r(461)),wt=!1;function qt(t,n,a,o){n.child=t===null?$g(n,null,a,o):Cr(n,t.child,a,o)}function Kp(t,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var y={};for(var b in o)b!=="ref"&&(y[b]=o[b])}else y=o;return Ar(n),o=df(t,n,a,y,f,h),b=mf(),t!==null&&!wt?(gf(t,n,h),Ui(t,n,h)):(Pe&&b&&Kh(n),n.flags|=1,qt(t,n,o,h),n.child)}function Yp(t,n,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!Fh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Xp(t,n,f,o,h)):(t=Cu(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!zf(t,h)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:Oo,a(y,o)&&t.ref===n.ref)return Ui(t,n,h)}return n.flags|=1,t=Mi(f,o),t.ref=n.ref,t.return=n,n.child=t}function Xp(t,n,a,o,h){if(t!==null){var f=t.memoizedProps;if(Oo(f,o)&&t.ref===n.ref)if(wt=!1,n.pendingProps=o=f,zf(t,h))(t.flags&131072)!==0&&(wt=!0);else return n.lanes=t.lanes,Ui(t,n,h)}return Mf(t,n,a,o,h)}function $p(t,n,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Zp(t,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ou(n,f!==null?f.cachePool:null),f!==null?Wg(n,f):uf(),ep(n);else return o=n.lanes=536870912,Zp(t,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Ou(n,f.cachePool),Wg(n,f),As(),n.memoizedState=null):(t!==null&&Ou(n,null),uf(),As());return qt(t,n,h,a),n.child}function Ko(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Zp(t,n,a,o,h){var f=nf();return f=f===null?null:{parent:St._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Ou(n,null),uf(),ep(n),t!==null&&pa(t,n,o,!0),n.childLanes=h,null}function Yu(t,n){return n=$u({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Jp(t,n,a){return Cr(n,t.child,null,a),t=Yu(n,n.pendingProps),t.flags|=2,yn(n),n.memoizedState=null,t}function Rb(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Pe){if(o.mode==="hidden")return t=Yu(n,o),n.lanes=536870912,Ko(null,t);if(hf(n),(t=nt)?(t=c0(t,Dn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ps!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},a=kg(t),a.return=n,n.child=a,Bt=n,nt=null)):t=null,t===null)throw _s(n);return n.lanes=536870912,null}return Yu(n,o)}var f=t.memoizedState;if(f!==null){var y=f.dehydrated;if(hf(n),h)if(n.flags&256)n.flags&=-257,n=Jp(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(wt||pa(t,n,a,!1),h=(a&t.childLanes)!==0,wt||h){if(o=et,o!==null&&(y=mo(o,a),y!==0&&y!==f.retryLane))throw f.retryLane=y,Er(t,y),un(o,t,y),Of;rc(),n=Jp(t,n,a)}else t=f.treeContext,nt=Mn(y.nextSibling),Bt=n,Pe=!0,ys=null,Dn=!1,t!==null&&Lg(n,t),n=Yu(n,o),n.flags|=4096;return n}return t=Mi(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Xu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Mf(t,n,a,o,h){return Ar(n),a=df(t,n,a,o,void 0,h),o=mf(),t!==null&&!wt?(gf(t,n,h),Ui(t,n,h)):(Pe&&o&&Kh(n),n.flags|=1,qt(t,n,a,h),n.child)}function Wp(t,n,a,o,h,f){return Ar(n),n.updateQueue=null,a=np(n,o,a,h),tp(t),o=mf(),t!==null&&!wt?(gf(t,n,f),Ui(t,n,f)):(Pe&&o&&Kh(n),n.flags|=1,qt(t,n,a,f),n.child)}function ey(t,n,a,o,h){if(Ar(n),n.stateNode===null){var f=fa,y=a.contextType;typeof y=="object"&&y!==null&&(f=Ht(y)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=If,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},rf(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?Ht(y):fa,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Nf(n,a,y,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&If.enqueueReplaceState(f,f.state,null),Ho(n,o,f,h),Bo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var b=n.memoizedProps,N=Ir(a,b);f.props=N;var U=f.context,Q=a.contextType;y=fa,typeof Q=="object"&&Q!==null&&(y=Ht(Q));var Y=a.getDerivedStateFromProps;Q=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=n.pendingProps!==b,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||U!==y)&&zp(n,f,o,y),Es=!1;var B=n.memoizedState;f.state=B,Ho(n,o,f,h),Bo(),U=n.memoizedState,b||B!==U||Es?(typeof Y=="function"&&(Nf(n,a,Y,o),U=n.memoizedState),(N=Es||Up(n,a,N,o,B,U,y))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=U),f.props=o,f.state=U,f.context=y,o=N):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,af(t,n),y=n.memoizedProps,Q=Ir(a,y),f.props=Q,Y=n.pendingProps,B=f.context,U=a.contextType,N=fa,typeof U=="object"&&U!==null&&(N=Ht(U)),b=a.getDerivedStateFromProps,(U=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Y||B!==N)&&zp(n,f,o,N),Es=!1,B=n.memoizedState,f.state=B,Ho(n,o,f,h),Bo();var F=n.memoizedState;y!==Y||B!==F||Es||t!==null&&t.dependencies!==null&&Iu(t.dependencies)?(typeof b=="function"&&(Nf(n,a,b,o),F=n.memoizedState),(Q=Es||Up(n,a,Q,o,B,F,N)||t!==null&&t.dependencies!==null&&Iu(t.dependencies))?(U||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,F,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,F,N)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=F),f.props=o,f.state=F,f.context=N,o=Q):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,Xu(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Cr(n,t.child,null,h),n.child=Cr(n,null,a,h)):qt(t,n,a,h),n.memoizedState=f.state,t=n.child):t=Ui(t,n,h),t}function ty(t,n,a,o){return Tr(),n.flags|=256,qt(t,n,a,o),n.child}var Vf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kf(t){return{baseLanes:t,cachePool:Fg()}}function jf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=vn),t}function ny(t,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(gt.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Pe){if(h?Ss(n):As(),(t=nt)?(t=c0(t,Dn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ps!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},a=kg(t),a.return=n,n.child=a,Bt=n,nt=null)):t=null,t===null)throw _s(n);return _d(t)?n.lanes=32:n.lanes=536870912,null}var b=o.children;return o=o.fallback,h?(As(),h=n.mode,b=$u({mode:"hidden",children:b},h),o=br(o,h,a,null),b.return=n,o.return=n,b.sibling=o,n.child=b,o=n.child,o.memoizedState=kf(a),o.childLanes=jf(t,y,a),n.memoizedState=Vf,Ko(null,o)):(Ss(n),Pf(n,b))}var N=t.memoizedState;if(N!==null&&(b=N.dehydrated,b!==null)){if(f)n.flags&256?(Ss(n),n.flags&=-257,n=Lf(t,n,a)):n.memoizedState!==null?(As(),n.child=t.child,n.flags|=128,n=null):(As(),b=o.fallback,h=n.mode,o=$u({mode:"visible",children:o.children},h),b=br(b,h,a,null),b.flags|=2,o.return=n,b.return=n,o.sibling=b,n.child=o,Cr(n,t.child,null,a),o=n.child,o.memoizedState=kf(a),o.childLanes=jf(t,y,a),n.memoizedState=Vf,n=Ko(null,o));else if(Ss(n),_d(b)){if(y=b.nextSibling&&b.nextSibling.dataset,y)var U=y.dgst;y=U,o=Error(r(419)),o.stack="",o.digest=y,ko({value:o,source:null,stack:null}),n=Lf(t,n,a)}else if(wt||pa(t,n,a,!1),y=(a&t.childLanes)!==0,wt||y){if(y=et,y!==null&&(o=mo(y,a),o!==0&&o!==N.retryLane))throw N.retryLane=o,Er(t,o),un(y,t,o),Of;yd(b)||rc(),n=Lf(t,n,a)}else yd(b)?(n.flags|=192,n.child=t.child,n=null):(t=N.treeContext,nt=Mn(b.nextSibling),Bt=n,Pe=!0,ys=null,Dn=!1,t!==null&&Lg(n,t),n=Pf(n,o.children),n.flags|=4096);return n}return h?(As(),b=o.fallback,h=n.mode,N=t.child,U=N.sibling,o=Mi(N,{mode:"hidden",children:o.children}),o.subtreeFlags=N.subtreeFlags&65011712,U!==null?b=Mi(U,b):(b=br(b,h,a,null),b.flags|=2),b.return=n,o.return=n,o.sibling=b,n.child=o,Ko(null,o),o=n.child,b=t.child.memoizedState,b===null?b=kf(a):(h=b.cachePool,h!==null?(N=St._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=Fg(),b={baseLanes:b.baseLanes|a,cachePool:h}),o.memoizedState=b,o.childLanes=jf(t,y,a),n.memoizedState=Vf,Ko(t.child,o)):(Ss(n),a=t.child,t=a.sibling,a=Mi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function Pf(t,n){return n=$u({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function $u(t,n){return t=gn(22,t,null,n),t.lanes=0,t}function Lf(t,n,a){return Cr(n,t.child,null,a),t=Pf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function iy(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),Jh(t.return,n,a)}function Uf(t,n,a,o,h,f){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=a,y.tailMode=h,y.treeForkCount=f)}function sy(t,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var y=gt.current,b=(y&2)!==0;if(b?(y=y&1|2,n.flags|=128):y&=1,oe(gt,y),qt(t,n,o,a),o=Pe?Vo:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&iy(t,a,n);else if(t.tag===19)iy(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Lu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Uf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Lu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Uf(n,!0,a,null,f,o);break;case"together":Uf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Ui(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Rs|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(pa(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Mi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Mi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function zf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Iu(t)))}function Cb(t,n,a){switch(n.tag){case 3:Nt(n,n.stateNode.containerInfo),vs(n,St,t.memoizedState.cache),Tr();break;case 27:case 5:nr(n);break;case 4:Nt(n,n.stateNode.containerInfo);break;case 10:vs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,hf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ss(n),n.flags|=128,null):(a&n.child.childLanes)!==0?ny(t,n,a):(Ss(n),t=Ui(t,n,a),t!==null?t.sibling:null);Ss(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(pa(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return sy(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),oe(gt,gt.current),o)break;return null;case 22:return n.lanes=0,$p(t,n,a,n.pendingProps);case 24:vs(n,St,t.memoizedState.cache)}return Ui(t,n,a)}function ry(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)wt=!0;else{if(!zf(t,a)&&(n.flags&128)===0)return wt=!1,Cb(t,n,a);wt=(t.flags&131072)!==0}else wt=!1,Pe&&(n.flags&1048576)!==0&&Pg(n,Vo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=xr(n.elementType),n.type=t,typeof t=="function")Fh(t)?(o=Ir(t,o),n.tag=1,n=ey(null,n,t,o,a)):(n.tag=0,n=Mf(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===H){n.tag=11,n=Kp(null,n,t,o,a);break e}else if(h===x){n.tag=14,n=Yp(null,n,t,o,a);break e}}throw n=tt(t)||t,Error(r(306,n,""))}}return n;case 0:return Mf(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Ir(o,n.pendingProps),ey(t,n,o,h,a);case 3:e:{if(Nt(n,n.stateNode.containerInfo),t===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,af(t,n),Ho(n,o,null,a);var y=n.memoizedState;if(o=y.cache,vs(n,St,o),o!==f.cache&&Wh(n,[St],a,!0),Bo(),o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ty(t,n,o,a);break e}else if(o!==h){h=Cn(Error(r(424)),n),ko(h),n=ty(t,n,o,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(nt=Mn(t.firstChild),Bt=n,Pe=!0,ys=null,Dn=!0,a=$g(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Tr(),o===h){n=Ui(t,n,a);break e}qt(t,n,o,a)}n=n.child}return n;case 26:return Xu(t,n),t===null?(a=p0(n.type,null,n.pendingProps,null))?n.memoizedState=a:Pe||(a=n.type,t=n.pendingProps,o=fc(Re.current).createElement(a),o[Et]=n,o[Vt]=t,Ft(o,a,t),bt(o),n.stateNode=o):n.memoizedState=p0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return nr(n),t===null&&Pe&&(o=n.stateNode=d0(n.type,n.pendingProps,Re.current),Bt=n,Dn=!0,h=nt,Os(n.type)?(vd=h,nt=Mn(o.firstChild)):nt=h),qt(t,n,n.pendingProps.children,a),Xu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Pe&&((h=o=nt)&&(o=sT(o,n.type,n.pendingProps,Dn),o!==null?(n.stateNode=o,Bt=n,nt=Mn(o.firstChild),Dn=!1,h=!0):h=!1),h||_s(n)),nr(n),h=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,o=f.children,md(h,f)?o=null:y!==null&&md(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=df(t,n,vb,null,null,a),ll._currentValue=h),Xu(t,n),qt(t,n,o,a),n.child;case 6:return t===null&&Pe&&((t=a=nt)&&(a=rT(a,n.pendingProps,Dn),a!==null?(n.stateNode=a,Bt=n,nt=null,t=!0):t=!1),t||_s(n)),null;case 13:return ny(t,n,a);case 4:return Nt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Cr(n,null,o,a):qt(t,n,o,a),n.child;case 11:return Kp(t,n,n.type,n.pendingProps,a);case 7:return qt(t,n,n.pendingProps,a),n.child;case 8:return qt(t,n,n.pendingProps.children,a),n.child;case 12:return qt(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,vs(n,n.type,o.value),qt(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Ar(n),h=Ht(h),o=o(h),n.flags|=1,qt(t,n,o,a),n.child;case 14:return Yp(t,n,n.type,n.pendingProps,a);case 15:return Xp(t,n,n.type,n.pendingProps,a);case 19:return sy(t,n,a);case 31:return Rb(t,n,a);case 22:return $p(t,n,a,n.pendingProps);case 24:return Ar(n),o=Ht(St),t===null?(h=nf(),h===null&&(h=et,f=ef(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},rf(n),vs(n,St,h)):((t.lanes&a)!==0&&(af(t,n),Ho(n,null,null,a),Bo()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),vs(n,St,o)):(o=f.cache,vs(n,St,o),o!==h.cache&&Wh(n,[St],a,!0))),qt(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function zi(t){t.flags|=4}function Bf(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Oy())t.flags|=8192;else throw Rr=Vu,sf}else t.flags&=-16777217}function ay(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!b0(n))if(Oy())t.flags|=8192;else throw Rr=Vu,sf}function Zu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?iu():536870912,t.lanes|=n,Ca|=n)}function Yo(t,n){if(!Pe)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function it(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function Nb(t,n,a){var o=n.pendingProps;switch(Yh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(n),null;case 1:return it(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ji(St),rt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ga(n)?zi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,$h())),it(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(zi(n),f!==null?(it(n),ay(n,f)):(it(n),Bf(n,h,null,o,a))):f?f!==t.memoizedState?(zi(n),it(n),ay(n,f)):(it(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&zi(n),it(n),Bf(n,h,t,o,a)),null;case 27:if(Kr(n),a=Re.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&zi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return it(n),null}t=ce.current,ga(n)?Ug(n):(t=d0(h,o,a),n.stateNode=t,zi(n))}return it(n),null;case 5:if(Kr(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&zi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return it(n),null}if(f=ce.current,ga(n))Ug(n);else{var y=fc(Re.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?y.createElement(h,{is:o.is}):y.createElement(h)}}f[Et]=n,f[Vt]=o;e:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;e:switch(Ft(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&zi(n)}}return it(n),Bf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&zi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(t=Re.current,ga(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=Bt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Et]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||n0(t.nodeValue,a)),t||_s(n,!0)}else t=fc(t).createTextNode(o),t[Et]=n,n.stateNode=t}return it(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=ga(n),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Et]=n}else Tr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;it(n),t=!1}else a=$h(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(yn(n),n):(yn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return it(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ga(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Et]=n}else Tr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;it(n),h=!1}else h=$h(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(yn(n),n):(yn(n),null)}return yn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),Zu(n,n.updateQueue),it(n),null);case 4:return rt(),t===null&&ud(n.stateNode.containerInfo),it(n),null;case 10:return ji(n.type),it(n),null;case 19:if(X(gt),o=n.memoizedState,o===null)return it(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Yo(o,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Lu(t),f!==null){for(n.flags|=128,Yo(o,!1),t=f.updateQueue,n.updateQueue=t,Zu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Vg(a,t),a=a.sibling;return oe(gt,gt.current&1|2),Pe&&Vi(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Wt()>nc&&(n.flags|=128,h=!0,Yo(o,!1),n.lanes=4194304)}else{if(!h)if(t=Lu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Zu(n,t),Yo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Pe)return it(n),null}else 2*Wt()-o.renderingStartTime>nc&&a!==536870912&&(n.flags|=128,h=!0,Yo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Wt(),t.sibling=null,a=gt.current,oe(gt,h?a&1|2:a&1),Pe&&Vi(n,o.treeForkCount),t):(it(n),null);case 22:case 23:return yn(n),cf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(it(n),n.subtreeFlags&6&&(n.flags|=8192)):it(n),a=n.updateQueue,a!==null&&Zu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&X(wr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ji(St),it(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function Ib(t,n){switch(Yh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ji(St),rt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Kr(n),null;case 31:if(n.memoizedState!==null){if(yn(n),n.alternate===null)throw Error(r(340));Tr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(yn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Tr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return X(gt),null;case 4:return rt(),null;case 10:return ji(n.type),null;case 22:case 23:return yn(n),cf(),t!==null&&X(wr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ji(St),null;case 25:return null;default:return null}}function oy(t,n){switch(Yh(n),n.tag){case 3:ji(St),rt();break;case 26:case 27:case 5:Kr(n);break;case 4:rt();break;case 31:n.memoizedState!==null&&yn(n);break;case 13:yn(n);break;case 19:X(gt);break;case 10:ji(n.type);break;case 22:case 23:yn(n),cf(),t!==null&&X(wr);break;case 24:ji(St)}}function Xo(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,y=a.inst;o=f(),y.destroy=o}a=a.next}while(a!==h)}}catch(b){Xe(n,n.return,b)}}function ws(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var y=o.inst,b=y.destroy;if(b!==void 0){y.destroy=void 0,h=n;var N=a,U=b;try{U()}catch(Q){Xe(h,N,Q)}}}o=o.next}while(o!==f)}}catch(Q){Xe(n,n.return,Q)}}function ly(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Jg(n,a)}catch(o){Xe(t,t.return,o)}}}function uy(t,n,a){a.props=Ir(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Xe(t,n,o)}}function $o(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){Xe(t,n,h)}}function vi(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Xe(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Xe(t,n,h)}else a.current=null}function cy(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Xe(t,t.return,h)}}function Hf(t,n,a){try{var o=t.stateNode;Jb(o,t.type,a,n),o[Vt]=n}catch(h){Xe(t,t.return,h)}}function hy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Os(t.type)||t.tag===4}function qf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Os(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ff(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Hn));else if(o!==4&&(o===27&&Os(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Ff(t,n,a),t=t.sibling;t!==null;)Ff(t,n,a),t=t.sibling}function Ju(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&Os(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Ju(t,n,a),t=t.sibling;t!==null;)Ju(t,n,a),t=t.sibling}function fy(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ft(n,o,a),n[Et]=t,n[Vt]=a}catch(f){Xe(t,t.return,f)}}var Bi=!1,xt=!1,Gf=!1,dy=typeof WeakSet=="function"?WeakSet:Set,jt=null;function Db(t,n){if(t=t.containerInfo,fd=vc,t=wg(t),Ph(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var y=0,b=-1,N=-1,U=0,Q=0,Y=t,B=null;t:for(;;){for(var F;Y!==a||h!==0&&Y.nodeType!==3||(b=y+h),Y!==f||o!==0&&Y.nodeType!==3||(N=y+o),Y.nodeType===3&&(y+=Y.nodeValue.length),(F=Y.firstChild)!==null;)B=Y,Y=F;for(;;){if(Y===t)break t;if(B===a&&++U===h&&(b=y),B===f&&++Q===o&&(N=y),(F=Y.nextSibling)!==null)break;Y=B,B=Y.parentNode}Y=F}a=b===-1||N===-1?null:{start:b,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(dd={focusedElem:t,selectionRange:a},vc=!1,jt=n;jt!==null;)if(n=jt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,jt=t;else for(;jt!==null;){switch(n=jt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var he=Ir(a.type,h);t=o.getSnapshotBeforeUpdate(he,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Xe(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)pd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":pd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,jt=t;break}jt=n.return}}function my(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:qi(t,a),o&4&&Xo(5,a);break;case 1:if(qi(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(y){Xe(a,a.return,y)}else{var h=Ir(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Xe(a,a.return,y)}}o&64&&ly(a),o&512&&$o(a,a.return);break;case 3:if(qi(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Jg(t,n)}catch(y){Xe(a,a.return,y)}}break;case 27:n===null&&o&4&&fy(a);case 26:case 5:qi(t,a),n===null&&o&4&&cy(a),o&512&&$o(a,a.return);break;case 12:qi(t,a);break;case 31:qi(t,a),o&4&&yy(t,a);break;case 13:qi(t,a),o&4&&_y(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=zb.bind(null,a),aT(t,a))));break;case 22:if(o=a.memoizedState!==null||Bi,!o){n=n!==null&&n.memoizedState!==null||xt,h=Bi;var f=xt;Bi=o,(xt=n)&&!f?Fi(t,a,(a.subtreeFlags&8772)!==0):qi(t,a),Bi=h,xt=f}break;case 30:break;default:qi(t,a)}}function gy(t){var n=t.alternate;n!==null&&(t.alternate=null,gy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Jr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,rn=!1;function Hi(t,n,a){for(a=a.child;a!==null;)py(t,n,a),a=a.sibling}function py(t,n,a){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(Ln,a)}catch{}switch(a.tag){case 26:xt||vi(a,n),Hi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:xt||vi(a,n);var o=ot,h=rn;Os(a.type)&&(ot=a.stateNode,rn=!1),Hi(t,n,a),rl(a.stateNode),ot=o,rn=h;break;case 5:xt||vi(a,n);case 6:if(o=ot,h=rn,ot=null,Hi(t,n,a),ot=o,rn=h,ot!==null)if(rn)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(f){Xe(a,n,f)}else try{ot.removeChild(a.stateNode)}catch(f){Xe(a,n,f)}break;case 18:ot!==null&&(rn?(t=ot,l0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ja(t)):l0(ot,a.stateNode));break;case 4:o=ot,h=rn,ot=a.stateNode.containerInfo,rn=!0,Hi(t,n,a),ot=o,rn=h;break;case 0:case 11:case 14:case 15:ws(2,a,n),xt||ws(4,a,n),Hi(t,n,a);break;case 1:xt||(vi(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&uy(a,n,o)),Hi(t,n,a);break;case 21:Hi(t,n,a);break;case 22:xt=(o=xt)||a.memoizedState!==null,Hi(t,n,a),xt=o;break;default:Hi(t,n,a)}}function yy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ja(t)}catch(a){Xe(n,n.return,a)}}}function _y(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ja(t)}catch(a){Xe(n,n.return,a)}}function Ob(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new dy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new dy),n;default:throw Error(r(435,t.tag))}}function Wu(t,n){var a=Ob(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=Bb.bind(null,t,o);o.then(h,h)}})}function an(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,y=n,b=y;e:for(;b!==null;){switch(b.tag){case 27:if(Os(b.type)){ot=b.stateNode,rn=!1;break e}break;case 5:ot=b.stateNode,rn=!1;break e;case 3:case 4:ot=b.stateNode.containerInfo,rn=!0;break e}b=b.return}if(ot===null)throw Error(r(160));py(f,y,h),ot=null,rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)vy(n,t),n=n.sibling}var Yn=null;function vy(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:an(n,t),on(t),o&4&&(ws(3,t,t.return),Xo(3,t),ws(5,t,t.return));break;case 1:an(n,t),on(t),o&512&&(xt||a===null||vi(a,a.return)),o&64&&Bi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Yn;if(an(n,t),on(t),o&512&&(xt||a===null||vi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ri]||f[Et]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ft(f,o,a),f[Et]=t,bt(f),o=f;break e;case"link":var y=v0("link","href",h).get(o+(a.href||""));if(y){for(var b=0;b<y.length;b++)if(f=y[b],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(b,1);break t}}f=h.createElement(o),Ft(f,o,a),h.head.appendChild(f);break;case"meta":if(y=v0("meta","content",h).get(o+(a.content||""))){for(b=0;b<y.length;b++)if(f=y[b],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(b,1);break t}}f=h.createElement(o),Ft(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Et]=t,bt(f),o=f}t.stateNode=o}else E0(h,t.type,t.stateNode);else t.stateNode=_0(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?E0(h,t.type,t.stateNode):_0(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Hf(t,t.memoizedProps,a.memoizedProps)}break;case 27:an(n,t),on(t),o&512&&(xt||a===null||vi(a,a.return)),a!==null&&o&4&&Hf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(an(n,t),on(t),o&512&&(xt||a===null||vi(a,a.return)),t.flags&32){h=t.stateNode;try{sn(h,"")}catch(he){Xe(t,t.return,he)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Hf(t,h,a!==null?a.memoizedProps:h)),o&1024&&(Gf=!0);break;case 6:if(an(n,t),on(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(he){Xe(t,t.return,he)}}break;case 3:if(gc=null,h=Yn,Yn=dc(n.containerInfo),an(n,t),Yn=h,on(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{ja(n.containerInfo)}catch(he){Xe(t,t.return,he)}Gf&&(Gf=!1,Ey(t));break;case 4:o=Yn,Yn=dc(t.stateNode.containerInfo),an(n,t),on(t),Yn=o;break;case 12:an(n,t),on(t);break;case 31:an(n,t),on(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Wu(t,o)));break;case 13:an(n,t),on(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(tc=Wt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Wu(t,o)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,U=Bi,Q=xt;if(Bi=U||h,xt=Q||N,an(n,t),xt=Q,Bi=U,on(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||N||Bi||xt||Dr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){N=a=n;try{if(f=N.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{b=N.stateNode;var Y=N.memoizedProps.style,B=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;b.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(he){Xe(N,N.return,he)}}}else if(n.tag===6){if(a===null){N=n;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(he){Xe(N,N.return,he)}}}else if(n.tag===18){if(a===null){N=n;try{var F=N.stateNode;h?u0(F,!0):u0(N.stateNode,!1)}catch(he){Xe(N,N.return,he)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Wu(t,a))));break;case 19:an(n,t),on(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Wu(t,o)));break;case 30:break;case 21:break;default:an(n,t),on(t)}}function on(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(hy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=qf(t);Ju(t,f,h);break;case 5:var y=a.stateNode;a.flags&32&&(sn(y,""),a.flags&=-33);var b=qf(t);Ju(t,b,y);break;case 3:case 4:var N=a.stateNode.containerInfo,U=qf(t);Ff(t,U,N);break;default:throw Error(r(161))}}catch(Q){Xe(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ey(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ey(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function qi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)my(t,n.alternate,n),n=n.sibling}function Dr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ws(4,n,n.return),Dr(n);break;case 1:vi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&uy(n,n.return,a),Dr(n);break;case 27:rl(n.stateNode);case 26:case 5:vi(n,n.return),Dr(n);break;case 22:n.memoizedState===null&&Dr(n);break;case 30:Dr(n);break;default:Dr(n)}t=t.sibling}}function Fi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Fi(h,f,a),Xo(4,f);break;case 1:if(Fi(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){Xe(o,o.return,U)}if(o=f,h=o.updateQueue,h!==null){var b=o.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)Zg(N[h],b)}catch(U){Xe(o,o.return,U)}}a&&y&64&&ly(f),$o(f,f.return);break;case 27:fy(f);case 26:case 5:Fi(h,f,a),a&&o===null&&y&4&&cy(f),$o(f,f.return);break;case 12:Fi(h,f,a);break;case 31:Fi(h,f,a),a&&y&4&&yy(h,f);break;case 13:Fi(h,f,a),a&&y&4&&_y(h,f);break;case 22:f.memoizedState===null&&Fi(h,f,a),$o(f,f.return);break;case 30:break;default:Fi(h,f,a)}n=n.sibling}}function Qf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&jo(a))}function Kf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&jo(t))}function Xn(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)by(t,n,a,o),n=n.sibling}function by(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(t,n,a,o),h&2048&&Xo(9,n);break;case 1:Xn(t,n,a,o);break;case 3:Xn(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&jo(t)));break;case 12:if(h&2048){Xn(t,n,a,o),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,b=f.onPostCommit;typeof b=="function"&&b(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Xe(n,n.return,N)}}else Xn(t,n,a,o);break;case 31:Xn(t,n,a,o);break;case 13:Xn(t,n,a,o);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Xn(t,n,a,o):Zo(t,n):f._visibility&2?Xn(t,n,a,o):(f._visibility|=2,wa(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Qf(y,n);break;case 24:Xn(t,n,a,o),h&2048&&Kf(n.alternate,n);break;default:Xn(t,n,a,o)}}function wa(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,y=n,b=a,N=o,U=y.flags;switch(y.tag){case 0:case 11:case 15:wa(f,y,b,N,h),Xo(8,y);break;case 23:break;case 22:var Q=y.stateNode;y.memoizedState!==null?Q._visibility&2?wa(f,y,b,N,h):Zo(f,y):(Q._visibility|=2,wa(f,y,b,N,h)),h&&U&2048&&Qf(y.alternate,y);break;case 24:wa(f,y,b,N,h),h&&U&2048&&Kf(y.alternate,y);break;default:wa(f,y,b,N,h)}n=n.sibling}}function Zo(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:Zo(a,o),h&2048&&Qf(o.alternate,o);break;case 24:Zo(a,o),h&2048&&Kf(o.alternate,o);break;default:Zo(a,o)}n=n.sibling}}var Jo=8192;function xa(t,n,a){if(t.subtreeFlags&Jo)for(t=t.child;t!==null;)Ty(t,n,a),t=t.sibling}function Ty(t,n,a){switch(t.tag){case 26:xa(t,n,a),t.flags&Jo&&t.memoizedState!==null&&_T(a,Yn,t.memoizedState,t.memoizedProps);break;case 5:xa(t,n,a);break;case 3:case 4:var o=Yn;Yn=dc(t.stateNode.containerInfo),xa(t,n,a),Yn=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Jo,Jo=16777216,xa(t,n,a),Jo=o):xa(t,n,a));break;default:xa(t,n,a)}}function Sy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Wo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];jt=o,wy(o,t)}Sy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ay(t),t=t.sibling}function Ay(t){switch(t.tag){case 0:case 11:case 15:Wo(t),t.flags&2048&&ws(9,t,t.return);break;case 3:Wo(t);break;case 12:Wo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,ec(t)):Wo(t);break;default:Wo(t)}}function ec(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];jt=o,wy(o,t)}Sy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ws(8,n,n.return),ec(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,ec(n));break;default:ec(n)}t=t.sibling}}function wy(t,n){for(;jt!==null;){var a=jt;switch(a.tag){case 0:case 11:case 15:ws(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:jo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,jt=o;else e:for(a=t;jt!==null;){o=jt;var h=o.sibling,f=o.return;if(gy(o),o===a){jt=null;break e}if(h!==null){h.return=f,jt=h;break e}jt=f}}}var Mb={getCacheForType:function(t){var n=Ht(St),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Ht(St).controller.signal}},Vb=typeof WeakMap=="function"?WeakMap:Map,qe=0,et=null,Ne=null,Oe=0,Ye=0,_n=null,xs=!1,Ra=!1,Yf=!1,Gi=0,ht=0,Rs=0,Or=0,Xf=0,vn=0,Ca=0,el=null,ln=null,$f=!1,tc=0,xy=0,nc=1/0,ic=null,Cs=null,Dt=0,Ns=null,Na=null,Qi=0,Zf=0,Jf=null,Ry=null,tl=0,Wf=null;function En(){return(qe&2)!==0&&Oe!==0?Oe&-Oe:G.T!==null?rd():su()}function Cy(){if(vn===0)if((Oe&536870912)===0||Pe){var t=rr;rr<<=1,(rr&3932160)===0&&(rr=262144),vn=t}else vn=536870912;return t=pn.current,t!==null&&(t.flags|=32),vn}function un(t,n,a){(t===et&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(Ia(t,0),Is(t,Oe,vn,!1)),ar(t,a),((qe&2)===0||t!==et)&&(t===et&&((qe&2)===0&&(Or|=a),ht===4&&Is(t,Oe,vn,!1)),Ei(t))}function Ny(t,n,a){if((qe&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Un(t,n),h=o?Pb(t,n):td(t,n,!0),f=o;do{if(h===0){Ra&&!o&&Is(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!kb(a)){h=td(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var b=t;h=el;var N=b.current.memoizedState.isDehydrated;if(N&&(Ia(b,y).flags|=256),y=td(b,y,!1),y!==2){if(Yf&&!N){b.errorRecoveryDisabledLanes|=f,Or|=f,h=4;break e}f=ln,ln=h,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){Ia(t,0),Is(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Is(o,n,vn,!xs);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=tc+300-Wt(),10<h)){if(Is(o,n,vn,!xs),ni(o,0,!0)!==0)break e;Qi=n,o.timeoutHandle=a0(Iy.bind(null,o,a,ln,ic,$f,n,vn,Or,Ca,xs,f,"Throttled",-0,0),h);break e}Iy(o,a,ln,ic,$f,n,vn,Or,Ca,xs,f,null,-0,0)}}break}while(!0);Ei(t)}function Iy(t,n,a,o,h,f,y,b,N,U,Q,Y,B,F){if(t.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hn},Ty(n,f,Y);var he=(f&62914560)===f?tc-Wt():(f&4194048)===f?xy-Wt():0;if(he=vT(Y,he),he!==null){Qi=f,t.cancelPendingCommit=he(Ly.bind(null,t,n,f,a,o,h,y,b,N,Q,Y,null,B,F)),Is(t,f,y,!U);return}}Ly(t,n,f,a,o,h,y,b,N)}function kb(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!mn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Is(t,n,a,o){n&=~Xf,n&=~Or,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-dt(h),y=1<<f;o[f]=-1,h&=~y}a!==0&&or(t,a,n)}function sc(){return(qe&6)===0?(nl(0),!1):!0}function ed(){if(Ne!==null){if(Ye===0)var t=Ne.return;else t=Ne,ki=Sr=null,pf(t),Ea=null,Lo=0,t=Ne;for(;t!==null;)oy(t.alternate,t),t=t.return;Ne=null}}function Ia(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,tT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Qi=0,ed(),et=t,Ne=a=Mi(t.current,null),Oe=n,Ye=0,_n=null,xs=!1,Ra=Un(t,n),Yf=!1,Ca=vn=Xf=Or=Rs=ht=0,ln=el=null,$f=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-dt(o),f=1<<h;n|=t[h],o&=~f}return Gi=n,wu(),a}function Dy(t,n){xe=null,G.H=Qo,n===va||n===Mu?(n=Kg(),Ye=3):n===sf?(n=Kg(),Ye=4):Ye=n===Of?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,_n=n,Ne===null&&(ht=1,Ku(t,Cn(n,t.current)))}function Oy(){var t=pn.current;return t===null?!0:(Oe&4194048)===Oe?On===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?t===On:!1}function My(){var t=G.H;return G.H=Qo,t===null?Qo:t}function Vy(){var t=G.A;return G.A=Mb,t}function rc(){ht=4,xs||(Oe&4194048)!==Oe&&pn.current!==null||(Ra=!0),(Rs&134217727)===0&&(Or&134217727)===0||et===null||Is(et,Oe,vn,!1)}function td(t,n,a){var o=qe;qe|=2;var h=My(),f=Vy();(et!==t||Oe!==n)&&(ic=null,Ia(t,n)),n=!1;var y=ht;e:do try{if(Ye!==0&&Ne!==null){var b=Ne,N=_n;switch(Ye){case 8:ed(),y=6;break e;case 3:case 2:case 9:case 6:pn.current===null&&(n=!0);var U=Ye;if(Ye=0,_n=null,Da(t,b,N,U),a&&Ra){y=0;break e}break;default:U=Ye,Ye=0,_n=null,Da(t,b,N,U)}}jb(),y=ht;break}catch(Q){Dy(t,Q)}while(!0);return n&&t.shellSuspendCounter++,ki=Sr=null,qe=o,G.H=h,G.A=f,Ne===null&&(et=null,Oe=0,wu()),y}function jb(){for(;Ne!==null;)ky(Ne)}function Pb(t,n){var a=qe;qe|=2;var o=My(),h=Vy();et!==t||Oe!==n?(ic=null,nc=Wt()+500,Ia(t,n)):Ra=Un(t,n);e:do try{if(Ye!==0&&Ne!==null){n=Ne;var f=_n;t:switch(Ye){case 1:Ye=0,_n=null,Da(t,n,f,1);break;case 2:case 9:if(Gg(f)){Ye=0,_n=null,jy(n);break}n=function(){Ye!==2&&Ye!==9||et!==t||(Ye=7),Ei(t)},f.then(n,n);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:Gg(f)?(Ye=0,_n=null,jy(n)):(Ye=0,_n=null,Da(t,n,f,7));break;case 5:var y=null;switch(Ne.tag){case 26:y=Ne.memoizedState;case 5:case 27:var b=Ne;if(y?b0(y):b.stateNode.complete){Ye=0,_n=null;var N=b.sibling;if(N!==null)Ne=N;else{var U=b.return;U!==null?(Ne=U,ac(U)):Ne=null}break t}}Ye=0,_n=null,Da(t,n,f,5);break;case 6:Ye=0,_n=null,Da(t,n,f,6);break;case 8:ed(),ht=6;break e;default:throw Error(r(462))}}Lb();break}catch(Q){Dy(t,Q)}while(!0);return ki=Sr=null,G.H=o,G.A=h,qe=a,Ne!==null?0:(et=null,Oe=0,wu(),ht)}function Lb(){for(;Ne!==null&&!Ih();)ky(Ne)}function ky(t){var n=ry(t.alternate,t,Gi);t.memoizedProps=t.pendingProps,n===null?ac(t):Ne=n}function jy(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Wp(a,n,n.pendingProps,n.type,void 0,Oe);break;case 11:n=Wp(a,n,n.pendingProps,n.type.render,n.ref,Oe);break;case 5:pf(n);default:oy(a,n),n=Ne=Vg(n,Gi),n=ry(a,n,Gi)}t.memoizedProps=t.pendingProps,n===null?ac(t):Ne=n}function Da(t,n,a,o){ki=Sr=null,pf(n),Ea=null,Lo=0;var h=n.return;try{if(xb(t,h,n,a,Oe)){ht=1,Ku(t,Cn(a,t.current)),Ne=null;return}}catch(f){if(h!==null)throw Ne=h,f;ht=1,Ku(t,Cn(a,t.current)),Ne=null;return}n.flags&32768?(Pe||o===1?t=!0:Ra||(Oe&536870912)!==0?t=!1:(xs=t=!0,(o===2||o===9||o===3||o===6)&&(o=pn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Py(n,t)):ac(n)}function ac(t){var n=t;do{if((n.flags&32768)!==0){Py(n,xs);return}t=n.return;var a=Nb(n.alternate,n,Gi);if(a!==null){Ne=a;return}if(n=n.sibling,n!==null){Ne=n;return}Ne=n=t}while(n!==null);ht===0&&(ht=5)}function Py(t,n){do{var a=Ib(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);ht=6,Ne=null}function Ly(t,n,a,o,h,f,y,b,N){t.cancelPendingCommit=null;do oc();while(Dt!==0);if((qe&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Hh,Mh(t,a,f,y,b,N),t===et&&(Ne=et=null,Oe=0),Na=n,Ns=t,Qi=a,Zf=f,Jf=h,Ry=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Hb(as,function(){return qy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=ie.p,ie.p=2,y=qe,qe|=4;try{Db(t,n,a)}finally{qe=y,ie.p=h,G.T=o}}Dt=1,Uy(),zy(),By()}}function Uy(){if(Dt===1){Dt=0;var t=Ns,n=Na,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var o=ie.p;ie.p=2;var h=qe;qe|=4;try{vy(n,t);var f=dd,y=wg(t.containerInfo),b=f.focusedElem,N=f.selectionRange;if(y!==b&&b&&b.ownerDocument&&Ag(b.ownerDocument.documentElement,b)){if(N!==null&&Ph(b)){var U=N.start,Q=N.end;if(Q===void 0&&(Q=U),"selectionStart"in b)b.selectionStart=U,b.selectionEnd=Math.min(Q,b.value.length);else{var Y=b.ownerDocument||document,B=Y&&Y.defaultView||window;if(B.getSelection){var F=B.getSelection(),he=b.textContent.length,_e=Math.min(N.start,he),We=N.end===void 0?_e:Math.min(N.end,he);!F.extend&&_e>We&&(y=We,We=_e,_e=y);var k=Sg(b,_e),O=Sg(b,We);if(k&&O&&(F.rangeCount!==1||F.anchorNode!==k.node||F.anchorOffset!==k.offset||F.focusNode!==O.node||F.focusOffset!==O.offset)){var L=Y.createRange();L.setStart(k.node,k.offset),F.removeAllRanges(),_e>We?(F.addRange(L),F.extend(O.node,O.offset)):(L.setEnd(O.node,O.offset),F.addRange(L))}}}}for(Y=[],F=b;F=F.parentNode;)F.nodeType===1&&Y.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<Y.length;b++){var K=Y[b];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}vc=!!fd,dd=fd=null}finally{qe=h,ie.p=o,G.T=a}}t.current=n,Dt=2}}function zy(){if(Dt===2){Dt=0;var t=Ns,n=Na,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var o=ie.p;ie.p=2;var h=qe;qe|=4;try{my(t,n.alternate,n)}finally{qe=h,ie.p=o,G.T=a}}Dt=3}}function By(){if(Dt===4||Dt===3){Dt=0,Zl();var t=Ns,n=Na,a=Qi,o=Ry;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Dt=5:(Dt=0,Na=Ns=null,Hy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Cs=null),Ni(a),n=n.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(Ln,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=ie.p,ie.p=2,G.T=null;try{for(var f=t.onRecoverableError,y=0;y<o.length;y++){var b=o[y];f(b.value,{componentStack:b.stack})}}finally{G.T=n,ie.p=h}}(Qi&3)!==0&&oc(),Ei(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Wf?tl++:(tl=0,Wf=t):tl=0,nl(0)}}function Hy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,jo(n)))}function oc(){return Uy(),zy(),By(),qy()}function qy(){if(Dt!==5)return!1;var t=Ns,n=Zf;Zf=0;var a=Ni(Qi),o=G.T,h=ie.p;try{ie.p=32>a?32:a,G.T=null,a=Jf,Jf=null;var f=Ns,y=Qi;if(Dt=0,Na=Ns=null,Qi=0,(qe&6)!==0)throw Error(r(331));var b=qe;if(qe|=4,Ay(f.current),by(f,f.current,y,a),qe=b,nl(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(Ln,f)}catch{}return!0}finally{ie.p=h,G.T=o,Hy(t,n)}}function Fy(t,n,a){n=Cn(a,n),n=Df(t.stateNode,n,2),t=Ts(t,n,2),t!==null&&(ar(t,2),Ei(t))}function Xe(t,n,a){if(t.tag===3)Fy(t,t,a);else for(;n!==null;){if(n.tag===3){Fy(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Cs===null||!Cs.has(o))){t=Cn(a,t),a=Gp(2),o=Ts(n,a,2),o!==null&&(Qp(a,o,n,t),ar(o,2),Ei(o));break}}n=n.return}}function nd(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new Vb;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(Yf=!0,h.add(a),t=Ub.bind(null,t,n,a),n.then(t,t))}function Ub(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(Oe&a)===a&&(ht===4||ht===3&&(Oe&62914560)===Oe&&300>Wt()-tc?(qe&2)===0&&Ia(t,0):Xf|=a,Ca===Oe&&(Ca=0)),Ei(t)}function Gy(t,n){n===0&&(n=iu()),t=Er(t,n),t!==null&&(ar(t,n),Ei(t))}function zb(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Gy(t,a)}function Bb(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),Gy(t,a)}function Hb(t,n){return It(t,n)}var lc=null,Oa=null,id=!1,uc=!1,sd=!1,Ds=0;function Ei(t){t!==Oa&&t.next===null&&(Oa===null?lc=Oa=t:Oa=Oa.next=t),uc=!0,id||(id=!0,Fb())}function nl(t,n){if(!sd&&uc){sd=!0;do for(var a=!1,o=lc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var y=o.suspendedLanes,b=o.pingedLanes;f=(1<<31-dt(42|t)+1)-1,f&=h&~(y&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Xy(o,f))}else f=Oe,f=ni(o,o===et?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Un(o,f)||(a=!0,Xy(o,f));o=o.next}while(a);sd=!1}}function qb(){Qy()}function Qy(){uc=id=!1;var t=0;Ds!==0&&eT()&&(t=Ds);for(var n=Wt(),a=null,o=lc;o!==null;){var h=o.next,f=Ky(o,n);f===0?(o.next=null,a===null?lc=h:a.next=h,h===null&&(Oa=a)):(a=o,(t!==0||(f&3)!==0)&&(uc=!0)),o=h}Dt!==0&&Dt!==5||nl(t),Ds!==0&&(Ds=0)}function Ky(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-dt(f),b=1<<y,N=h[y];N===-1?((b&a)===0||(b&o)!==0)&&(h[y]=Oh(b,n)):N<=n&&(t.expiredLanes|=b),f&=~b}if(n=et,a=Oe,a=ni(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&rs(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Un(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&rs(o),Ni(a)){case 2:case 8:a=ho;break;case 32:a=as;break;case 268435456:a=Jl;break;default:a=as}return o=Yy.bind(null,t),a=It(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&rs(o),t.callbackPriority=2,t.callbackNode=null,2}function Yy(t,n){if(Dt!==0&&Dt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(oc()&&t.callbackNode!==a)return null;var o=Oe;return o=ni(t,t===et?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Ny(t,o,n),Ky(t,Wt()),t.callbackNode!=null&&t.callbackNode===a?Yy.bind(null,t):null)}function Xy(t,n){if(oc())return null;Ny(t,n,!0)}function Fb(){nT(function(){(qe&6)!==0?It(co,qb):Qy()})}function rd(){if(Ds===0){var t=ya;t===0&&(t=ei,ei<<=1,(ei&261888)===0&&(ei=256)),Ds=t}return Ds}function $y(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:na(""+t)}function Zy(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function Gb(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=$y((h[Vt]||null).action),y=o.submitter;y&&(n=(n=y[Vt]||null)?$y(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var b=new di("action","action",null,o,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ds!==0){var N=y?Zy(h,y):new FormData(h);wf(a,{pending:!0,data:N,method:h.method,action:f},null,N)}}else typeof f=="function"&&(b.preventDefault(),N=y?Zy(h,y):new FormData(h),wf(a,{pending:!0,data:N,method:h.method,action:f},f,N))},currentTarget:h}]})}}for(var ad=0;ad<Bh.length;ad++){var od=Bh[ad],Qb=od.toLowerCase(),Kb=od[0].toUpperCase()+od.slice(1);Kn(Qb,"on"+Kb)}Kn(Cg,"onAnimationEnd"),Kn(Ng,"onAnimationIteration"),Kn(Ig,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(ub,"onTransitionRun"),Kn(cb,"onTransitionStart"),Kn(hb,"onTransitionCancel"),Kn(Dg,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),li("onBeforeInput",["compositionend","keypress","textInput","paste"]),li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(il));function Jy(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var y=o.length-1;0<=y;y--){var b=o[y],N=b.instance,U=b.currentTarget;if(b=b.listener,N!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=U;try{f(h)}catch(Q){Au(Q)}h.currentTarget=null,f=N}else for(y=0;y<o.length;y++){if(b=o[y],N=b.instance,U=b.currentTarget,b=b.listener,N!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=U;try{f(h)}catch(Q){Au(Q)}h.currentTarget=null,f=N}}}}function Ie(t,n){var a=n[Zr];a===void 0&&(a=n[Zr]=new Set);var o=t+"__bubble";a.has(o)||(Wy(n,t,2,!1),a.add(o))}function ld(t,n,a){var o=0;n&&(o|=4),Wy(a,t,o,n)}var cc="_reactListening"+Math.random().toString(36).slice(2);function ud(t){if(!t[cc]){t[cc]=!0,go.forEach(function(a){a!=="selectionchange"&&(Yb.has(a)||ld(a,!1,t),ld(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[cc]||(n[cc]=!0,ld("selectionchange",!1,n))}}function Wy(t,n,a,o){switch(C0(n)){case 2:var h=TT;break;case 8:h=ST;break;default:h=Ad}a=h.bind(null,n,a,t),h=void 0,!fr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function cd(t,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var b=o.stateNode.containerInfo;if(b===h)break;if(y===4)for(y=o.return;y!==null;){var N=y.tag;if((N===3||N===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;b!==null;){if(y=ai(b),y===null)return;if(N=y.tag,N===5||N===6||N===26||N===27){o=f=y;continue e}b=b.parentNode}}o=o.return}fs(function(){var U=f,Q=An(a),Y=[];e:{var B=Og.get(t);if(B!==void 0){var F=di,he=t;switch(t){case"keypress":if(mr(a)===0)break e;case"keydown":case"keyup":F=bu;break;case"focusin":he="focus",F=pr;break;case"focusout":he="blur",F=pr;break;case"beforeblur":case"afterblur":F=pr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Co;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=fu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case Cg:case Ng:case Ig:F=mu;break;case Dg:F=A;break;case"scroll":case"scrollend":F=Ro;break;case"wheel":F=q;break;case"copy":case"cut":case"paste":F=gu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Oi;break;case"toggle":case"beforetoggle":F=we}var _e=(n&4)!==0,We=!_e&&(t==="scroll"||t==="scrollend"),k=_e?B!==null?B+"Capture":null:B;_e=[];for(var O=U,L;O!==null;){var K=O;if(L=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||L===null||k===null||(K=qn(O,k),K!=null&&_e.push(sl(O,K,L))),We)break;O=O.return}0<_e.length&&(B=new F(B,he,null,a,Q),Y.push({event:B,listeners:_e}))}}if((n&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",B&&a!==Ao&&(he=a.relatedTarget||a.fromElement)&&(ai(he)||he[si]))break e;if((F||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,F?(he=a.relatedTarget||a.toElement,F=U,he=he?ai(he):null,he!==null&&(We=c(he),_e=he.tag,he!==We||_e!==5&&_e!==27&&_e!==6)&&(he=null)):(F=null,he=U),F!==he)){if(_e=Co,K="onMouseLeave",k="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Oi,K="onPointerLeave",k="onPointerEnter",O="pointer"),We=F==null?B:fn(F),L=he==null?B:fn(he),B=new _e(K,O+"leave",F,a,Q),B.target=We,B.relatedTarget=L,K=null,ai(Q)===U&&(_e=new _e(k,O+"enter",he,a,Q),_e.target=L,_e.relatedTarget=We,K=_e),We=K,F&&he)t:{for(_e=Xb,k=F,O=he,L=0,K=k;K;K=_e(K))L++;K=0;for(var pe=O;pe;pe=_e(pe))K++;for(;0<L-K;)k=_e(k),L--;for(;0<K-L;)O=_e(O),K--;for(;L--;){if(k===O||O!==null&&k===O.alternate){_e=k;break t}k=_e(k),O=_e(O)}_e=null}else _e=null;F!==null&&e0(Y,B,F,_e,!1),he!==null&&We!==null&&e0(Y,We,he,_e,!0)}}e:{if(B=U?fn(U):window,F=B.nodeName&&B.nodeName.toLowerCase(),F==="select"||F==="input"&&B.type==="file")var ze=yg;else if(gg(B))if(_g)ze=ab;else{ze=sb;var fe=ib}else F=B.nodeName,!F||F.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?U&&ta(U.elementType)&&(ze=yg):ze=rb;if(ze&&(ze=ze(t,U))){pg(Y,ze,a,Q);break e}fe&&fe(t,B,U),t==="focusout"&&U&&B.type==="number"&&U.memoizedProps.value!=null&&bo(B,"number",B.value)}switch(fe=U?fn(U):window,t){case"focusin":(gg(fe)||fe.contentEditable==="true")&&(ua=fe,Lh=U,Mo=null);break;case"focusout":Mo=Lh=ua=null;break;case"mousedown":Uh=!0;break;case"contextmenu":case"mouseup":case"dragend":Uh=!1,xg(Y,a,Q);break;case"selectionchange":if(lb)break;case"keydown":case"keyup":xg(Y,a,Q)}var Ce;if(He)e:{switch(t){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else la?yr(t,a)&&(Me="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(pi&&a.locale!=="ko"&&(la||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&la&&(Ce=xo()):(fi=Q,wo="value"in fi?fi.value:fi.textContent,la=!0)),fe=hc(U,Me),0<fe.length&&(Me=new gi(Me,t,null,a,Q),Y.push({event:Me,listeners:fe}),Ce?Me.data=Ce:(Ce=oa(a),Ce!==null&&(Me.data=Ce)))),(Ce=xn?WE(t,a):eb(t,a))&&(Me=hc(U,"onBeforeInput"),0<Me.length&&(fe=new gi("onBeforeInput","beforeinput",null,a,Q),Y.push({event:fe,listeners:Me}),fe.data=Ce)),Gb(Y,t,U,a,Q)}Jy(Y,n)})}function sl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function hc(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=qn(t,a),h!=null&&o.unshift(sl(t,h,f)),h=qn(t,n),h!=null&&o.push(sl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function Xb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function e0(t,n,a,o,h){for(var f=n._reactName,y=[];a!==null&&a!==o;){var b=a,N=b.alternate,U=b.stateNode;if(b=b.tag,N!==null&&N===o)break;b!==5&&b!==26&&b!==27||U===null||(N=U,h?(U=qn(a,f),U!=null&&y.unshift(sl(a,U,N))):h||(U=qn(a,f),U!=null&&y.push(sl(a,U,N)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var $b=/\r\n?/g,Zb=/\u0000|\uFFFD/g;function t0(t){return(typeof t=="string"?t:""+t).replace($b,`
`).replace(Zb,"")}function n0(t,n){return n=t0(n),t0(t)===n}function Je(t,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||sn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&sn(t,""+o);break;case"className":dn(t,"class",o);break;case"tabIndex":dn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(t,a,o);break;case"style":So(t,o,f);break;case"data":if(n!=="object"){dn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=na(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Je(t,n,"name",h.name,h,null),Je(t,n,"formEncType",h.formEncType,h,null),Je(t,n,"formMethod",h.formMethod,h,null),Je(t,n,"formTarget",h.formTarget,h,null)):(Je(t,n,"encType",h.encType,h,null),Je(t,n,"method",h.method,h,null),Je(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=na(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Hn);break;case"onScroll":o!=null&&Ie("scroll",t);break;case"onScrollEnd":o!=null&&Ie("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=na(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Ie("beforetoggle",t),Ie("toggle",t),Wr(t,"popover",o);break;case"xlinkActuate":Tt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Tt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Tt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Tt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Tt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Tt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Wr(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=hu.get(a)||a,Wr(t,a,o))}}function hd(t,n,a,o,h,f){switch(a){case"style":So(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?sn(t,o):(typeof o=="number"||typeof o=="bigint")&&sn(t,""+o);break;case"onScroll":o!=null&&Ie("scroll",t);break;case"onScrollEnd":o!=null&&Ie("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!po.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[Vt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):Wr(t,a,o)}}}function Ft(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",t),Ie("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Je(t,n,f,y,a,null)}}h&&Je(t,n,"srcSet",a.srcSet,a,null),o&&Je(t,n,"src",a.src,a,null);return;case"input":Ie("invalid",t);var b=f=y=h=null,N=null,U=null;for(o in a)if(a.hasOwnProperty(o)){var Q=a[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":y=Q;break;case"checked":N=Q;break;case"defaultChecked":U=Q;break;case"value":f=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,n));break;default:Je(t,n,o,Q,a,null)}}lu(t,f,b,N,U,y,h,!1);return;case"select":Ie("invalid",t),o=y=f=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":f=b;break;case"defaultValue":y=b;break;case"multiple":o=b;default:Je(t,n,h,b,a,null)}n=f,a=y,t.multiple=!!o,n!=null?ls(t,!!o,n,!1):a!=null&&ls(t,!!o,a,!0);return;case"textarea":Ie("invalid",t),f=h=o=null;for(y in a)if(a.hasOwnProperty(y)&&(b=a[y],b!=null))switch(y){case"value":o=b;break;case"defaultValue":h=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:Je(t,n,y,b,a,null)}us(t,o,h,f);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(o=a[N],o!=null))switch(N){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Je(t,n,N,o,a,null)}return;case"dialog":Ie("beforetoggle",t),Ie("toggle",t),Ie("cancel",t),Ie("close",t);break;case"iframe":case"object":Ie("load",t);break;case"video":case"audio":for(o=0;o<il.length;o++)Ie(il[o],t);break;case"image":Ie("error",t),Ie("load",t);break;case"details":Ie("toggle",t);break;case"embed":case"source":case"link":Ie("error",t),Ie("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(o=a[U],o!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Je(t,n,U,o,a,null)}return;default:if(ta(n)){for(Q in a)a.hasOwnProperty(Q)&&(o=a[Q],o!==void 0&&hd(t,n,Q,o,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(o=a[b],o!=null&&Je(t,n,b,o,a,null))}function Jb(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,b=null,N=null,U=null,Q=null;for(F in a){var Y=a[F];if(a.hasOwnProperty(F)&&Y!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":N=Y;default:o.hasOwnProperty(F)||Je(t,n,F,null,o,Y)}}for(var B in o){var F=o[B];if(Y=a[B],o.hasOwnProperty(B)&&(F!=null||Y!=null))switch(B){case"type":f=F;break;case"name":h=F;break;case"checked":U=F;break;case"defaultChecked":Q=F;break;case"value":y=F;break;case"defaultValue":b=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:F!==Y&&Je(t,n,B,F,o,Y)}}ea(t,y,b,N,U,Q,f,h);return;case"select":F=y=b=B=null;for(f in a)if(N=a[f],a.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":F=N;default:o.hasOwnProperty(f)||Je(t,n,f,null,o,N)}for(h in o)if(f=o[h],N=a[h],o.hasOwnProperty(h)&&(f!=null||N!=null))switch(h){case"value":B=f;break;case"defaultValue":b=f;break;case"multiple":y=f;default:f!==N&&Je(t,n,h,f,o,N)}n=b,a=y,o=F,B!=null?ls(t,!!a,B,!1):!!o!=!!a&&(n!=null?ls(t,!!a,n,!0):ls(t,!!a,a?[]:"",!1));return;case"textarea":F=B=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!o.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Je(t,n,b,null,o,h)}for(y in o)if(h=o[y],f=a[y],o.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":B=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&Je(t,n,y,h,o,f)}uu(t,B,F);return;case"option":for(var he in a)if(B=a[he],a.hasOwnProperty(he)&&B!=null&&!o.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:Je(t,n,he,null,o,B)}for(N in o)if(B=o[N],F=a[N],o.hasOwnProperty(N)&&B!==F&&(B!=null||F!=null))switch(N){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Je(t,n,N,B,o,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)B=a[_e],a.hasOwnProperty(_e)&&B!=null&&!o.hasOwnProperty(_e)&&Je(t,n,_e,null,o,B);for(U in o)if(B=o[U],F=a[U],o.hasOwnProperty(U)&&B!==F&&(B!=null||F!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:Je(t,n,U,B,o,F)}return;default:if(ta(n)){for(var We in a)B=a[We],a.hasOwnProperty(We)&&B!==void 0&&!o.hasOwnProperty(We)&&hd(t,n,We,void 0,o,B);for(Q in o)B=o[Q],F=a[Q],!o.hasOwnProperty(Q)||B===F||B===void 0&&F===void 0||hd(t,n,Q,B,o,F);return}}for(var k in a)B=a[k],a.hasOwnProperty(k)&&B!=null&&!o.hasOwnProperty(k)&&Je(t,n,k,null,o,B);for(Y in o)B=o[Y],F=a[Y],!o.hasOwnProperty(Y)||B===F||B==null&&F==null||Je(t,n,Y,B,o,F)}function i0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Wb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,y=h.initiatorType,b=h.duration;if(f&&b&&i0(y)){for(y=0,b=h.responseEnd,o+=1;o<a.length;o++){var N=a[o],U=N.startTime;if(U>b)break;var Q=N.transferSize,Y=N.initiatorType;Q&&i0(Y)&&(N=N.responseEnd,y+=Q*(N<b?1:(b-U)/(N-U)))}if(--o,n+=8*(f+y)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var fd=null,dd=null;function fc(t){return t.nodeType===9?t:t.ownerDocument}function s0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function r0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function md(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var gd=null;function eT(){var t=window.event;return t&&t.type==="popstate"?t===gd?!1:(gd=t,!0):(gd=null,!1)}var a0=typeof setTimeout=="function"?setTimeout:void 0,tT=typeof clearTimeout=="function"?clearTimeout:void 0,o0=typeof Promise=="function"?Promise:void 0,nT=typeof queueMicrotask=="function"?queueMicrotask:typeof o0<"u"?function(t){return o0.resolve(null).then(t).catch(iT)}:a0;function iT(t){setTimeout(function(){throw t})}function Os(t){return t==="head"}function l0(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),ja(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")rl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,rl(a);for(var f=a.firstChild;f;){var y=f.nextSibling,b=f.nodeName;f[ri]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=y}}else a==="body"&&rl(t.ownerDocument.body);a=h}while(a);ja(n)}function u0(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function pd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":pd(a),Jr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function sT(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[ri])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Mn(t.nextSibling),t===null)break}return null}function rT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Mn(t.nextSibling),t===null))return null;return t}function c0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Mn(t.nextSibling),t===null))return null;return t}function yd(t){return t.data==="$?"||t.data==="$~"}function _d(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function aT(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Mn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var vd=null;function h0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Mn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function f0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function d0(t,n,a){switch(n=fc(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function rl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Jr(t)}var Vn=new Map,m0=new Set;function dc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ki=ie.d;ie.d={f:oT,r:lT,D:uT,C:cT,L:hT,m:fT,X:mT,S:dT,M:gT};function oT(){var t=Ki.f(),n=sc();return t||n}function lT(t){var n=Sn(t);n!==null&&n.tag===5&&n.type==="form"?Dp(n):Ki.r(t)}var Ma=typeof document>"u"?null:document;function g0(t,n,a){var o=Ma;if(o&&typeof n=="string"&&n){var h=nn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),m0.has(h)||(m0.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Ft(n,"link",t),bt(n),o.head.appendChild(n)))}}function uT(t){Ki.D(t),g0("dns-prefetch",t,null)}function cT(t,n){Ki.C(t,n),g0("preconnect",t,n)}function hT(t,n,a){Ki.L(t,n,a);var o=Ma;if(o&&t&&n){var h='link[rel="preload"][as="'+nn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+nn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+nn(a.imageSizes)+'"]')):h+='[href="'+nn(t)+'"]';var f=h;switch(n){case"style":f=Va(t);break;case"script":f=ka(t)}Vn.has(f)||(t=w({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Vn.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(al(f))||n==="script"&&o.querySelector(ol(f))||(n=o.createElement("link"),Ft(n,"link",t),bt(n),o.head.appendChild(n)))}}function fT(t,n){Ki.m(t,n);var a=Ma;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+nn(o)+'"][href="'+nn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ka(t)}if(!Vn.has(f)&&(t=w({rel:"modulepreload",href:t},n),Vn.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ol(f)))return}o=a.createElement("link"),Ft(o,"link",t),bt(o),a.head.appendChild(o)}}}function dT(t,n,a){Ki.S(t,n,a);var o=Ma;if(o&&t){var h=oi(o).hoistableStyles,f=Va(t);n=n||"default";var y=h.get(f);if(!y){var b={loading:0,preload:null};if(y=o.querySelector(al(f)))b.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Vn.get(f))&&Ed(t,a);var N=y=o.createElement("link");bt(N),Ft(N,"link",t),N._p=new Promise(function(U,Q){N.onload=U,N.onerror=Q}),N.addEventListener("load",function(){b.loading|=1}),N.addEventListener("error",function(){b.loading|=2}),b.loading|=4,mc(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:b},h.set(f,y)}}}function mT(t,n){Ki.X(t,n);var a=Ma;if(a&&t){var o=oi(a).hoistableScripts,h=ka(t),f=o.get(h);f||(f=a.querySelector(ol(h)),f||(t=w({src:t,async:!0},n),(n=Vn.get(h))&&bd(t,n),f=a.createElement("script"),bt(f),Ft(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function gT(t,n){Ki.M(t,n);var a=Ma;if(a&&t){var o=oi(a).hoistableScripts,h=ka(t),f=o.get(h);f||(f=a.querySelector(ol(h)),f||(t=w({src:t,async:!0,type:"module"},n),(n=Vn.get(h))&&bd(t,n),f=a.createElement("script"),bt(f),Ft(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function p0(t,n,a,o){var h=(h=Re.current)?dc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Va(a.href),a=oi(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Va(a.href);var f=oi(h).hoistableStyles,y=f.get(t);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=h.querySelector(al(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Vn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vn.set(t,a),f||pT(h,t,a,y.state))),n&&o===null)throw Error(r(528,""));return y}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ka(a),a=oi(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Va(t){return'href="'+nn(t)+'"'}function al(t){return'link[rel="stylesheet"]['+t+"]"}function y0(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function pT(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ft(n,"link",a),bt(n),t.head.appendChild(n))}function ka(t){return'[src="'+nn(t)+'"]'}function ol(t){return"script[async]"+t}function _0(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+nn(a.href)+'"]');if(o)return n.instance=o,bt(o),o;var h=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),bt(o),Ft(o,"style",h),mc(o,a.precedence,t),n.instance=o;case"stylesheet":h=Va(a.href);var f=t.querySelector(al(h));if(f)return n.state.loading|=4,n.instance=f,bt(f),f;o=y0(a),(h=Vn.get(h))&&Ed(o,h),f=(t.ownerDocument||t).createElement("link"),bt(f);var y=f;return y._p=new Promise(function(b,N){y.onload=b,y.onerror=N}),Ft(f,"link",o),n.state.loading|=4,mc(f,a.precedence,t),n.instance=f;case"script":return f=ka(a.src),(h=t.querySelector(ol(f)))?(n.instance=h,bt(h),h):(o=a,(h=Vn.get(f))&&(o=w({},a),bd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),bt(h),Ft(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,mc(o,a.precedence,t));return n.instance}function mc(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,y=0;y<o.length;y++){var b=o[y];if(b.dataset.precedence===n)f=b;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Ed(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function bd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var gc=null;function v0(t,n,a){if(gc===null){var o=new Map,h=gc=new Map;h.set(a,o)}else h=gc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[ri]||f[Et]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var b=o.get(y);b?b.push(f):o.set(y,[f])}}return o}function E0(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function yT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function b0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function _T(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Va(o.href),f=n.querySelector(al(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=pc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,bt(f);return}f=n.ownerDocument||n,o=y0(o),(h=Vn.get(h))&&Ed(o,h),f=f.createElement("link"),bt(f);var y=f;y._p=new Promise(function(b,N){y.onload=b,y.onerror=N}),Ft(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=pc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Td=0;function vT(t,n){return t.stylesheets&&t.count===0&&_c(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&_c(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Td===0&&(Td=62500*Wb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&_c(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Td?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function pc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_c(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var yc=null;function _c(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,yc=new Map,n.forEach(ET,t),yc=null,pc.call(t))}function ET(t,n){if(!(n.state.loading&4)){var a=yc.get(t);if(a)var o=a.get(null);else{a=new Map,yc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),o=y)}o&&a.set(null,o)}h=n.instance,y=h.getAttribute("data-precedence"),f=a.get(y)||o,f===o&&a.set(null,h),a.set(y,h),this.count++,o=pc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var ll={$$typeof:se,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function bT(t,n,a,o,h,f,y,b,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function T0(t,n,a,o,h,f,y,b,N,U,Q,Y){return t=new bT(t,n,a,y,N,U,Q,Y,b),n=1,f===!0&&(n|=24),f=gn(3,null,null,n),t.current=f,f.stateNode=t,n=ef(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},rf(f),t}function S0(t){return t?(t=fa,t):fa}function A0(t,n,a,o,h,f){h=S0(h),o.context===null?o.context=h:o.pendingContext=h,o=bs(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Ts(t,o,n),a!==null&&(un(a,t,n),zo(a,t,n))}function w0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Sd(t,n){w0(t,n),(t=t.alternate)&&w0(t,n)}function x0(t){if(t.tag===13||t.tag===31){var n=Er(t,67108864);n!==null&&un(n,t,67108864),Sd(t,67108864)}}function R0(t){if(t.tag===13||t.tag===31){var n=En();n=lr(n);var a=Er(t,n);a!==null&&un(a,t,n),Sd(t,n)}}var vc=!0;function TT(t,n,a,o){var h=G.T;G.T=null;var f=ie.p;try{ie.p=2,Ad(t,n,a,o)}finally{ie.p=f,G.T=h}}function ST(t,n,a,o){var h=G.T;G.T=null;var f=ie.p;try{ie.p=8,Ad(t,n,a,o)}finally{ie.p=f,G.T=h}}function Ad(t,n,a,o){if(vc){var h=wd(o);if(h===null)cd(t,n,o,Ec,a),N0(t,o);else if(wT(h,t,n,a,o))o.stopPropagation();else if(N0(t,o),n&4&&-1<AT.indexOf(t)){for(;h!==null;){var f=Sn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=ti(f.pendingLanes);if(y!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;y;){var N=1<<31-dt(y);b.entanglements[1]|=N,y&=~N}Ei(f),(qe&6)===0&&(nc=Wt()+500,nl(0))}}break;case 31:case 13:b=Er(f,2),b!==null&&un(b,f,2),sc(),Sd(f,2)}if(f=wd(o),f===null&&cd(t,n,o,Ec,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else cd(t,n,o,null,a)}}function wd(t){return t=An(t),xd(t)}var Ec=null;function xd(t){if(Ec=null,t=ai(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=g(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ec=t,null}function C0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sr()){case co:return 2;case ho:return 8;case as:case Dh:return 32;case Jl:return 268435456;default:return 32}default:return 32}}var Rd=!1,Ms=null,Vs=null,ks=null,ul=new Map,cl=new Map,js=[],AT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function N0(t,n){switch(t){case"focusin":case"focusout":Ms=null;break;case"dragenter":case"dragleave":Vs=null;break;case"mouseover":case"mouseout":ks=null;break;case"pointerover":case"pointerout":ul.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":cl.delete(n.pointerId)}}function hl(t,n,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Sn(n),n!==null&&x0(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function wT(t,n,a,o,h){switch(n){case"focusin":return Ms=hl(Ms,t,n,a,o,h),!0;case"dragenter":return Vs=hl(Vs,t,n,a,o,h),!0;case"mouseover":return ks=hl(ks,t,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return ul.set(f,hl(ul.get(f)||null,t,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,cl.set(f,hl(cl.get(f)||null,t,n,a,o,h)),!0}return!1}function I0(t){var n=ai(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,zn(t.priority,function(){R0(a)});return}}else if(n===31){if(n=g(a),n!==null){t.blockedOn=n,zn(t.priority,function(){R0(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=wd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Ao=o,a.target.dispatchEvent(o),Ao=null}else return n=Sn(a),n!==null&&x0(n),t.blockedOn=a,!1;n.shift()}return!0}function D0(t,n,a){bc(t)&&a.delete(n)}function xT(){Rd=!1,Ms!==null&&bc(Ms)&&(Ms=null),Vs!==null&&bc(Vs)&&(Vs=null),ks!==null&&bc(ks)&&(ks=null),ul.forEach(D0),cl.forEach(D0)}function Tc(t,n){t.blockedOn===n&&(t.blockedOn=null,Rd||(Rd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,xT)))}var Sc=null;function O0(t){Sc!==t&&(Sc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Sc===t&&(Sc=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(xd(o||a)===null)continue;break}var f=Sn(a);f!==null&&(t.splice(n,3),n-=3,wf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function ja(t){function n(N){return Tc(N,t)}Ms!==null&&Tc(Ms,t),Vs!==null&&Tc(Vs,t),ks!==null&&Tc(ks,t),ul.forEach(n),cl.forEach(n);for(var a=0;a<js.length;a++){var o=js[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<js.length&&(a=js[0],a.blockedOn===null);)I0(a),a.blockedOn===null&&js.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],y=h[Vt]||null;if(typeof f=="function")y||O0(a);else if(y){var b=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[Vt]||null)b=y.formAction;else if(xd(h)!==null)continue}else b=y.action;typeof b=="function"?a[o+1]=b:(a.splice(o,3),o-=3),O0(a)}}}function M0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Cd(t){this._internalRoot=t}Ac.prototype.render=Cd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=En();A0(a,o,t,n,null,null)},Ac.prototype.unmount=Cd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;A0(t.current,2,null,t,null,null),sc(),n[si]=null}};function Ac(t){this._internalRoot=t}Ac.prototype.unstable_scheduleHydration=function(t){if(t){var n=su();t={blockedOn:null,target:t,priority:n};for(var a=0;a<js.length&&n!==0&&n<js[a].priority;a++);js.splice(a,0,t),a===0&&I0(t)}};var V0=e.version;if(V0!=="19.2.1")throw Error(r(527,V0,"19.2.1"));ie.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(n),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var RT={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wc.isDisabled&&wc.supportsFiber)try{Ln=wc.inject(RT),Ut=wc}catch{}}return dl.createRoot=function(t,n){if(!l(t))throw Error(r(299));var a=!1,o="",h=Bp,f=Hp,y=qp;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=T0(t,1,!1,null,null,a,o,null,h,f,y,M0),t[si]=n.current,ud(t),new Cd(n)},dl.hydrateRoot=function(t,n,a){if(!l(t))throw Error(r(299));var o=!1,h="",f=Bp,y=Hp,b=qp,N=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),n=T0(t,1,!0,n,a??null,o,h,N,f,y,b,M0),n.context=S0(null),a=n.current,o=En(),o=lr(o),h=bs(o),h.callback=null,Ts(a,h,o),a=o,n.current.lanes=a,ar(n,a),Ei(n),t[si]=n.current,ud(t),new Ac(n)},dl.version="19.2.1",dl}var F0;function LT(){if(F0)return Dd.exports;F0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Dd.exports=PT(),Dd.exports}var UT=LT();const zT=Av(UT),BT=[{label:"Inter / Sans",value:"Inter, system-ui, sans-serif"},{label:"Arial",value:"Arial, Helvetica, sans-serif"},{label:"Helvetica",value:"Helvetica, Arial, sans-serif"},{label:"Times New Roman",value:'"Times New Roman", Times, serif'},{label:"Georgia",value:"Georgia, serif"},{label:"Courier New",value:'"Courier New", Courier, monospace'},{label:"Verdana",value:"Verdana, Geneva, sans-serif"},{label:"Cambria",value:"Cambria, Georgia, serif"}],G0=["#000000","#374151","#1d4ed8","#b91c1c","#047857","#a21caf","#c2410c","#4c1d95"],Xd={paperSize:"a4",orientation:"landscape",plateWidthCm:20,plateHeightCm:4.5,fontFamily:"Inter, system-ui, sans-serif",fontSize:24,textColor:"#000000",isBold:!0,isItalic:!1,borderStyle:"medium",secondaryScale:.4,showCutMarks:!1,showFoldLine:!0,secondaryColor:"#6b7280",secondaryIsItalic:!0,autoFit:!0},xc={a4:{width:21,height:29.7},letter:{width:21.59,height:27.94}};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qT=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),Q0=s=>{const e=qT(s);return e.charAt(0).toUpperCase()+e.slice(1)},wv=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),FT=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var GT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=me.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...g},p)=>me.createElement("svg",{ref:p,...GT,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:wv("lucide",l),...!c&&!FT(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,T])=>me.createElement(_,T)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=(s,e)=>{const i=me.forwardRef(({className:r,...l},c)=>me.createElement(QT,{ref:c,iconNode:e,className:wv(`lucide-${HT(Q0(s))}`,`lucide-${s}`,r),...l}));return i.displayName=Q0(s),i};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],$d=Ge("check",KT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ba=Ge("chevron-down",YT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],$T=Ge("chevron-right",XT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],JT=Ge("circle-alert",ZT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],xv=Ge("circle-question-mark",WT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],K0=Ge("clock",eS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],nS=Ge("file-text",tS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],sS=Ge("heart",iS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],aS=Ge("history",rS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Y0=Ge("list",oS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Sm=Ge("loader-circle",lS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],X0=Ge("lock",uS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],hS=Ge("log-in",cS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],dS=Ge("log-out",fS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],gS=Ge("mail",mS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],yS=Ge("palette",pS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],vS=Ge("panels-top-left",_S);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],bS=Ge("plus",ES);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Am=Ge("printer",TS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],AS=Ge("rotate-ccw",SS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Rv=Ge("save",wS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M14 15H9v-5",key:"pi4jk9"}],["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M21 3 9 15",key:"15kdhq"}]],RS=Ge("scaling",xS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],$0=Ge("settings",CS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=[["path",{d:"M3 5h18",key:"1u36vt"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 19h18",key:"awlh7x"}]],IS=Ge("text-align-justify",NS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Cv=Ge("trash-2",DS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],MS=Ge("user-plus",OS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],kS=Ge("user",VS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ul=Ge("x",jS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],LS=Ge("zoom-in",PS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],zS=Ge("zoom-out",US),ml=({title:s,icon:e,children:i,defaultOpen:r=!1,id:l})=>{const[c,d]=me.useState(r);return E.jsxs("div",{id:l,className:"border border-gray-200 rounded-lg overflow-hidden bg-white shadow-sm mb-3",children:[E.jsxs("button",{onClick:()=>d(!c),className:"w-full flex items-center justify-between p-2.5 bg-gray-50 hover:bg-gray-100 transition-colors",children:[E.jsxs("span",{className:"flex items-center gap-2 text-xs font-semibold text-gray-700",children:[e&&E.jsx(e,{className:"w-3.5 h-3.5 text-gray-500"})," ",s]}),E.jsx(Ba,{className:`w-3.5 h-3.5 text-gray-400 transition-transform ${c?"rotate-180":""}`})]}),c&&E.jsx("div",{className:"p-3 space-y-3 border-t border-gray-100",children:i})]})},BS=({config:s,setConfig:e,names:i,setNames:r,onPrint:l,bulkText:c,setBulkText:d,activeTab:g,setActiveTab:p,inputMode:_,setInputMode:T})=>{const[w,I]=me.useState(""),[z,te]=me.useState(""),ne=H=>{const W=H.target.value;d(W);const J=W.split(`
`).filter(x=>x.trim()!=="").map((x,S)=>{const R=x.split(/[,-]+(.+)/),M=R[0].trim(),D=R[1]?R[1].trim():"";return{id:`bulk-${S}`,line1:M,line2:D,scale:1}});r(J)},$=()=>{if(!w.trim())return;const H={id:`manual-${Date.now()}`,line1:w,line2:z,scale:1},W=[...i,H];r(W),d(W.map(J=>J.line2?`${J.line1}, ${J.line2}`:J.line1).join(`
`)),I(""),te("")},le=H=>{const W=i.filter(J=>J.id!==H);r(W),d(W.map(J=>J.line2?`${J.line1}, ${J.line2}`:J.line1).join(`
`))},ae=(H,W)=>{const J=i.map(x=>{if(x.id===H){const S=x.scale||1,R=Math.max(.5,Math.min(2,S+W));return{...x,scale:R}}return x});r(J)},se=(H,W)=>{e(J=>({...J,[H]:W}))};return E.jsxs("aside",{className:"w-full md:w-80 bg-white border-r border-gray-200 flex flex-col h-full max-h-screen overflow-hidden font-sans z-30 transition-all duration-300 text-[0.85rem]",children:[E.jsx("div",{className:"h-2 bg-gray-50/50"}),E.jsxs("div",{className:"flex border-b border-gray-200 bg-white",children:[E.jsxs("button",{onClick:()=>p("names"),className:`flex-1 py-2 text-xs font-medium flex items-center justify-center gap-1.5 transition-colors ${g==="names"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50/50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[E.jsx(Y0,{className:"w-3.5 h-3.5"})," Names"]}),E.jsxs("button",{onClick:()=>p("style"),className:`flex-1 py-2 text-xs font-medium flex items-center justify-center gap-1.5 transition-colors ${g==="style"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50/50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[E.jsx($0,{className:"w-3.5 h-3.5"})," Style"]})]}),E.jsx("div",{className:"flex-1 overflow-y-auto p-2.5 bg-gray-50/50",children:g==="names"?E.jsxs("div",{className:"space-y-3",children:[E.jsxs("div",{className:"flex rounded-lg bg-gray-200 p-0.5 mb-3",children:[E.jsxs("button",{onClick:()=>T("manual"),className:`flex-1 py-1 text-[10px] font-semibold rounded-md flex items-center justify-center gap-1.5 transition-all ${_==="manual"?"bg-white shadow text-gray-900":"text-gray-500 hover:text-gray-700"}`,children:[E.jsx(Y0,{className:"w-2.5 h-2.5"})," List & Size"]}),E.jsxs("button",{onClick:()=>{T("bulk");const H=i.map(W=>W.line2?`${W.line1}, ${W.line2}`:W.line1).join(`
`);d(H)},className:`flex-1 py-1 text-[10px] font-semibold rounded-md flex items-center justify-center gap-1.5 transition-all ${_==="bulk"?"bg-white shadow text-gray-900":"text-gray-500 hover:text-gray-700"}`,children:[E.jsx(IS,{className:"w-2.5 h-2.5"})," Bulk Text"]})]}),_==="manual"?E.jsxs(E.Fragment,{children:[E.jsxs("div",{id:"tour-manual-input",className:"bg-white p-3 rounded-lg border border-blue-100 shadow-sm space-y-2 mb-4",children:[E.jsx("h3",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wider mb-1",children:"Create New Plate"}),E.jsxs("div",{className:"space-y-1.5",children:[E.jsx("input",{type:"text",placeholder:"Full Name (e.g. John Doe)",className:"w-full p-2 border border-gray-300 rounded-md text-xs bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-shadow",value:w,onChange:H=>I(H.target.value),onKeyDown:H=>H.key==="Enter"&&$()}),E.jsx("input",{type:"text",placeholder:"Designation (Optional)",className:"w-full p-2 border border-gray-300 rounded-md text-xs bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-shadow",value:z,onChange:H=>te(H.target.value),onKeyDown:H=>H.key==="Enter"&&$()})]}),E.jsxs("button",{onClick:$,disabled:!w.trim(),className:"w-full py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed text-white text-xs font-semibold rounded-md shadow-sm flex items-center justify-center gap-1.5 transition-all",children:[E.jsx(bS,{className:"w-3.5 h-3.5"})," Add Plate"]})]}),E.jsxs("div",{id:"tour-names-list",className:"space-y-2",children:[E.jsx("div",{className:"flex items-center justify-between px-1",children:E.jsxs("h3",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wider",children:["Your Plates (",i.length,")"]})}),i.map(H=>E.jsxs("div",{className:"bg-white p-2.5 rounded-lg border border-gray-200 shadow-sm hover:border-blue-400 transition-all group",children:[E.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[E.jsxs("div",{className:"flex-1 min-w-0",children:[E.jsx("div",{className:"text-sm font-semibold text-gray-900 truncate leading-tight",children:H.line1}),H.line2&&E.jsx("div",{className:"text-[10px] text-gray-500 truncate mt-0.5",children:H.line2})]}),E.jsx("button",{onClick:()=>le(H.id),className:"delete-btn p-1 text-gray-300 hover:text-red-600 hover:bg-red-50 rounded-md transition-colors",title:"Delete",children:E.jsx(Cv,{className:"w-3.5 h-3.5"})})]}),E.jsxs("div",{className:"zoom-controls flex items-center gap-1.5 bg-gray-50 rounded-md p-1 border border-gray-100",children:[E.jsx("span",{className:"text-[9px] uppercase font-bold text-gray-400 px-1",children:"Size"}),E.jsx("button",{onClick:()=>ae(H.id,-.1),className:"onboarding-zoom-btn w-6 h-6 flex items-center justify-center hover:bg-white hover:shadow-sm rounded text-gray-600 transition-all border border-transparent hover:border-gray-200",title:"Decrease Size",children:E.jsx(zS,{className:"w-3 h-3"})}),E.jsxs("div",{className:"flex-1 text-center font-mono text-[10px] font-medium text-gray-700",children:[Math.round((H.scale||1)*100),"%"]}),E.jsx("button",{onClick:()=>ae(H.id,.1),className:"onboarding-zoom-btn w-6 h-6 flex items-center justify-center hover:bg-white hover:shadow-sm rounded text-gray-600 transition-all border border-transparent hover:border-gray-200",title:"Increase Size",children:E.jsx(LS,{className:"w-3 h-3"})})]})]},H.id)),i.length===0&&E.jsx("div",{className:"text-center py-8 bg-white rounded-lg border border-dashed border-gray-300",children:E.jsx("p",{className:"text-gray-400 text-xs",children:"No names added yet."})})]})]}):E.jsxs("div",{id:"tour-bulk-mode",className:"bg-white p-3 rounded-lg border border-gray-200 shadow-sm h-full flex flex-col",children:[E.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1.5",children:"Bulk Paste"}),E.jsxs("div",{className:"text-[10px] text-gray-500 mb-2 leading-relaxed",children:["Paste your list below. ",E.jsx("br",{}),"One name per line. Use a comma or dash to separate the designation."]}),E.jsx("textarea",{className:"flex-1 w-full p-2 border border-gray-300 rounded-md bg-gray-50 focus:bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-xs font-mono leading-relaxed outline-none transition-colors resize-none",placeholder:`John Doe, CEO
Jane Smith, Manager`,value:c,onChange:ne})]})]}):E.jsxs("div",{className:"pb-8",children:[E.jsx(ml,{title:"Paper & Layout",icon:vS,defaultOpen:!0,children:E.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-[10px] font-medium text-gray-600 mb-1",children:"Paper Size"}),E.jsxs("div",{className:"relative",children:[E.jsxs("select",{className:"w-full p-1.5 pl-2 bg-gray-50 border border-gray-200 rounded-md text-xs appearance-none focus:ring-2 focus:ring-blue-500 outline-none",value:s.paperSize,onChange:H=>se("paperSize",H.target.value),children:[E.jsx("option",{value:"a4",children:"A4"}),E.jsx("option",{value:"letter",children:"Letter"})]}),E.jsx(Ba,{className:"absolute right-2 top-2 w-3 h-3 text-gray-400 pointer-events-none"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-[10px] font-medium text-gray-600 mb-1",children:"Orientation"}),E.jsxs("div",{className:"relative",children:[E.jsxs("select",{className:"w-full p-1.5 pl-2 bg-gray-50 border border-gray-200 rounded-md text-xs appearance-none focus:ring-2 focus:ring-blue-500 outline-none",value:s.orientation,onChange:H=>se("orientation",H.target.value),children:[E.jsx("option",{value:"portrait",children:"Portrait"}),E.jsx("option",{value:"landscape",children:"Landscape"})]}),E.jsx(Ba,{className:"absolute right-2 top-2 w-3 h-3 text-gray-400 pointer-events-none"})]})]})]})}),E.jsx(ml,{id:"tour-dimensions",title:"Plate Dimensions",icon:nS,defaultOpen:!0,children:E.jsxs("div",{className:"space-y-3",children:[E.jsxs("div",{children:[E.jsxs("div",{className:"flex justify-between mb-1",children:[E.jsx("label",{className:"text-[10px] font-medium text-gray-600",children:"Width"}),E.jsxs("div",{className:"flex items-center gap-1 text-[10px] font-mono text-blue-600 bg-blue-50 px-1 rounded",children:[E.jsx("input",{type:"number",min:"5",max:"28",step:"0.1",value:s.plateWidthCm,onChange:H=>{const W=parseFloat(H.target.value);isNaN(W)||se("plateWidthCm",Math.max(5,Math.min(28,W)))},className:"w-10 bg-transparent border-none p-0 focus:ring-0 text-right outline-none"}),E.jsx("span",{children:"cm"})]})]}),E.jsx("input",{type:"range",min:"5",max:"28",step:"0.1",value:s.plateWidthCm,onChange:H=>se("plateWidthCm",parseFloat(H.target.value)),className:"w-full h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-600"})]}),E.jsxs("div",{children:[E.jsxs("div",{className:"flex justify-between mb-1",children:[E.jsx("label",{className:"text-[10px] font-medium text-gray-600",children:"Height (One Side)"}),E.jsxs("div",{className:"flex items-center gap-1 text-[10px] font-mono text-blue-600 bg-blue-50 px-1 rounded",children:[E.jsx("input",{type:"number",min:"2",max:"14",step:"0.1",value:s.plateHeightCm,onChange:H=>{const W=parseFloat(H.target.value);isNaN(W)||se("plateHeightCm",Math.max(2,Math.min(14,W)))},className:"w-8 bg-transparent border-none p-0 focus:ring-0 text-right outline-none"}),E.jsx("span",{children:"cm"})]})]}),E.jsx("input",{type:"range",min:"2",max:"14",step:"0.1",value:s.plateHeightCm,onChange:H=>se("plateHeightCm",parseFloat(H.target.value)),className:"w-full h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-600"})]})]})}),E.jsx(ml,{title:"Sizing",icon:RS,defaultOpen:!0,children:E.jsxs("div",{className:"space-y-3",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{children:[E.jsx("span",{className:"text-xs font-medium text-gray-800",children:"Auto-fit Text Width"}),E.jsx("p",{className:"text-[9px] text-gray-400 mt-0.5",children:"Scale text to fit plate automatically"})]}),E.jsx("button",{onClick:()=>se("autoFit",!s.autoFit),className:`relative w-9 h-5 rounded-full transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${s.autoFit?"bg-blue-600":"bg-gray-200"}`,children:E.jsx("span",{className:`absolute left-0.5 top-0.5 w-4 h-4 bg-white rounded-full transition-transform duration-200 ease-in-out shadow-sm ${s.autoFit?"translate-x-4":"translate-x-0"}`})})]}),!s.autoFit&&E.jsxs("div",{className:"pt-3 border-t border-gray-100 space-y-3 animate-in fade-in duration-300",children:[E.jsxs("div",{children:[E.jsxs("div",{className:"flex justify-between mb-1",children:[E.jsx("label",{className:"text-[10px] font-medium text-gray-600",children:"Base Font Size"}),E.jsxs("span",{className:"text-[10px] font-mono text-blue-600 bg-blue-50 px-1 rounded",children:[s.fontSize," pt"]})]}),E.jsx("input",{type:"range",min:"10",max:"72",value:s.fontSize,onChange:H=>se("fontSize",parseInt(H.target.value)),className:"w-full h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-600"})]}),E.jsxs("div",{className:"bg-gray-50 p-2 rounded-md border border-gray-100",children:[E.jsxs("div",{className:"flex justify-between mb-1",children:[E.jsx("label",{className:"text-[10px] font-medium text-gray-600",children:"Secondary Scale"}),E.jsxs("span",{className:"text-[10px] font-mono text-blue-600 bg-white border border-gray-200 px-1 rounded",children:[Math.round(s.secondaryScale*100),"%"]})]}),E.jsx("input",{type:"range",min:"0.2",max:"1.0",step:"0.05",value:s.secondaryScale,onChange:H=>se("secondaryScale",parseFloat(H.target.value)),className:"w-full h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-600"})]})]})]})}),E.jsx(ml,{title:"Text Styling",icon:yS,defaultOpen:!0,children:E.jsxs("div",{className:"space-y-3",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-[10px] font-medium text-gray-600 mb-1",children:"Font Family"}),E.jsxs("div",{className:"relative",children:[E.jsx("select",{className:"w-full p-1.5 pl-2 bg-gray-50 border border-gray-200 rounded-md text-xs appearance-none focus:ring-2 focus:ring-blue-500 outline-none",value:s.fontFamily,onChange:H=>se("fontFamily",H.target.value),children:BT.map(H=>E.jsx("option",{value:H.value,children:H.label},H.value))}),E.jsx(Ba,{className:"absolute right-2 top-2 w-3 h-3 text-gray-400 pointer-events-none"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-[9px] font-bold text-gray-400 uppercase tracking-wider mb-1.5",children:"Main Text"}),E.jsxs("div",{className:"flex gap-1.5 mb-2",children:[E.jsx("button",{onClick:()=>se("isBold",!s.isBold),className:`flex-1 py-1.5 text-[10px] font-semibold border rounded-md transition-all ${s.isBold?"bg-blue-600 border-blue-600 text-white":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"Bold"}),E.jsx("button",{onClick:()=>se("isItalic",!s.isItalic),className:`flex-1 py-1.5 text-[10px] font-serif italic border rounded-md transition-all ${s.isItalic?"bg-blue-600 border-blue-600 text-white":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"Italic"})]}),E.jsx("div",{className:"flex flex-wrap gap-1.5",children:G0.map(H=>E.jsx("button",{onClick:()=>se("textColor",H),className:`w-5 h-5 rounded-full transition-all relative ${s.textColor===H?"ring-2 ring-offset-1 ring-blue-500 scale-110 shadow-sm":"border border-gray-200 hover:scale-110"}`,style:{backgroundColor:H},children:s.textColor===H&&E.jsx($d,{className:"w-2.5 h-2.5 text-white absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"})},H))})]}),E.jsxs("div",{className:"pt-2 border-t border-gray-100",children:[E.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[E.jsx("label",{className:"block text-[9px] font-bold text-gray-400 uppercase tracking-wider",children:"Secondary Text"}),E.jsxs("div",{className:"flex items-center gap-1.5",children:[E.jsx("span",{className:"text-[9px] text-gray-500",children:"Italic"}),E.jsx("button",{onClick:()=>se("secondaryIsItalic",!s.secondaryIsItalic),className:`w-7 h-3.5 rounded-full transition-colors flex items-center px-0.5 ${s.secondaryIsItalic?"bg-blue-600 justify-end":"bg-gray-300 justify-start"}`,children:E.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-white shadow-sm"})})]})]}),E.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[E.jsx("button",{onClick:()=>se("secondaryColor",s.textColor),className:`h-5 px-1.5 rounded-full border text-[9px] font-medium flex items-center justify-center transition-all ${s.secondaryColor===s.textColor?"bg-blue-50 border-blue-500 text-blue-600 ring-1 ring-blue-500":"bg-white border-gray-200 text-gray-500 hover:border-gray-300"}`,children:"Match"}),G0.slice(0,5).map(H=>E.jsx("button",{onClick:()=>se("secondaryColor",H),className:`w-5 h-5 rounded-full border transition-transform hover:scale-110 relative ${s.secondaryColor===H?"ring-2 ring-offset-1 ring-blue-500 scale-110 shadow-sm":"border-gray-200"}`,style:{backgroundColor:H},children:s.secondaryColor===H&&E.jsx($d,{className:"w-2.5 h-2.5 text-white absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"})},H+"sec"))]})]})]})}),E.jsx(ml,{title:"Appearance",icon:$0,defaultOpen:!0,children:E.jsx("div",{className:"space-y-2",children:E.jsxs("div",{children:[E.jsx("label",{className:"block text-[10px] font-medium text-gray-600 mb-1",children:"Border Thickness"}),E.jsxs("div",{className:"relative",children:[E.jsxs("select",{className:"w-full p-1.5 pl-2 bg-gray-50 border border-gray-200 rounded-md text-xs appearance-none focus:ring-2 focus:ring-blue-500 outline-none",value:s.borderStyle,onChange:H=>se("borderStyle",H.target.value),children:[E.jsx("option",{value:"none",children:"None"}),E.jsx("option",{value:"thin",children:"Thin"}),E.jsx("option",{value:"medium",children:"Medium"}),E.jsx("option",{value:"thick",children:"Thick"})]}),E.jsx(Ba,{className:"absolute right-2 top-2 w-3 h-3 text-gray-400 pointer-events-none"})]})]})})})]})}),E.jsx("div",{id:"tour-print",className:"p-2.5 border-t border-gray-200 bg-white",children:E.jsxs("button",{onClick:l,className:"w-full py-2 px-3 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-lg shadow-lg hover:shadow-xl transition-all flex items-center justify-center gap-1.5 transform active:scale-[0.98] text-xs",children:[E.jsx(Am,{className:"w-4 h-4"}),"Print Name Plates"]})})]})},Rc=({text:s,style:e,enabled:i})=>{const r=me.useRef(null),l=me.useRef(null),[c,d]=me.useState(1);return me.useLayoutEffect(()=>{if(!r.current||!l.current)return;if(!i){d(1);return}const g=r.current.clientWidth,p=l.current.scrollWidth;p>g?d(g/p):d(1)},[s,e.fontSize,e.fontFamily,e.fontWeight,i]),E.jsx("div",{ref:r,style:{width:"100%",display:"flex",justifyContent:"center",overflow:"hidden"},children:E.jsx("span",{ref:l,style:{...e,whiteSpace:"nowrap",transform:`scale(${c})`,transformOrigin:"center center",display:"inline-block"},children:s})})},HS=({data:s,config:e,isFirstOnPage:i=!0,isLastOnPage:r=!0,showPrintRulers:l=!0})=>{const c={none:"0px",thin:"1px",medium:"2px",thick:"4px"},d={border:e.borderStyle!=="none"?`${c[e.borderStyle]} solid ${e.textColor}`:"none"},g={width:`${e.plateWidthCm}cm`,height:`${e.plateHeightCm*2}cm`,position:"relative",display:"flex",flexDirection:"column",boxSizing:"border-box",...d,color:e.textColor,fontFamily:e.fontFamily,backgroundColor:"white"},p={height:"50%",width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center",padding:"0.5cm",boxSizing:"border-box",overflow:"hidden"};let _=24,T=16;const w=e.autoFit?.4:e.secondaryScale,I=s.scale||1;if(e.autoFit){const se=(e.plateHeightCm-1)*37.8,H=s.line2?1+w:1;_=se/(H*1.2)*.75,_=Math.min(_,150),_=_*I,T=_*w}else _=e.fontSize*I,T=_*e.secondaryScale;const z={fontSize:`${_}pt`,fontWeight:e.isBold?"bold":"normal",fontStyle:e.isItalic?"italic":"normal",lineHeight:1.2},te={fontSize:`${T}pt`,fontWeight:e.isBold?"600":"normal",fontStyle:e.secondaryIsItalic?"italic":"normal",color:e.secondaryColor,marginTop:"0.2em",lineHeight:1.2},ne=(ae,se,H=!1,W=!0)=>{const J=[],x=W?ae+2:ae,S=Math.floor(x*10);for(let R=0;R<=S;R++){const M=R%10===0,D=R%5===0,j=R/S*100;se?J.push(E.jsx("div",{className:`absolute ${H?"left-0":"right-0"}`,style:{top:`${j}%`,width:M?"0.4cm":D?"0.25cm":"0.15cm",height:"0.5px",backgroundColor:"#666"},children:M&&E.jsx("span",{className:"absolute text-[6pt] text-gray-600",style:H?{left:"0.5cm",top:"-0.15cm"}:{right:"0.5cm",top:"-0.15cm"},children:R/10})},R)):J.push(E.jsx("div",{className:"absolute top-0",style:{left:`${j}%`,height:M?"0.4cm":D?"0.25cm":"0.15cm",width:"0.5px",backgroundColor:"#666"},children:M&&E.jsx("span",{className:"absolute text-[6pt] text-gray-600",style:{left:"-0.15cm",top:"0.45cm"},children:R/10})},R))}return J},$=e.plateHeightCm*2-(r?.1:0),le=Math.min(e.plateWidthCm+2,28);return E.jsxs("div",{className:"name-plate-container",style:g,children:[E.jsx("div",{className:"absolute top-1/2 left-0 w-full border-t border-dashed border-gray-300 transform -translate-y-1/2",style:{borderWidth:"1px"}}),l&&E.jsx("div",{className:"absolute -right-[0.8cm] pointer-events-none",style:{width:"0.7cm",height:`${$}cm`,top:"0"},children:E.jsx("div",{className:"relative w-full h-full border-l border-gray-400",children:ne(e.plateHeightCm*2,!0,!0,!1)})}),l&&r&&E.jsx("div",{className:"absolute -left-[1cm] -bottom-[0.8cm] pointer-events-none",style:{height:"0.7cm",width:`${le}cm`},children:E.jsx("div",{className:"relative w-full h-full border-t border-gray-400",children:ne(le-2,!1)})}),E.jsxs("div",{style:{...p,transform:"rotate(180deg)"},children:[E.jsx(Rc,{text:s.line1,style:z,enabled:e.autoFit}),s.line2&&E.jsx(Rc,{text:s.line2,style:te,enabled:e.autoFit})]}),E.jsxs("div",{style:p,children:[E.jsx(Rc,{text:s.line1,style:z,enabled:e.autoFit}),s.line2&&E.jsx(Rc,{text:s.line2,style:te,enabled:e.autoFit})]})]})},qS=({config:s,names:e,onHelp:i})=>{const[r,l]=me.useState(.7),[c,d]=me.useState(!1),[g,p]=me.useState(!0),[_,T]=me.useState(!0),w=me.useMemo(()=>{const z=xc[s.paperSize];s.orientation==="portrait"?z.width:z.height;const te=s.orientation==="portrait"?z.height:z.width,ne=s.plateHeightCm*2,$=te-1,le=ne*2<=$?2:1,ae=[];for(let se=0;se<e.length;se+=le)ae.push(e.slice(se,se+le));return ae},[s.paperSize,s.orientation,s.plateHeightCm,e]),I=s.orientation==="portrait"?xc[s.paperSize]:{width:xc[s.paperSize].height,height:xc[s.paperSize].width};return E.jsxs("div",{className:"print-preview-container flex flex-col h-full w-full bg-gray-100 relative",children:[E.jsxs("div",{className:"flex-1 overflow-auto bg-gray-100 p-8 flex flex-col items-center",children:[e.length===0&&E.jsx("div",{className:"text-gray-400 text-lg mt-20 print:hidden",children:"Start by adding names on the left..."}),E.jsx("div",{className:"print-pages-wrapper flex flex-col items-center gap-20 print:gap-0",style:{transform:`scale(${r})`,transformOrigin:"top center"},children:w.map((z,te)=>{const ne=s.plateHeightCm*2,$=ne*z.length,le=(I.height-$)/2,ae=le+$,se=[le];for(let x=1;x<=z.length;x++)se.push(le+ne*x);const H=(I.width-s.plateWidthCm)/2,W=H+s.plateWidthCm,J=[H,W];return E.jsxs("div",{className:"page-wrapper relative print:static",children:[E.jsxs("div",{className:"page-header absolute -top-10 left-0 right-0 text-center text-sm text-gray-600 print:hidden pointer-events-none z-10 font-semibold uppercase tracking-wide bg-white/80 py-1 rounded-md mx-auto w-max px-4",children:["Page ",te+1," of ",w.length," (",s.paperSize.toUpperCase()," - ",s.orientation,")"]}),c&&E.jsxs("div",{className:"guides absolute inset-0 pointer-events-none z-20 print:hidden",children:[se.map((x,S)=>E.jsx("div",{className:"absolute left-0 w-full border-t border-dotted border-red-400 opacity-50",style:{top:`${x/I.height*100}%`}},`h-line-${S}`)),J.map((x,S)=>E.jsx("div",{className:"absolute top-0 h-full border-l border-dotted border-red-400 opacity-50",style:{left:`${x/I.width*100}%`}},`v-line-${S}`))]}),c&&E.jsx("div",{className:"ruler-left absolute left-0 top-0 h-full w-12 -translate-x-full print:hidden flex flex-col pointer-events-none select-none bg-white/50 border-r border-gray-200",children:E.jsx("div",{className:"relative w-full h-full",children:Array.from({length:Math.floor(I.height)+1},(x,S)=>{const R=S>=Math.floor(le)&&S<=Math.ceil(ae);return E.jsxs("div",{className:"absolute right-0 w-full flex items-center justify-end",style:{top:`${S/I.height*100}%`,transform:"translateY(-50%)"},children:[E.jsx("span",{className:`text-[10px] font-medium mr-2 ${R?"text-red-500 font-bold":"text-gray-500"}`,children:S}),E.jsx("div",{className:`w-3 h-px ${R?"bg-red-400":"bg-gray-400"}`})]},S)})})}),c&&E.jsx("div",{className:"ruler-right absolute right-0 top-0 h-full w-12 translate-x-full print:hidden flex flex-col pointer-events-none select-none bg-white/50 border-l border-gray-200",children:E.jsx("div",{className:"relative w-full h-full",children:Array.from({length:Math.floor(I.height)+1},(x,S)=>{const R=S>=Math.floor(le)&&S<=Math.ceil(ae);return E.jsxs("div",{className:"absolute left-0 w-full flex items-center justify-start",style:{top:`${S/I.height*100}%`,transform:"translateY(-50%)"},children:[E.jsx("div",{className:`w-3 h-px ${R?"bg-red-400":"bg-gray-400"}`}),E.jsx("span",{className:`text-[10px] font-medium ml-2 ${R?"text-red-500 font-bold":"text-gray-500"}`,children:S})]},S)})})}),c&&E.jsx("div",{className:"ruler-bottom absolute bottom-0 left-0 w-full h-12 translate-y-full print:hidden flex pointer-events-none select-none bg-white/50 border-t border-gray-200",children:E.jsx("div",{className:"relative w-full h-full",children:Array.from({length:Math.floor(I.width)+1},(x,S)=>{const R=S>=Math.floor(H)&&S<=Math.ceil(W);return E.jsxs("div",{className:"absolute top-0 h-full flex flex-col items-center justify-start",style:{left:`${S/I.width*100}%`,transform:"translateX(-50%)"},children:[E.jsx("div",{className:`h-3 w-px ${R?"bg-red-400":"bg-gray-400"}`}),E.jsx("span",{className:`text-[10px] font-medium mt-1 ${R?"text-red-500 font-bold":"text-gray-500"}`,children:S})]},S)})})}),E.jsx("div",{className:"print-page bg-white shadow-2xl relative print:shadow-none print:m-0",style:{width:`${I.width}cm`,height:`${I.height}cm`,padding:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:0},children:z.map((x,S)=>E.jsxs("div",{className:"plate-container z-10 relative group",children:[g&&E.jsx("div",{className:`indicator-width absolute left-0 w-full text-center text-sm text-blue-600 font-bold print:hidden z-50 ${S===0?"-top-10":"-bottom-10"}`,children:E.jsxs("div",{className:"flex items-center justify-center gap-2 bg-white/90 shadow-sm rounded-full py-1 px-4 mx-auto w-max border border-blue-200",children:[E.jsx("div",{className:"h-px w-8 bg-blue-400"}),E.jsxs("span",{children:[s.plateWidthCm," cm"]}),E.jsx("div",{className:"h-px w-8 bg-blue-400"})]})}),g&&E.jsx("div",{className:`indicator-height absolute top-0 h-full flex items-center justify-center text-sm text-blue-600 font-bold print:hidden z-50 ${S===0?"-left-16":"-right-16"}`,children:E.jsxs("div",{className:"flex flex-col items-center gap-2 bg-white/90 shadow-sm rounded-full py-4 px-1 border border-blue-200",children:[E.jsx("div",{className:"w-px h-8 bg-blue-400"}),E.jsxs("span",{className:"vertical-rl rotate-180",style:{writingMode:"vertical-rl"},children:[s.plateHeightCm*2," cm"]}),E.jsx("div",{className:"w-px h-8 bg-blue-400"})]})}),E.jsx(HS,{data:x,config:s,isFirstOnPage:S===0,isLastOnPage:S===z.length-1,showPrintRulers:_})]},x.id))})]},te)})})]}),E.jsxs("div",{className:"view-options-bar flex items-center justify-between px-4 py-2.5 bg-white/95 backdrop-blur-sm border-t border-gray-200 shadow-[0_-4px_6px_-1px_rgb(0,0,0,0.05)] print:hidden z-50 sticky bottom-0",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("div",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"View Options"}),E.jsxs("label",{className:"flex items-center gap-1.5 text-xs text-gray-600 cursor-pointer hover:text-gray-900 font-medium",children:[E.jsx("input",{type:"checkbox",checked:c,onChange:z=>d(z.target.checked),className:"w-3.5 h-3.5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),"Page Ruler"]}),E.jsxs("label",{className:"flex items-center gap-1.5 text-xs text-gray-600 cursor-pointer hover:text-gray-900 font-medium",children:[E.jsx("input",{type:"checkbox",checked:g,onChange:z=>p(z.target.checked),className:"w-3.5 h-3.5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),"Indicators"]}),E.jsxs("label",{className:"flex items-center gap-1.5 text-xs text-gray-600 cursor-pointer hover:text-gray-900 font-medium",children:[E.jsx("input",{type:"checkbox",checked:_,onChange:z=>T(z.target.checked),className:"w-3.5 h-3.5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),"Print Rulers"]})]}),E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-600 font-medium",children:[E.jsx("span",{className:"text-gray-400 uppercase font-bold text-[10px]",children:"Zoom"}),E.jsx("input",{type:"range",min:"30",max:"150",value:r*100,onChange:z=>l(Number(z.target.value)/100),className:"w-24 h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-600"}),E.jsxs("span",{className:"w-8 text-right font-mono font-bold text-blue-600",children:[Math.round(r*100),"%"]})]}),E.jsx("button",{onClick:i,className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors border border-transparent hover:border-blue-100",title:"Show Instructions",children:E.jsx(xv,{className:"w-4 h-4"})})]})]}),E.jsx("style",{children:`
        @media print {
          /* Reset the entire document for printing */
          html, body, #root {
            height: auto !important;
            overflow: visible !important;
            margin: 0 !important;
            padding: 0 !important;
            background: white !important;
          }
          
          /* Hide all non-print elements */
          aside, footer, header, nav, .fixed, .view-options-bar,
          .page-header, .guides, .ruler-left, .ruler-right, .ruler-bottom,
          .indicator-width, .indicator-height {
            display: none !important;
          }

          /* Ensure proper page breaks and layout */
          .print-preview-container {
            display: block !important;
            height: auto !important;
            width: auto !important;
            overflow: visible !important;
            background: white !important;
          }
           
          /* Force display of print wrappers */
          .print-pages-wrapper, .page-wrapper {
             display: block !important;
             height: auto !important;
             overflow: visible !important;
             transform: none !important; /* Disable zoom for print */
          }

          /* Define page constraints */
          .print-page {
            box-shadow: none !important;
            margin: 0 !important;
            page-break-after: always;
            break-after: always;
            print-color-adjust: exact;
            -webkit-print-color-adjust: exact;
          }
          
          /* Ensure last page doesn't break endlessly */
          .page-wrapper:last-child .print-page {
             break-after: auto;
             page-break-after: auto;
          }
        }
      `})]})},FS=({isOpen:s,onClose:e,onConfirm:i})=>s?E.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 print:hidden",children:E.jsx("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full animate-in fade-in zoom-in duration-200",children:E.jsxs("div",{className:"p-6 text-center",children:[E.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:E.jsx(Am,{className:"w-8 h-8 text-blue-600"})}),E.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Ready to Print!"}),E.jsxs("p",{className:"text-gray-600 mb-6",children:["Your name plates are prepared for A4 or Letter paper.",E.jsx("br",{}),"Review the layout and continue when you're ready."]}),E.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mb-6 border border-gray-100",children:E.jsxs("p",{className:"text-sm text-gray-500 flex items-center justify-center gap-1 font-medium",children:["Developed by ",E.jsx("span",{className:"text-blue-600",children:"Karan Shekhawat"})," with ",E.jsx(sS,{className:"w-3 h-3 text-red-500 fill-red-500"})]})}),E.jsxs("div",{className:"flex gap-3",children:[E.jsxs("button",{onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition-colors flex items-center justify-center gap-2",children:[E.jsx(Ul,{className:"w-4 h-4"})," Adjust"]}),E.jsxs("button",{onClick:i,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors shadow-sm flex items-center justify-center gap-2",children:[E.jsx($d,{className:"w-4 h-4"})," Continue"]})]})]})})}):null,Cc=[{id:"welcome",targetId:null,title:"Welcome to Tent Card Generator",text:"Create printable name plates adjsut size accroding to your actual name plate holder. Use Ruler to measure size of plate holder.",subtext:"Developed by Karan Shekhawat",position:"center"},{id:"manual",targetId:"tour-manual-input",title:"Add Name and Designation",text:'Manually add full name and designation in the fields, then click "Add Plate" to create a name plate.',position:"right"},{id:"bulk",targetId:"tour-bulk-mode",title:"Adding Name Plates in Bulk",text:'Switch to "Bulk Text" to paste a list of names.',tip:"Tip: Use a comma or new line to separate the name and designation.",position:"right"},{id:"delete",targetId:"tour-names-list",arrowSelector:".delete-btn",title:"Delete Name Plates",text:"Remove any unwanted name plates using the trash icon on the card.",position:"right"},{id:"zoom",targetId:"tour-names-list",arrowSelector:".onboarding-zoom-btn",title:"Adjust Zoom of Individual Name",text:"Adjust the font size for specific long names using the + / - buttons on each card.",position:"right"},{id:"dimensions",targetId:"tour-dimensions",title:"Plate Dimensions",text:"Adjust width and height here.",tip:"Tip: Measure your actual physical name plate holder and set the exact same size here.",position:"right"},{id:"print",targetId:"tour-print",title:"Ready to Print",text:"Click the Print button when you are ready.",tip:"Tip: We recommend printing just ONE name plate first to test the alignment.",position:"top"}],GS=({isOpen:s,onClose:e,onStepChange:i})=>{const[r,l]=me.useState(0),[c,d]=me.useState({}),[g,p]=me.useState({}),[_,T]=me.useState([]);if(me.useEffect(()=>{s&&(l(0),i(0))},[s]),me.useEffect(()=>{s&&i(r)},[r,s,i]),me.useEffect(()=>{if(!s)return;const ne=setTimeout(()=>{const $=Cc[r];if(!$.targetId){d({opacity:0}),T([]),p({top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxWidth:"500px"});return}const le=document.getElementById($.targetId);if(le){const ae=le.getBoundingClientRect();if(d({opacity:1,top:ae.top,left:ae.left,width:ae.width,height:ae.height,boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.75)",borderRadius:"8px"}),$.arrowSelector){const J=le.querySelectorAll($.arrowSelector);if(J.length>0){const x=[],S=$.id==="zoom"?2:1;Array.from(J).slice(0,S).forEach(R=>{const M=R.getBoundingClientRect();x.push({display:"block",top:M.bottom+2,left:M.left+M.width/2-18})}),T(x)}else T([])}else T([]);const se=20;let H=ae.top,W=ae.right+se;$.position==="top"&&(H=ae.top-200,W=ae.left),H<20&&(H=20),W>window.innerWidth-320&&(W=window.innerWidth-340),p({top:H,left:W,transform:$.position==="top"?"translateY(-100%)":"translateY(0)",maxWidth:"300px"})}else d({opacity:0}),T([]),p({top:"50%",left:"50%",transform:"translate(-50%, -50%)"})},100);return()=>clearTimeout(ne)},[s,r]),!s)return null;const w=Cc[r],I=r===Cc.length-1,z=()=>{I?e():l(ne=>ne+1)},te=()=>{r>0&&l(ne=>ne-1)};return E.jsxs("div",{className:"fixed inset-0 z-[60] overflow-hidden","aria-live":"polite",children:[E.jsx("div",{className:"absolute transition-all duration-300 ease-in-out pointer-events-none z-40",style:{...c,position:"absolute"}}),w.arrowSelector&&_.map((ne,$)=>E.jsx("div",{className:"fixed z-50 pointer-events-none animate-bounce",style:ne,children:E.jsxs("svg",{fill:"none",height:"36",width:"36",viewBox:"0 0 64 64",xmlns:"http://www.w3.org/2000/svg",style:{filter:"drop-shadow(0px 4px 6px rgba(0,0,0,0.3))"},children:[E.jsx("path",{clipRule:"evenodd",d:"m27 2c-4.4183 0-8 3.58172-8 8v20.5968l-1.9387-.517c-5.0788-1.3543-10.0613 2.4736-10.0613 7.7299v2.1903c0 .6687.3342 1.2932.8906 1.6641l10.9923 7.3282c.2277.1518.4647.2873.7091.4059-.3794.787-.592 1.6696-.592 2.6018v4c0 3.3137 2.6863 6 6 6h26c3.3137 0 6-2.6863 6-6v-4c0-1.5367-.5777-2.9385-1.5278-4 .9501-1.0615 1.5278-2.4633 1.5278-4v-12.9111c0-5.0575-3.776-9.3188-8.7967-9.9274l-13.2033-1.6004v-9.5611c0-4.41828-3.5817-8-8-8zm24 44c1.1046 0 2-.8954 2-2v-12.9111c0-3.0345-2.2656-5.5913-5.278-5.9564l-14.9627-1.8137c-1.0041-.1217-1.7593-.974-1.7593-1.9855v-11.3333c0-2.20914-1.7909-4-4-4s-4 1.79086-4 4v23.2c0 .6214-.2888 1.2074-.7815 1.586-.4928.3785-1.1334.5066-1.7338.3465l-4.454-1.1878c-2.5394-.6771-5.0307 1.2368-5.0307 3.865v1.1199l10.1017 6.7345c.3285.219.7146.3359 1.1094.3359zm-26 4c-1.1046 0-2 .8954-2 2v4c0 1.1046.8954 2 2 2h26c1.1046 0 2-.8954 2-2v-4c0-1.1046-.8954-2-2-2z",fill:"#000",fillRule:"evenodd"}),E.jsxs("g",{fill:"#fa1228",children:[E.jsx("path",{d:"m53 44c0 1.1046-.8954 2-2 2h-28.7889c-.3948 0-.7809-.1169-1.1094-.3359l-10.1017-6.7345v-1.1199c0-2.6282 2.4913-4.5421 5.0307-3.865l4.454 1.1878c.6004.1601 1.241.032 1.7338-.3465.4927-.3786.7815-.9646.7815-1.586v-23.2c0-2.20914 1.7909-4 4-4s4 1.79086 4 4v11.3333c0 1.0115.7552 1.8638 1.7593 1.9855l14.9627 1.8137c3.0124.3651 5.278 2.9219 5.278 5.9564z"}),E.jsx("path",{d:"m23 52c0-1.1046.8954-2 2-2h26c1.1046 0 2 .8954 2 2v4c0 1.1046-.8954 2-2 2h-26c-1.1046 0-2-.8954-2-2z"})]})]})},$)),!w.targetId&&E.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm z-30 animate-fade-in"}),E.jsxs("div",{className:"fixed z-50 bg-white rounded-xl shadow-2xl p-6 flex flex-col gap-4 animate-in fade-in zoom-in-95 duration-300",style:g,children:[E.jsxs("div",{className:"flex items-start justify-between gap-4",children:[E.jsxs("div",{children:[E.jsx("h3",{className:"text-xl font-bold text-gray-900 leading-tight",children:w.title}),w.subtext&&E.jsx("p",{className:"text-sm text-blue-600 font-medium mt-1",children:w.subtext})]}),E.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors p-1 hover:bg-gray-100 rounded-full",title:"Close Tour",children:E.jsx(Ul,{className:"w-5 h-5"})})]}),E.jsx("div",{className:"text-gray-600 text-sm leading-relaxed",children:w.text}),w.tip&&E.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-3 flex gap-2",children:[E.jsx(xv,{className:"w-4 h-4 text-blue-600 flex-shrink-0 mt-0.5"}),E.jsx("p",{className:"text-xs text-blue-800 font-medium italic",children:w.tip})]}),E.jsxs("div",{className:"flex items-center justify-between mt-2 pt-4 border-t border-gray-100",children:[E.jsx("div",{className:"flex gap-1",children:Cc.map((ne,$)=>E.jsx("div",{className:`w-1.5 h-1.5 rounded-full transition-colors ${$===r?"bg-blue-600":"bg-gray-200"}`},$))}),E.jsxs("div",{className:"flex gap-2",children:[r>0&&E.jsx("button",{onClick:te,className:"px-3 py-1.5 text-sm text-gray-500 hover:text-gray-700 font-medium transition-colors",children:"Back"}),E.jsxs("button",{onClick:z,className:"px-4 py-1.5 bg-blue-600 hover:bg-blue-700 text-white text-sm font-bold rounded-lg shadow-sm flex items-center gap-1.5 transition-all",children:[I?"Get Started":"Next",!I&&E.jsx($T,{className:"w-4 h-4"})]})]})]})]})]})},QS=()=>{};var Z0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},KS=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];e[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],g=s[i++],p=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const c=s[i++],d=s[i++];e[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Iv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,g=d?s[l+1]:0,p=l+2<s.length,_=p?s[l+2]:0,T=c>>2,w=(c&3)<<4|g>>4;let I=(g&15)<<2|_>>6,z=_&63;p||(z=64,d||(I=64)),r.push(i[T],i[w],i[I],i[z])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Nv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):KS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const w=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||g==null||_==null||w==null)throw new YS;const I=c<<2|g>>4;if(r.push(I),_!==64){const z=g<<4&240|_>>2;if(r.push(z),w!==64){const te=_<<6&192|w;r.push(te)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class YS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XS=function(s){const e=Nv(s);return Iv.encodeByteArray(e,!0)},Kc=function(s){return XS(s).replace(/\./g,"")},Dv=function(s){try{return Iv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS=()=>$S().__FIREBASE_DEFAULTS__,JS=()=>{if(typeof process>"u"||typeof Z0>"u")return;const s=Z0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},WS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Dv(s[1]);return e&&JSON.parse(e)},dh=()=>{try{return QS()||ZS()||JS()||WS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Ov=s=>{var e,i;return(i=(e=dh())==null?void 0:e.emulatorHosts)==null?void 0:i[s]},e2=s=>{const e=Ov(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},Mv=()=>{var s;return(s=dh())==null?void 0:s.config},Vv=s=>{var e;return(e=dh())==null?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function kv(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Kc(JSON.stringify(i)),Kc(JSON.stringify(d)),""].join(".")}const Tl={};function i2(){const s={prod:[],emulator:[]};for(const e of Object.keys(Tl))Tl[e]?s.emulator.push(e):s.prod.push(e);return s}function s2(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let J0=!1;function jv(s,e){if(typeof window>"u"||typeof document>"u"||!eo(window.location.host)||Tl[s]===e||Tl[s]||J0)return;Tl[s]=e;function i(I){return`__firebase__banner__${I}`}const r="__firebase__banner",c=i2().prod.length>0;function d(){const I=document.getElementById(r);I&&I.remove()}function g(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function p(I,z){I.setAttribute("width","24"),I.setAttribute("id",z),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function _(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{J0=!0,d()},I}function T(I,z){I.setAttribute("id",z),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function w(){const I=s2(r),z=i("text"),te=document.getElementById(z)||document.createElement("span"),ne=i("learnmore"),$=document.getElementById(ne)||document.createElement("a"),le=i("preprendIcon"),ae=document.getElementById(le)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const se=I.element;g(se),T($,ne);const H=_();p(ae,le),se.append(ae,te,$,H),document.body.appendChild(se)}c?(te.innerText="Preview backend disconnected.",ae.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ae.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,te.innerText="Preview backend running in this workspace."),te.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function r2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function a2(){var e;const s=(e=dh())==null?void 0:e.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function o2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function l2(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function u2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function c2(){const s=Jt();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function h2(){return!a2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function f2(){try{return typeof indexedDB=="object"}catch{return!1}}function d2(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var c;e(((c=l.error)==null?void 0:c.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2="FirebaseError";class is extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=m2,Object.setPrototypeOf(this,is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zl.prototype.create)}}class zl{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?g2(c,r):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new is(l,g,r)}}function g2(s,e){return s.replace(p2,(i,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const p2=/\{\$([^}]+)}/g;function y2(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Pr(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=e[l];if(W0(c)&&W0(d)){if(!Pr(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function W0(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function pl(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,c]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function yl(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}function _2(s,e){const i=new v2(s,e);return i.subscribe.bind(i)}class v2{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let l;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");E2(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:r},l.next===void 0&&(l.next=kd),l.error===void 0&&(l.error=kd),l.complete===void 0&&(l.complete=kd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function E2(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function kd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(s){return s&&s._delegate?s._delegate:s}class Lr{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new t2;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(S2(e))try{this.getOrInitializeService({instanceIdentifier:Mr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(e=Mr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Mr){return this.instances.has(e)}getOptions(e=Mr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);r===g&&d.resolve(l)}return l}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&e(c,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:T2(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Mr){return this.component?this.component.multipleInstances?e:Mr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function T2(s){return s===Mr?void 0:s}function S2(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new b2(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ve||(Ve={}));const w2={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},x2=Ve.INFO,R2={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},C2=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=R2[e];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wm{constructor(e){this.name=e,this._logLevel=x2,this._logHandler=C2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?w2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const N2=(s,e)=>e.some(i=>s instanceof i);let e_,t_;function I2(){return e_||(e_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function D2(){return t_||(t_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Pv=new WeakMap,Zd=new WeakMap,Lv=new WeakMap,jd=new WeakMap,xm=new WeakMap;function O2(s){const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(qs(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Pv.set(i,s)}).catch(()=>{}),xm.set(e,s),e}function M2(s){if(Zd.has(s))return;const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Zd.set(s,e)}let Jd={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Zd.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Lv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return qs(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function V2(s){Jd=s(Jd)}function k2(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(Pd(this),e,...i);return Lv.set(r,e.sort?e.sort():[e]),qs(r)}:D2().includes(s)?function(...e){return s.apply(Pd(this),e),qs(Pv.get(this))}:function(...e){return qs(s.apply(Pd(this),e))}}function j2(s){return typeof s=="function"?k2(s):(s instanceof IDBTransaction&&M2(s),N2(s,I2())?new Proxy(s,Jd):s)}function qs(s){if(s instanceof IDBRequest)return O2(s);if(jd.has(s))return jd.get(s);const e=j2(s);return e!==s&&(jd.set(s,e),xm.set(e,s)),e}const Pd=s=>xm.get(s);function P2(s,e,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),g=qs(d);return r&&d.addEventListener("upgradeneeded",p=>{r(qs(d.result),p.oldVersion,p.newVersion,qs(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const L2=["get","getKey","getAll","getAllKeys","count"],U2=["put","add","delete","clear"],Ld=new Map;function n_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Ld.get(e))return Ld.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,l=U2.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||L2.includes(i)))return;const c=async function(d,...g){const p=this.transaction(d,l?"readwrite":"readonly");let _=p.store;return r&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),l&&p.done]))[0]};return Ld.set(e,c),c}V2(s=>({...s,get:(e,i,r)=>n_(e,i)||s.get(e,i,r),has:(e,i)=>!!n_(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(B2(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function B2(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wd="@firebase/app",i_="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new wm("@firebase/app"),H2="@firebase/app-compat",q2="@firebase/analytics-compat",F2="@firebase/analytics",G2="@firebase/app-check-compat",Q2="@firebase/app-check",K2="@firebase/auth",Y2="@firebase/auth-compat",X2="@firebase/database",$2="@firebase/data-connect",Z2="@firebase/database-compat",J2="@firebase/functions",W2="@firebase/functions-compat",eA="@firebase/installations",tA="@firebase/installations-compat",nA="@firebase/messaging",iA="@firebase/messaging-compat",sA="@firebase/performance",rA="@firebase/performance-compat",aA="@firebase/remote-config",oA="@firebase/remote-config-compat",lA="@firebase/storage",uA="@firebase/storage-compat",cA="@firebase/firestore",hA="@firebase/ai",fA="@firebase/firestore-compat",dA="firebase",mA="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em="[DEFAULT]",gA={[Wd]:"fire-core",[H2]:"fire-core-compat",[F2]:"fire-analytics",[q2]:"fire-analytics-compat",[Q2]:"fire-app-check",[G2]:"fire-app-check-compat",[K2]:"fire-auth",[Y2]:"fire-auth-compat",[X2]:"fire-rtdb",[$2]:"fire-data-connect",[Z2]:"fire-rtdb-compat",[J2]:"fire-fn",[W2]:"fire-fn-compat",[eA]:"fire-iid",[tA]:"fire-iid-compat",[nA]:"fire-fcm",[iA]:"fire-fcm-compat",[sA]:"fire-perf",[rA]:"fire-perf-compat",[aA]:"fire-rc",[oA]:"fire-rc-compat",[lA]:"fire-gcs",[uA]:"fire-gcs-compat",[cA]:"fire-fst",[fA]:"fire-fst-compat",[hA]:"fire-vertex","fire-js":"fire-js",[dA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc=new Map,pA=new Map,tm=new Map;function s_(s,e){try{s.container.addComponent(e)}catch(i){Wi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Qa(s){const e=s.name;if(tm.has(e))return Wi.debug(`There were multiple attempts to register component ${e}.`),!1;tm.set(e,s);for(const i of Yc.values())s_(i,s);for(const i of pA.values())s_(i,s);return!0}function Rm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function bn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fs=new zl("app","Firebase",yA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Lr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=mA;function Uv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:em,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw Fs.create("bad-app-name",{appName:String(l)});if(i||(i=Mv()),!i)throw Fs.create("no-options");const c=Yc.get(l);if(c){if(Pr(i,c.options)&&Pr(r,c.config))return c;throw Fs.create("duplicate-app",{appName:l})}const d=new A2(l);for(const p of tm.values())d.addComponent(p);const g=new _A(i,r,d);return Yc.set(l,g),g}function zv(s=em){const e=Yc.get(s);if(!e&&s===em&&Mv())return Uv();if(!e)throw Fs.create("no-app",{appName:s});return e}function Gs(s,e,i){let r=gA[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wi.warn(d.join(" "));return}Qa(new Lr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA="firebase-heartbeat-database",EA=1,Nl="firebase-heartbeat-store";let Ud=null;function Bv(){return Ud||(Ud=P2(vA,EA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Nl)}catch(i){console.warn(i)}}}}).catch(s=>{throw Fs.create("idb-open",{originalErrorMessage:s.message})})),Ud}async function bA(s){try{const i=(await Bv()).transaction(Nl),r=await i.objectStore(Nl).get(Hv(s));return await i.done,r}catch(e){if(e instanceof is)Wi.warn(e.message);else{const i=Fs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Wi.warn(i.message)}}}async function r_(s,e){try{const r=(await Bv()).transaction(Nl,"readwrite");await r.objectStore(Nl).put(e,Hv(s)),await r.done}catch(i){if(i instanceof is)Wi.warn(i.message);else{const r=Fs.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Wi.warn(r.message)}}}function Hv(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA=1024,SA=30;class AA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new xA(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=a_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>SA){const d=RA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Wi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=a_(),{heartbeatsToSend:r,unsentEntries:l}=wA(this._heartbeatsCache.heartbeats),c=Kc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return Wi.warn(i),""}}}function a_(){return new Date().toISOString().substring(0,10)}function wA(s,e=TA){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),o_(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),o_(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class xA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return f2()?d2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await bA(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return r_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return r_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function o_(s){return Kc(JSON.stringify({version:2,heartbeats:s})).length}function RA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(s){Qa(new Lr("platform-logger",e=>new z2(e),"PRIVATE")),Qa(new Lr("heartbeat",e=>new AA(e),"PRIVATE")),Gs(Wd,i_,s),Gs(Wd,i_,"esm2020"),Gs("fire-js","")}CA("");function qv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const NA=qv,Fv=new zl("auth","Firebase",qv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc=new wm("@firebase/auth");function IA(s,...e){Xc.logLevel<=Ve.WARN&&Xc.warn(`Auth (${to}): ${s}`,...e)}function Pc(s,...e){Xc.logLevel<=Ve.ERROR&&Xc.error(`Auth (${to}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(s,...e){throw Nm(s,...e)}function Jn(s,...e){return Nm(s,...e)}function Cm(s,e,i){const r={...NA(),[e]:i};return new zl("auth","Firebase",r).create(e,{appName:s.name})}function Zi(s){return Cm(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function DA(s,e,i){const r=i;if(!(e instanceof r))throw r.name!==e.constructor.name&&Pn(s,"argument-error"),Cm(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Nm(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return Fv.create(s,...e)}function ve(s,e,...i){if(!s)throw Nm(e,...i)}function Xi(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Pc(e),new Error(e)}function es(s,e){s||Xi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.href)||""}function OA(){return l_()==="http:"||l_()==="https:"}function l_(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OA()||l2()||"connection"in navigator)?navigator.onLine:!0}function VA(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,i){this.shortDelay=e,this.longDelay=i,es(i>e,"Short delay should be less than long delay!"),this.isMobile=r2()||u2()}get(){return MA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(s,e){es(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],PA=new Hl(3e4,6e4);function er(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function ss(s,e,i,r,l={}){return Qv(s,l,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const g=Bl({key:s.config.apiKey,...d}).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:p,...c};return o2()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&eo(s.emulatorConfig.host)&&(_.credentials="include"),Gv.fetch()(await Kv(s,s.config.apiHost,i,g),_)})}async function Qv(s,e,i){s._canInitEmulator=!1;const r={...kA,...e};try{const l=new UA(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Nc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[p,_]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nc(s,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw Nc(s,"email-already-in-use",d);if(p==="USER_DISABLED")throw Nc(s,"user-disabled",d);const T=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Cm(s,T,_);Pn(s,T)}}catch(l){if(l instanceof is)throw l;Pn(s,"network-request-failed",{message:String(l)})}}async function ql(s,e,i,r,l={}){const c=await ss(s,e,i,r,l);return"mfaPendingCredential"in c&&Pn(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Kv(s,e,i,r){const l=`${e}${i}?${r}`,c=s,d=c.config.emulator?Im(s.config,l):`${s.config.apiScheme}://${l}`;return jA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function LA(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class UA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Jn(this.auth,"network-request-failed")),PA.get())})}}function Nc(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=Jn(s,e,r);return l.customData._tokenResponse=i,l}function u_(s){return s!==void 0&&s.enterprise!==void 0}class zA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return LA(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function BA(s,e){return ss(s,"GET","/v2/recaptchaConfig",er(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HA(s,e){return ss(s,"POST","/v1/accounts:delete",e)}async function $c(s,e){return ss(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qA(s,e=!1){const i=hn(s),r=await i.getIdToken(e),l=Dm(r);ve(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:l,token:r,authTime:Sl(zd(l.auth_time)),issuedAtTime:Sl(zd(l.iat)),expirationTime:Sl(zd(l.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function zd(s){return Number(s)*1e3}function Dm(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return Pc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Dv(i);return l?JSON.parse(l):(Pc("Failed to decode base64 JWT payload"),null)}catch(l){return Pc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function c_(s){const e=Dm(s);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ka(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof is&&FA(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function FA({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sl(this.lastLoginAt),this.creationTime=Sl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zc(s){var w;const e=s.auth,i=await s.getIdToken(),r=await Ka(s,$c(e,{idToken:i}));ve(r==null?void 0:r.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=(w=l.providerUserInfo)!=null&&w.length?Yv(l.providerUserInfo):[],d=KA(s.providerData,c),g=s.isAnonymous,p=!(s.email&&l.passwordHash)&&!(d!=null&&d.length),_=g?p:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new im(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,T)}async function QA(s){const e=hn(s);await Zc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function KA(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function Yv(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YA(s,e){const i=await Qv(s,{},async()=>{const r=Bl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await Kv(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:g,body:r};return s.emulatorConfig&&eo(s.emulatorConfig.host)&&(p.credentials="include"),Gv.fetch()(d,p)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function XA(s,e){return ss(s,"POST","/v2/accounts:revokeToken",er(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):c_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const i=c_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await YA(e,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new Ha;return r&&(ve(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(ve(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(ve(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ha,this.toJSON())}_performRefresh(){return Xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(s,e){ve(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class $n{constructor({uid:e,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new GA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new im(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Ka(this,this.stsTokenManager.getToken(this.auth,e));return ve(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return qA(this,e)}reload(){return QA(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new $n({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await Zc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bn(this.auth.app))return Promise.reject(Zi(this.auth));const e=await this.getIdToken();return await Ka(this,HA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,p=i._redirectEventId??void 0,_=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:w,emailVerified:I,isAnonymous:z,providerData:te,stsTokenManager:ne}=i;ve(w&&ne,e,"internal-error");const $=Ha.fromJSON(this.name,ne);ve(typeof w=="string",e,"internal-error"),Ls(r,e.name),Ls(l,e.name),ve(typeof I=="boolean",e,"internal-error"),ve(typeof z=="boolean",e,"internal-error"),Ls(c,e.name),Ls(d,e.name),Ls(g,e.name),Ls(p,e.name),Ls(_,e.name),Ls(T,e.name);const le=new $n({uid:w,auth:e,email:l,emailVerified:I,displayName:r,isAnonymous:z,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:$,createdAt:_,lastLoginAt:T});return te&&Array.isArray(te)&&(le.providerData=te.map(ae=>({...ae}))),p&&(le._redirectEventId=p),le}static async _fromIdTokenResponse(e,i,r=!1){const l=new Ha;l.updateFromServerResponse(i);const c=new $n({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await Zc(c),c}static async _fromGetAccountInfoResponse(e,i,r){const l=i.users[0];ve(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Yv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),g=new Ha;g.updateFromIdToken(r);const p=new $n({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new im(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_=new Map;function $i(s){es(s instanceof Function,"Expected a class definition");let e=h_.get(s);return e?(es(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,h_.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Xv.type="NONE";const f_=Xv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(s,e,i){return`firebase:${s}:${e}:${i}`}class qa{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=Lc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Lc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await $c(this.auth,{idToken:e}).catch(()=>{});return i?$n._fromGetAccountInfoResponse(this.auth,i,e):null}return $n._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new qa($i(f_),e,r);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||$i(f_);const d=Lc(r,e.config.apiKey,e.name);let g=null;for(const _ of i)try{const T=await _._get(d);if(T){let w;if(typeof T=="string"){const I=await $c(e,{idToken:T}).catch(()=>{});if(!I)break;w=await $n._fromGetAccountInfoResponse(e,I,T)}else w=$n._fromJSON(e,T);_!==c&&(g=w),c=_;break}}catch{}const p=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new qa(c,e,r):(c=p[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new qa(c,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Wv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($v(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(t1(e))return"Blackberry";if(n1(e))return"Webos";if(Zv(e))return"Safari";if((e.includes("chrome/")||Jv(e))&&!e.includes("edge/"))return"Chrome";if(e1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function $v(s=Jt()){return/firefox\//i.test(s)}function Zv(s=Jt()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Jv(s=Jt()){return/crios\//i.test(s)}function Wv(s=Jt()){return/iemobile/i.test(s)}function e1(s=Jt()){return/android/i.test(s)}function t1(s=Jt()){return/blackberry/i.test(s)}function n1(s=Jt()){return/webos/i.test(s)}function Om(s=Jt()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function $A(s=Jt()){var e;return Om(s)&&!!((e=window.navigator)!=null&&e.standalone)}function ZA(){return c2()&&document.documentMode===10}function i1(s=Jt()){return Om(s)||e1(s)||n1(s)||t1(s)||/windows phone/i.test(s)||Wv(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(s,e=[]){let i;switch(s){case"Browser":i=d_(Jt());break;case"Worker":i=`${d_(Jt())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${to}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=c=>new Promise((d,g)=>{try{const p=e(c);d(p)}catch(p){g(p)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WA(s,e={}){return ss(s,"GET","/v2/passwordPolicy",er(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew=6;class tw{constructor(e){var r;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??ew,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(e,i,r,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new m_(this),this.idTokenSubscription=new m_(this),this.beforeStateQueue=new JA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=$i(i)),this._initializationPromise=this.queue(async()=>{var r,l,c;if(!this._deleted&&(this.persistenceManager=await qa.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((l=this._popupRedirectResolver)!=null&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((c=this.currentUser)==null?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await $c(this,{idToken:e}),r=await $n._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var c;if(bn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(c=this.redirectUser)==null?void 0:c._redirectEventId,g=r==null?void 0:r._redirectEventId,p=await this.tryRedirectSignIn(e);(!d||d===g)&&(p!=null&&p.user)&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(d){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Zc(e)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=VA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bn(this.app))return Promise.reject(Zi(this));const i=e?hn(e):null;return i&&ve(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bn(this.app)?Promise.reject(Zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bn(this.app)?Promise.reject(Zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($i(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await WA(this),i=new tw(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new zl("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await XA(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&$i(e)||this._popupRedirectResolver;ve(i,this,"argument-error"),this.redirectPersistenceManager=await qa.create(this,[$i(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,r;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)==null?void 0:i._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((i=this.currentUser)==null?void 0:i.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const p=e.addObserver(i,r,l);return()=>{d=!0,p()}}else{const p=e.addObserver(i);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=s1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var l;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((l=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:l.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var i;if(bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((i=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getToken());return e!=null&&e.error&&IA(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function tr(s){return hn(s)}class m_{constructor(e){this.auth=e,this.observer=null,this.addObserver=_2(i=>this.observer=i)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iw(s){mh=s}function r1(s){return mh.loadJS(s)}function sw(){return mh.recaptchaEnterpriseScript}function rw(){return mh.gapiScript}function aw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class ow{constructor(){this.enterprise=new lw}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class lw{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const uw="recaptcha-enterprise",a1="NO_RECAPTCHA";class cw{constructor(e){this.type=uw,this.auth=tr(e)}async verify(e="verify",i=!1){async function r(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,g)=>{BA(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const _=new zA(p);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,d(_.siteKey)}}).catch(p=>{g(p)})})}function l(c,d,g){const p=window.grecaptcha;u_(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(_=>{d(_)}).catch(()=>{d(a1)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ow().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(g=>{if(!i&&u_(window.grecaptcha))l(g,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=sw();p.length!==0&&(p+=g),r1(p).then(()=>{l(g,c,d)}).catch(_=>{d(_)})}}).catch(g=>{d(g)})})}}async function g_(s,e,i,r=!1,l=!1){const c=new cw(s);let d;if(l)d=a1;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const g={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const p=g.phoneEnrollmentInfo.phoneNumber,_=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const p=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return r?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function sm(s,e,i,r,l){var c;if((c=s._getRecaptchaConfig())!=null&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await g_(s,e,i,i==="getOobCode");return r(s,d)}else return r(s,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await g_(s,e,i,i==="getOobCode");return r(s,g)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(s,e){const i=Rm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Pr(c,e??{}))return l;Pn(l,"already-initialized")}return i.initialize({options:e})}function fw(s,e){const i=(e==null?void 0:e.persistence)||[],r=(Array.isArray(i)?i:[i]).map($i);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function dw(s,e,i){const r=tr(s);ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,c=o1(e),{host:d,port:g}=mw(e),p=g===null?"":`:${g}`,_={url:`${c}//${d}${p}/`},T=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){ve(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ve(Pr(_,r.config.emulator)&&Pr(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,eo(d)?(kv(`${c}//${d}${p}`),jv("Auth",!0)):gw()}function o1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function mw(s){const e=o1(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:p_(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:p_(d)}}}function p_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function gw(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Xi("not implemented")}_getIdTokenResponse(e){return Xi("not implemented")}_linkToIdToken(e,i){return Xi("not implemented")}_getReauthenticationResolver(e){return Xi("not implemented")}}async function pw(s,e){return ss(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yw(s,e){return ql(s,"POST","/v1/accounts:signInWithPassword",er(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _w(s,e){return ql(s,"POST","/v1/accounts:signInWithEmailLink",er(s,e))}async function vw(s,e){return ql(s,"POST","/v1/accounts:signInWithEmailLink",er(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il extends Mm{constructor(e,i,r,l=null){super("password",r),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new Il(e,i,"password")}static _fromEmailAndCode(e,i,r=null){return new Il(e,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i!=null&&i.email&&(i!=null&&i.password)){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sm(e,i,"signInWithPassword",yw);case"emailLink":return _w(e,{email:this._email,oobCode:this._password});default:Pn(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sm(e,r,"signUpPassword",pw);case"emailLink":return vw(e,{idToken:i,email:this._email,oobCode:this._password});default:Pn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fa(s,e){return ql(s,"POST","/v1/accounts:signInWithIdp",er(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew="http://localhost";class Ur extends Mm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Ur(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Pn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new Ur(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return Fa(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,Fa(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Fa(e,i)}buildRequest(){const e={requestUri:Ew,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Bl(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Tw(s){const e=pl(yl(s)).link,i=e?pl(yl(e)).deep_link_id:null,r=pl(yl(s)).deep_link_id;return(r?pl(yl(r)).link:null)||r||i||e||s}class Vm{constructor(e){const i=pl(yl(e)),r=i.apiKey??null,l=i.oobCode??null,c=bw(i.mode??null);ve(r&&l&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=Tw(e);try{return new Vm(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(){this.providerId=no.PROVIDER_ID}static credential(e,i){return Il._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const r=Vm.parseLink(i);return ve(r,"argument-error"),Il._fromEmailAndCode(e,r.code,r.tenantId)}}no.PROVIDER_ID="password";no.EMAIL_PASSWORD_SIGN_IN_METHOD="password";no.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl extends km{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us extends Fl{constructor(){super("facebook.com")}static credential(e){return Ur._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Us.credential(e.oauthAccessToken)}catch{return null}}}Us.FACEBOOK_SIGN_IN_METHOD="facebook.com";Us.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends Fl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Ur._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return Yi.credential(i,r)}catch{return null}}}Yi.GOOGLE_SIGN_IN_METHOD="google.com";Yi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends Fl{constructor(){super("github.com")}static credential(e){return Ur._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zs.credential(e.oauthAccessToken)}catch{return null}}}zs.GITHUB_SIGN_IN_METHOD="github.com";zs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends Fl{constructor(){super("twitter.com")}static credential(e,i){return Ur._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return Bs.credential(i,r)}catch{return null}}}Bs.TWITTER_SIGN_IN_METHOD="twitter.com";Bs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sw(s,e){return ql(s,"POST","/v1/accounts:signUp",er(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,l=!1){const c=await $n._fromIdTokenResponse(e,r,l),d=y_(r);return new zr({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const l=y_(r);return new zr({user:e,providerId:l,_tokenResponse:r,operationType:i})}}function y_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc extends is{constructor(e,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,Jc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,l){return new Jc(e,i,r,l)}}function l1(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Jc._fromErrorAndOperation(s,c,e,r):c})}async function Aw(s,e,i=!1){const r=await Ka(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return zr._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ww(s,e,i=!1){const{auth:r}=s;if(bn(r.app))return Promise.reject(Zi(r));const l="reauthenticate";try{const c=await Ka(s,l1(r,l,e,s),i);ve(c.idToken,r,"internal-error");const d=Dm(c.idToken);ve(d,r,"internal-error");const{sub:g}=d;return ve(s.uid===g,r,"user-mismatch"),zr._forOperation(s,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&Pn(r,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u1(s,e,i=!1){if(bn(s.app))return Promise.reject(Zi(s));const r="signIn",l=await l1(s,r,e),c=await zr._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}async function xw(s,e){return u1(tr(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c1(s){const e=tr(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Rw(s,e,i){if(bn(s.app))return Promise.reject(Zi(s));const r=tr(s),d=await sm(r,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Sw).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&c1(s),p}),g=await zr._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(g.user),g}function Cw(s,e,i){return bn(s.app)?Promise.reject(Zi(s)):xw(hn(s),no.credential(e,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&c1(s),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nw(s,e){return ss(s,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iw(s,{displayName:e,photoURL:i}){if(e===void 0&&i===void 0)return;const r=hn(s),c={idToken:await r.getIdToken(),displayName:e,photoUrl:i,returnSecureToken:!0},d=await Ka(r,Nw(r.auth,c));r.displayName=d.displayName||null,r.photoURL=d.photoUrl||null;const g=r.providerData.find(({providerId:p})=>p==="password");g&&(g.displayName=r.displayName,g.photoURL=r.photoURL),await r._updateTokensIfNecessary(d)}function Dw(s,e,i,r){return hn(s).onIdTokenChanged(e,i,r)}function Ow(s,e,i){return hn(s).beforeAuthStateChanged(e,i)}function Mw(s,e,i,r){return hn(s).onAuthStateChanged(e,i,r)}function Vw(s){return hn(s).signOut()}const Wc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Wc,"1"),this.storage.removeItem(Wc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=1e3,jw=10;class f1 extends h1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=i1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&e(i,l,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,p)=>{this.notifyListeners(d,p)});return}const r=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);ZA()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,jw):l()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},kw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}f1.type="LOCAL";const Pw=f1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1 extends h1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}d1.type="SESSION";const m1=d1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const r=new gh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(d).map(async _=>_(i.origin,c)),p=await Lw(g);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:p})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,p)=>{const _=jm("",20);l.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(w){const I=w;if(I.data.eventId===_)switch(I.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(I.data.response);break;default:clearTimeout(T),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(){return window}function zw(s){Ti().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(){return typeof Ti().WorkerGlobalScope<"u"&&typeof Ti().importScripts=="function"}async function Bw(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Hw(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)==null?void 0:s.controller)||null}function qw(){return g1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="firebaseLocalStorageDb",Fw=1,eh="firebaseLocalStorage",y1="fbase_key";class Gl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ph(s,e){return s.transaction([eh],e?"readwrite":"readonly").objectStore(eh)}function Gw(){const s=indexedDB.deleteDatabase(p1);return new Gl(s).toPromise()}function rm(){const s=indexedDB.open(p1,Fw);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(eh,{keyPath:y1})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(eh)?e(r):(r.close(),await Gw(),e(await rm()))})})}async function __(s,e,i){const r=ph(s,!0).put({[y1]:e,value:i});return new Gl(r).toPromise()}async function Qw(s,e){const i=ph(s,!1).get(e),r=await new Gl(i).toPromise();return r===void 0?null:r.value}function v_(s,e){const i=ph(s,!0).delete(e);return new Gl(i).toPromise()}const Kw=800,Yw=3;class _1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>Yw)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return g1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gh._getInstance(qw()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var i,r;if(this.activeServiceWorker=await Bw(),!this.activeServiceWorker)return;this.sender=new Uw(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(i=e[0])!=null&&i.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Hw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rm();return await __(e,Wc,"1"),await v_(e,Wc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>__(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>Qw(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>v_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=ph(l,!1).getAll();return new Gl(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Kw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_1.type="LOCAL";const Xw=_1;new Hl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(s,e){return e?$i(e):(ve(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm extends Mm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fa(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Fa(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Fa(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function $w(s){return u1(s.auth,new Pm(s),s.bypassAuthState)}function Zw(s){const{auth:e,user:i}=s;return ve(i,e,"internal-error"),ww(i,new Pm(s),s.bypassAuthState)}async function Jw(s){const{auth:e,user:i}=s;return ve(i,e,"internal-error"),Aw(i,new Pm(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e,i,r,l,c=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $w;case"linkViaPopup":case"linkViaRedirect":return Jw;case"reauthViaPopup":case"reauthViaRedirect":return Zw;default:Pn(this.auth,"internal-error")}}resolve(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww=new Hl(2e3,1e4);async function ex(s,e,i){if(bn(s.app))return Promise.reject(Jn(s,"operation-not-supported-in-this-environment"));const r=tr(s);DA(s,e,km);const l=v1(r,i);return new Vr(r,"signInViaPopup",e,l).executeNotNull()}class Vr extends E1{constructor(e,i,r,l,c){super(e,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,Vr.currentPopupAction&&Vr.currentPopupAction.cancel(),Vr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){es(this.filter.length===1,"Popup operations only handle one event");const e=jm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Jn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,r;if((r=(i=this.authWindow)==null?void 0:i.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Ww.get())};e()}}Vr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx="pendingRedirect",Uc=new Map;class nx extends E1{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=Uc.get(this.auth._key());if(!e){try{const r=await ix(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}Uc.set(this.auth._key(),e)}return this.bypassAuthState||Uc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ix(s,e){const i=ax(e),r=rx(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function sx(s,e){Uc.set(s._key(),e)}function rx(s){return $i(s._redirectPersistence)}function ax(s){return Lc(tx,s.config.apiKey,s.name)}async function ox(s,e,i=!1){if(bn(s.app))return Promise.reject(Zi(s));const r=tr(s),l=v1(r,e),d=await new nx(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx=600*1e3;class ux{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cx(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var r;if(e.error&&!b1(e)){const l=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";i.onError(Jn(this.auth,l))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lx&&this.cachedEventUids.clear(),this.cachedEventUids.has(E_(e))}saveEventToCache(e){this.cachedEventUids.add(E_(e)),this.lastProcessedEventTime=Date.now()}}function E_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function b1({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function cx(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return b1(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hx(s,e={}){return ss(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dx=/^https?/;async function mx(s){if(s.config.emulator)return;const{authorizedDomains:e}=await hx(s);for(const i of e)try{if(gx(i))return}catch{}Pn(s,"unauthorized-domain")}function gx(s){const e=nm(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!dx.test(i))return!1;if(fx.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=new Hl(3e4,6e4);function b_(){const s=Ti().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function yx(s){return new Promise((e,i)=>{var l,c,d;function r(){b_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{b_(),i(Jn(s,"network-request-failed"))},timeout:px.get()})}if((c=(l=Ti().gapi)==null?void 0:l.iframes)!=null&&c.Iframe)e(gapi.iframes.getContext());else if((d=Ti().gapi)!=null&&d.load)r();else{const g=aw("iframefcb");return Ti()[g]=()=>{gapi.load?r():i(Jn(s,"network-request-failed"))},r1(`${rw()}?onload=${g}`).catch(p=>i(p))}}).catch(e=>{throw zc=null,e})}let zc=null;function _x(s){return zc=zc||yx(s),zc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx=new Hl(5e3,15e3),Ex="__/auth/iframe",bx="emulator/auth/iframe",Tx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Sx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ax(s){const e=s.config;ve(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Im(e,bx):`https://${s.config.authDomain}/${Ex}`,r={apiKey:e.apiKey,appName:s.name,v:to},l=Sx.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${Bl(r).slice(1)}`}async function wx(s){const e=await _x(s),i=Ti().gapi;return ve(i,s,"internal-error"),e.open({where:document.body,url:Ax(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Tx,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=Jn(s,"network-request-failed"),g=Ti().setTimeout(()=>{c(d)},vx.get());function p(){Ti().clearTimeout(g),l(r)}r.ping(p).then(p,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Rx=500,Cx=600,Nx="_blank",Ix="http://localhost";class T_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Dx(s,e,i,r=Rx,l=Cx){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const p={...xx,width:r.toString(),height:l.toString(),top:c,left:d},_=Jt().toLowerCase();i&&(g=Jv(_)?Nx:i),$v(_)&&(e=e||Ix,p.scrollbars="yes");const T=Object.entries(p).reduce((I,[z,te])=>`${I}${z}=${te},`,"");if($A(_)&&g!=="_self")return Ox(e||"",g),new T_(null);const w=window.open(e||"",g,T);ve(w,s,"popup-blocked");try{w.focus()}catch{}return new T_(w)}function Ox(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx="__/auth/handler",Vx="emulator/auth/handler",kx=encodeURIComponent("fac");async function S_(s,e,i,r,l,c){ve(s.config.authDomain,s,"auth-domain-config-required"),ve(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:to,eventId:l};if(e instanceof km){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",y2(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,w]of Object.entries({}))d[T]=w}if(e instanceof Fl){const T=e.getScopes().filter(w=>w!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const p=await s._getAppCheckToken(),_=p?`#${kx}=${encodeURIComponent(p)}`:"";return`${jx(s)}?${Bl(g).slice(1)}${_}`}function jx({config:s}){return s.emulator?Im(s,Vx):`https://${s.authDomain}/${Mx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd="webStorageSupport";class Px{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=m1,this._completeRedirectFn=ox,this._overrideRedirectResult=sx}async _openPopup(e,i,r,l){var d;es((d=this.eventManagers[e._key()])==null?void 0:d.manager,"_initialize() not called before _openPopup()");const c=await S_(e,i,r,nm(),l);return Dx(e,c,jm())}async _openRedirect(e,i,r,l){await this._originValidation(e);const c=await S_(e,i,r,nm(),l);return zw(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(es(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await wx(e),r=new ux(e);return i.register("authEvent",l=>(ve(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Bd,{type:Bd},l=>{var d;const c=(d=l==null?void 0:l[0])==null?void 0:d[Bd];c!==void 0&&i(!!c),Pn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=mx(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return i1()||Zv()||Om()}}const Lx=Px;var A_="@firebase/auth",w_="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Bx(s){Qa(new Lr("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;ve(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:s1(s)},_=new nw(r,l,c,p);return fw(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),Qa(new Lr("auth-internal",e=>{const i=tr(e.getProvider("auth").getImmediate());return(r=>new Ux(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gs(A_,w_,zx(s)),Gs(A_,w_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx=300,qx=Vv("authIdTokenMaxAge")||Hx;let x_=null;const Fx=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>qx)return;const l=i==null?void 0:i.token;x_!==l&&(x_=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Gx(s=zv()){const e=Rm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=hw(s,{popupRedirectResolver:Lx,persistence:[Xw,Pw,m1]}),r=Vv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=Fx(c.toString());Ow(i,d,()=>d(i.currentUser)),Dw(i,g=>d(g))}}const l=Ov("auth");return l&&dw(i,`http://${l}`),i}function Qx(){var s;return((s=document.getElementsByTagName("head"))==null?void 0:s[0])??document}iw({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const c=Jn("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",Qx().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Bx("Browser");var R_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qs,T1;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,S){function R(){}R.prototype=S.prototype,x.F=S.prototype,x.prototype=new R,x.prototype.constructor=x,x.D=function(M,D,j){for(var C=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)C[tt-2]=arguments[tt];return S.prototype[D].apply(M,C)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(x,S,R){R||(R=0);const M=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)M[D]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(D=0;D<16;++D)M[D]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=x.g[0],R=x.g[1],D=x.g[2];let j=x.g[3],C;C=S+(j^R&(D^j))+M[0]+3614090360&4294967295,S=R+(C<<7&4294967295|C>>>25),C=j+(D^S&(R^D))+M[1]+3905402710&4294967295,j=S+(C<<12&4294967295|C>>>20),C=D+(R^j&(S^R))+M[2]+606105819&4294967295,D=j+(C<<17&4294967295|C>>>15),C=R+(S^D&(j^S))+M[3]+3250441966&4294967295,R=D+(C<<22&4294967295|C>>>10),C=S+(j^R&(D^j))+M[4]+4118548399&4294967295,S=R+(C<<7&4294967295|C>>>25),C=j+(D^S&(R^D))+M[5]+1200080426&4294967295,j=S+(C<<12&4294967295|C>>>20),C=D+(R^j&(S^R))+M[6]+2821735955&4294967295,D=j+(C<<17&4294967295|C>>>15),C=R+(S^D&(j^S))+M[7]+4249261313&4294967295,R=D+(C<<22&4294967295|C>>>10),C=S+(j^R&(D^j))+M[8]+1770035416&4294967295,S=R+(C<<7&4294967295|C>>>25),C=j+(D^S&(R^D))+M[9]+2336552879&4294967295,j=S+(C<<12&4294967295|C>>>20),C=D+(R^j&(S^R))+M[10]+4294925233&4294967295,D=j+(C<<17&4294967295|C>>>15),C=R+(S^D&(j^S))+M[11]+2304563134&4294967295,R=D+(C<<22&4294967295|C>>>10),C=S+(j^R&(D^j))+M[12]+1804603682&4294967295,S=R+(C<<7&4294967295|C>>>25),C=j+(D^S&(R^D))+M[13]+4254626195&4294967295,j=S+(C<<12&4294967295|C>>>20),C=D+(R^j&(S^R))+M[14]+2792965006&4294967295,D=j+(C<<17&4294967295|C>>>15),C=R+(S^D&(j^S))+M[15]+1236535329&4294967295,R=D+(C<<22&4294967295|C>>>10),C=S+(D^j&(R^D))+M[1]+4129170786&4294967295,S=R+(C<<5&4294967295|C>>>27),C=j+(R^D&(S^R))+M[6]+3225465664&4294967295,j=S+(C<<9&4294967295|C>>>23),C=D+(S^R&(j^S))+M[11]+643717713&4294967295,D=j+(C<<14&4294967295|C>>>18),C=R+(j^S&(D^j))+M[0]+3921069994&4294967295,R=D+(C<<20&4294967295|C>>>12),C=S+(D^j&(R^D))+M[5]+3593408605&4294967295,S=R+(C<<5&4294967295|C>>>27),C=j+(R^D&(S^R))+M[10]+38016083&4294967295,j=S+(C<<9&4294967295|C>>>23),C=D+(S^R&(j^S))+M[15]+3634488961&4294967295,D=j+(C<<14&4294967295|C>>>18),C=R+(j^S&(D^j))+M[4]+3889429448&4294967295,R=D+(C<<20&4294967295|C>>>12),C=S+(D^j&(R^D))+M[9]+568446438&4294967295,S=R+(C<<5&4294967295|C>>>27),C=j+(R^D&(S^R))+M[14]+3275163606&4294967295,j=S+(C<<9&4294967295|C>>>23),C=D+(S^R&(j^S))+M[3]+4107603335&4294967295,D=j+(C<<14&4294967295|C>>>18),C=R+(j^S&(D^j))+M[8]+1163531501&4294967295,R=D+(C<<20&4294967295|C>>>12),C=S+(D^j&(R^D))+M[13]+2850285829&4294967295,S=R+(C<<5&4294967295|C>>>27),C=j+(R^D&(S^R))+M[2]+4243563512&4294967295,j=S+(C<<9&4294967295|C>>>23),C=D+(S^R&(j^S))+M[7]+1735328473&4294967295,D=j+(C<<14&4294967295|C>>>18),C=R+(j^S&(D^j))+M[12]+2368359562&4294967295,R=D+(C<<20&4294967295|C>>>12),C=S+(R^D^j)+M[5]+4294588738&4294967295,S=R+(C<<4&4294967295|C>>>28),C=j+(S^R^D)+M[8]+2272392833&4294967295,j=S+(C<<11&4294967295|C>>>21),C=D+(j^S^R)+M[11]+1839030562&4294967295,D=j+(C<<16&4294967295|C>>>16),C=R+(D^j^S)+M[14]+4259657740&4294967295,R=D+(C<<23&4294967295|C>>>9),C=S+(R^D^j)+M[1]+2763975236&4294967295,S=R+(C<<4&4294967295|C>>>28),C=j+(S^R^D)+M[4]+1272893353&4294967295,j=S+(C<<11&4294967295|C>>>21),C=D+(j^S^R)+M[7]+4139469664&4294967295,D=j+(C<<16&4294967295|C>>>16),C=R+(D^j^S)+M[10]+3200236656&4294967295,R=D+(C<<23&4294967295|C>>>9),C=S+(R^D^j)+M[13]+681279174&4294967295,S=R+(C<<4&4294967295|C>>>28),C=j+(S^R^D)+M[0]+3936430074&4294967295,j=S+(C<<11&4294967295|C>>>21),C=D+(j^S^R)+M[3]+3572445317&4294967295,D=j+(C<<16&4294967295|C>>>16),C=R+(D^j^S)+M[6]+76029189&4294967295,R=D+(C<<23&4294967295|C>>>9),C=S+(R^D^j)+M[9]+3654602809&4294967295,S=R+(C<<4&4294967295|C>>>28),C=j+(S^R^D)+M[12]+3873151461&4294967295,j=S+(C<<11&4294967295|C>>>21),C=D+(j^S^R)+M[15]+530742520&4294967295,D=j+(C<<16&4294967295|C>>>16),C=R+(D^j^S)+M[2]+3299628645&4294967295,R=D+(C<<23&4294967295|C>>>9),C=S+(D^(R|~j))+M[0]+4096336452&4294967295,S=R+(C<<6&4294967295|C>>>26),C=j+(R^(S|~D))+M[7]+1126891415&4294967295,j=S+(C<<10&4294967295|C>>>22),C=D+(S^(j|~R))+M[14]+2878612391&4294967295,D=j+(C<<15&4294967295|C>>>17),C=R+(j^(D|~S))+M[5]+4237533241&4294967295,R=D+(C<<21&4294967295|C>>>11),C=S+(D^(R|~j))+M[12]+1700485571&4294967295,S=R+(C<<6&4294967295|C>>>26),C=j+(R^(S|~D))+M[3]+2399980690&4294967295,j=S+(C<<10&4294967295|C>>>22),C=D+(S^(j|~R))+M[10]+4293915773&4294967295,D=j+(C<<15&4294967295|C>>>17),C=R+(j^(D|~S))+M[1]+2240044497&4294967295,R=D+(C<<21&4294967295|C>>>11),C=S+(D^(R|~j))+M[8]+1873313359&4294967295,S=R+(C<<6&4294967295|C>>>26),C=j+(R^(S|~D))+M[15]+4264355552&4294967295,j=S+(C<<10&4294967295|C>>>22),C=D+(S^(j|~R))+M[6]+2734768916&4294967295,D=j+(C<<15&4294967295|C>>>17),C=R+(j^(D|~S))+M[13]+1309151649&4294967295,R=D+(C<<21&4294967295|C>>>11),C=S+(D^(R|~j))+M[4]+4149444226&4294967295,S=R+(C<<6&4294967295|C>>>26),C=j+(R^(S|~D))+M[11]+3174756917&4294967295,j=S+(C<<10&4294967295|C>>>22),C=D+(S^(j|~R))+M[2]+718787259&4294967295,D=j+(C<<15&4294967295|C>>>17),C=R+(j^(D|~S))+M[9]+3951481745&4294967295,x.g[0]=x.g[0]+S&4294967295,x.g[1]=x.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+D&4294967295,x.g[3]=x.g[3]+j&4294967295}r.prototype.v=function(x,S){S===void 0&&(S=x.length);const R=S-this.blockSize,M=this.C;let D=this.h,j=0;for(;j<S;){if(D==0)for(;j<=R;)l(this,x,j),j+=this.blockSize;if(typeof x=="string"){for(;j<S;)if(M[D++]=x.charCodeAt(j++),D==this.blockSize){l(this,M),D=0;break}}else for(;j<S;)if(M[D++]=x[j++],D==this.blockSize){l(this,M),D=0;break}}this.h=D,this.o+=S},r.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var S=1;S<x.length-8;++S)x[S]=0;S=this.o*8;for(var R=x.length-8;R<x.length;++R)x[R]=S&255,S/=256;for(this.v(x),x=Array(16),S=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)x[S++]=this.g[R]>>>M&255;return x};function c(x,S){var R=g;return Object.prototype.hasOwnProperty.call(R,x)?R[x]:R[x]=S(x)}function d(x,S){this.h=S;const R=[];let M=!0;for(let D=x.length-1;D>=0;D--){const j=x[D]|0;M&&j==S||(R[D]=j,M=!1)}this.g=R}var g={};function p(x){return-128<=x&&x<128?c(x,function(S){return new d([S|0],S<0?-1:0)}):new d([x|0],x<0?-1:0)}function _(x){if(isNaN(x)||!isFinite(x))return w;if(x<0)return $(_(-x));const S=[];let R=1;for(let M=0;x>=R;M++)S[M]=x/R|0,R*=4294967296;return new d(S,0)}function T(x,S){if(x.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(x.charAt(0)=="-")return $(T(x.substring(1),S));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=_(Math.pow(S,8));let M=w;for(let j=0;j<x.length;j+=8){var D=Math.min(8,x.length-j);const C=parseInt(x.substring(j,j+D),S);D<8?(D=_(Math.pow(S,D)),M=M.j(D).add(_(C))):(M=M.j(R),M=M.add(_(C)))}return M}var w=p(0),I=p(1),z=p(16777216);s=d.prototype,s.m=function(){if(ne(this))return-$(this).m();let x=0,S=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);x+=(M>=0?M:4294967296+M)*S,S*=4294967296}return x},s.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(te(this))return"0";if(ne(this))return"-"+$(this).toString(x);const S=_(Math.pow(x,6));var R=this;let M="";for(;;){const D=H(R,S).g;R=le(R,D.j(S));let j=((R.g.length>0?R.g[0]:R.h)>>>0).toString(x);if(R=D,te(R))return j+M;for(;j.length<6;)j="0"+j;M=j+M}},s.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function te(x){if(x.h!=0)return!1;for(let S=0;S<x.g.length;S++)if(x.g[S]!=0)return!1;return!0}function ne(x){return x.h==-1}s.l=function(x){return x=le(this,x),ne(x)?-1:te(x)?0:1};function $(x){const S=x.g.length,R=[];for(let M=0;M<S;M++)R[M]=~x.g[M];return new d(R,~x.h).add(I)}s.abs=function(){return ne(this)?$(this):this},s.add=function(x){const S=Math.max(this.g.length,x.g.length),R=[];let M=0;for(let D=0;D<=S;D++){let j=M+(this.i(D)&65535)+(x.i(D)&65535),C=(j>>>16)+(this.i(D)>>>16)+(x.i(D)>>>16);M=C>>>16,j&=65535,C&=65535,R[D]=C<<16|j}return new d(R,R[R.length-1]&-2147483648?-1:0)};function le(x,S){return x.add($(S))}s.j=function(x){if(te(this)||te(x))return w;if(ne(this))return ne(x)?$(this).j($(x)):$($(this).j(x));if(ne(x))return $(this.j($(x)));if(this.l(z)<0&&x.l(z)<0)return _(this.m()*x.m());const S=this.g.length+x.g.length,R=[];for(var M=0;M<2*S;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<x.g.length;D++){const j=this.i(M)>>>16,C=this.i(M)&65535,tt=x.i(D)>>>16,ft=x.i(D)&65535;R[2*M+2*D]+=C*ft,ae(R,2*M+2*D),R[2*M+2*D+1]+=j*ft,ae(R,2*M+2*D+1),R[2*M+2*D+1]+=C*tt,ae(R,2*M+2*D+1),R[2*M+2*D+2]+=j*tt,ae(R,2*M+2*D+2)}for(x=0;x<S;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=S;x<2*S;x++)R[x]=0;return new d(R,0)};function ae(x,S){for(;(x[S]&65535)!=x[S];)x[S+1]+=x[S]>>>16,x[S]&=65535,S++}function se(x,S){this.g=x,this.h=S}function H(x,S){if(te(S))throw Error("division by zero");if(te(x))return new se(w,w);if(ne(x))return S=H($(x),S),new se($(S.g),$(S.h));if(ne(S))return S=H(x,$(S)),new se($(S.g),S.h);if(x.g.length>30){if(ne(x)||ne(S))throw Error("slowDivide_ only works with positive integers.");for(var R=I,M=S;M.l(x)<=0;)R=W(R),M=W(M);var D=J(R,1),j=J(M,1);for(M=J(M,2),R=J(R,2);!te(M);){var C=j.add(M);C.l(x)<=0&&(D=D.add(R),j=C),M=J(M,1),R=J(R,1)}return S=le(x,D.j(S)),new se(D,S)}for(D=w;x.l(S)>=0;){for(R=Math.max(1,Math.floor(x.m()/S.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),j=_(R),C=j.j(S);ne(C)||C.l(x)>0;)R-=M,j=_(R),C=j.j(S);te(j)&&(j=I),D=D.add(j),x=le(x,C)}return new se(D,x)}s.B=function(x){return H(this,x).h},s.and=function(x){const S=Math.max(this.g.length,x.g.length),R=[];for(let M=0;M<S;M++)R[M]=this.i(M)&x.i(M);return new d(R,this.h&x.h)},s.or=function(x){const S=Math.max(this.g.length,x.g.length),R=[];for(let M=0;M<S;M++)R[M]=this.i(M)|x.i(M);return new d(R,this.h|x.h)},s.xor=function(x){const S=Math.max(this.g.length,x.g.length),R=[];for(let M=0;M<S;M++)R[M]=this.i(M)^x.i(M);return new d(R,this.h^x.h)};function W(x){const S=x.g.length+1,R=[];for(let M=0;M<S;M++)R[M]=x.i(M)<<1|x.i(M-1)>>>31;return new d(R,x.h)}function J(x,S){const R=S>>5;S%=32;const M=x.g.length-R,D=[];for(let j=0;j<M;j++)D[j]=S>0?x.i(j+R)>>>S|x.i(j+R+1)<<32-S:x.i(j+R);return new d(D,x.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,T1=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=T,Qs=d}).apply(typeof R_<"u"?R_:typeof self<"u"?self:typeof window<"u"?window:{});var Ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var S1,_l,A1,Bc,am,w1,x1,R1;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ic=="object"&&Ic];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)e:{var v=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var P=u[A];if(!(P in v))break e;v=v[P]}u=u[u.length-1],A=v[u],m=m(A),m!=A&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function p(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=p,_.apply(null,arguments)}function T(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(A,P,q){for(var re=Array(arguments.length-2),we=2;we<arguments.length;we++)re[we-2]=arguments[we];return m.prototype[P].apply(A,re)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function z(u){const m=u.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=u[A];return v}return[]}function te(u,m){for(let A=1;A<arguments.length;A++){const P=arguments[A];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const q=P.length||0;u.length=v+q;for(let re=0;re<q;re++)u[v+re]=P[re]}else u.push(P)}}class ne{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function $(u){d.setTimeout(()=>{throw u},0)}function le(){var u=x;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ae{constructor(){this.h=this.g=null}add(m,v){const A=se.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var se=new ne(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let W,J=!1,x=new ae,S=()=>{const u=Promise.resolve(void 0);W=()=>{u.then(R)}};function R(){for(var u;u=le();){try{u.h.call(u.g)}catch(v){$(v)}var m=se;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}J=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function tt(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(tt,D),tt.prototype.init=function(u,m){const v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&tt.Z.h.call(this)},tt.prototype.h=function(){tt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ft="closure_listenable_"+(Math.random()*1e6|0),G=0;function ie(u,m,v,A,P){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=P,this.key=++G,this.da=this.fa=!1}function de(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function De(u,m,v){for(const A in u)m.call(v,u[A],A,u)}function Qe(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function V(u){const m={};for(const v in u)m[v]=u[v];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(u,m){let v,A;for(let P=1;P<arguments.length;P++){A=arguments[P];for(v in A)u[v]=A[v];for(let q=0;q<X.length;q++)v=X[q],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function ce(u){this.src=u,this.g={},this.h=0}ce.prototype.add=function(u,m,v,A,P){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const re=Re(u,m,A,P);return re>-1?(m=u[re],v||(m.fa=!1)):(m=new ie(m,this.src,q,!!A,P),m.fa=v,u.push(m)),m};function be(u,m){const v=m.type;if(v in u.g){var A=u.g[v],P=Array.prototype.indexOf.call(A,m,void 0),q;(q=P>=0)&&Array.prototype.splice.call(A,P,1),q&&(de(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Re(u,m,v,A){for(let P=0;P<u.length;++P){const q=u[P];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==A)return P}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),Nt={};function rt(u,m,v,A,P){if(Array.isArray(m)){for(let q=0;q<m.length;q++)rt(u,m[q],v,A,P);return null}return v=uo(v),u&&u[ft]?u.J(m,v,g(A)?!!A.capture:!1,P):nr(u,m,v,!1,A,P)}function nr(u,m,v,A,P,q){if(!m)throw Error("Invalid event type");const re=g(P)?!!P.capture:!!P;let we=ir(u);if(we||(u[Le]=we=new ce(u)),v=we.add(m,v,A,re,q),v.proxy)return v;if(A=Kr(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)j||(P=re),P===void 0&&(P=!1),u.addEventListener(m.toString(),A,P);else if(u.attachEvent)u.attachEvent(Wn(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Kr(){function u(v){return m.call(u.src,u.listener,v)}const m=oo;return u}function Yr(u,m,v,A,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)Yr(u,m[q],v,A,P);else A=g(A)?!!A.capture:!!A,v=uo(v),u&&u[ft]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=Re(m,v,A,P),v>-1&&(de(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=ir(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Re(m,v,A,P)),(v=u>-1?m[u]:null)&&Xr(v))}function Xr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ft])be(m.i,u);else{var v=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(v,A,u.capture):m.detachEvent?m.detachEvent(Wn(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=ir(m))?(be(v,u),v.h==0&&(v.src=null,m[Le]=null)):de(u)}}}function Wn(u){return u in Nt?Nt[u]:Nt[u]="on"+u}function oo(u,m){if(u.da)u=!0;else{m=new tt(m,this);const v=u.listener,A=u.ha||u.src;u.fa&&Xr(u),u=v.call(A,m)}return u}function ir(u){return u=u[Le],u instanceof ce?u:null}var lo="__closure_events_fn_"+(Math.random()*1e9>>>0);function uo(u){return typeof u=="function"?u:(u[lo]||(u[lo]=function(m){return u.handleEvent(m)}),u[lo])}function _t(){M.call(this),this.i=new ce(this),this.M=this,this.G=null}w(_t,M),_t.prototype[ft]=!0,_t.prototype.removeEventListener=function(u,m,v,A){Yr(this,u,m,v,A)};function It(u,m){var v,A=u.G;if(A)for(v=[];A;A=A.G)v.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var P=m;m=new D(A,u),oe(m,P)}P=!0;let q,re;if(v)for(re=v.length-1;re>=0;re--)q=m.g=v[re],P=rs(q,A,!0,m)&&P;if(q=m.g=u,P=rs(q,A,!0,m)&&P,P=rs(q,A,!1,m)&&P,v)for(re=0;re<v.length;re++)q=m.g=v[re],P=rs(q,A,!1,m)&&P}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let A=0;A<v.length;A++)de(v[A]);delete u.g[m],u.h--}}this.G=null},_t.prototype.J=function(u,m,v,A){return this.i.add(String(u),m,!1,v,A)},_t.prototype.K=function(u,m,v,A){return this.i.add(String(u),m,!0,v,A)};function rs(u,m,v,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let q=0;q<m.length;++q){const re=m[q];if(re&&!re.da&&re.capture==v){const we=re.listener,mt=re.ha||re.src;re.fa&&be(u.i,re),P=we.call(mt,A)!==!1&&P}}return P&&!A.defaultPrevented}function Ih(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Zl(u){u.g=Ih(()=>{u.g=null,u.i&&(u.i=!1,Zl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Wt extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Zl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sr(u){M.call(this),this.h=u,this.g={}}w(sr,M);var co=[];function ho(u){De(u.g,function(m,v){this.g.hasOwnProperty(v)&&Xr(m)},u),u.g={}}sr.prototype.N=function(){sr.Z.N.call(this),ho(this)},sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var as=d.JSON.stringify,Dh=d.JSON.parse,Jl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Wl(){}function eu(){}var Ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ut(){D.call(this,"d")}w(Ut,D);function Tn(){D.call(this,"c")}w(Tn,D);var dt={},tu=null;function $r(){return tu=tu||new _t}dt.Ia="serverreachability";function nu(u){D.call(this,dt.Ia,u)}w(nu,D);function ei(u){const m=$r();It(m,new nu(m))}dt.STAT_EVENT="statevent";function rr(u,m){D.call(this,dt.STAT_EVENT,u),this.stat=m}w(rr,D);function vt(u){const m=$r();It(m,new rr(m,u))}dt.Ja="timingevent";function ti(u,m){D.call(this,dt.Ja,u),this.size=m}w(ti,D);function ni(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Un(){this.g=!0}Un.prototype.ua=function(){this.g=!1};function Oh(u,m,v,A,P,q){u.info(function(){if(u.g)if(q){var re="",we=q.split("&");for(let He=0;He<we.length;He++){var mt=we[He].split("=");if(mt.length>1){const at=mt[0];mt=mt[1];const xn=at.split("_");re=xn.length>=2&&xn[1]=="type"?re+(at+"="+mt+"&"):re+(at+"=redacted&")}}}else re=null;else re=q;return"XMLHTTP REQ ("+A+") [attempt "+P+"]: "+m+`
`+v+`
`+re})}function iu(u,m,v,A,P,q,re){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+P+"]: "+m+`
`+v+`
`+q+" "+re})}function ii(u,m,v,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Mh(u,v)+(A?" "+A:"")})}function ar(u,m){u.info(function(){return"TIMEOUT: "+m})}Un.prototype.info=function(){};function Mh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var P=A[0];if(P!="noop"&&P!="stop"&&P!="close")for(let re=1;re<A.length;re++)A[re]=""}}}}return as(q)}catch{return m}}var or={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},fo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},mo;function lr(){}w(lr,Wl),lr.prototype.g=function(){return new XMLHttpRequest},mo=new lr;function Ni(u){return encodeURIComponent(String(u))}function su(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function zn(u,m,v,A){this.j=u,this.i=m,this.l=v,this.S=A||1,this.V=new sr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var Et={},Vt={};function si(u,m,v){u.M=1,u.A=ur(Tt(m)),u.u=v,u.R=!0,Zr(u,null)}function Zr(u,m){u.F=Date.now(),ri(u),u.B=Tt(u.A);var v=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),ta(v.i,"t",A),u.C=0,v=u.j.L,u.h=new Bn,u.g=vu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Wt(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,A=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(co[0]=P.toString()),P=co);for(let q=0;q<P.length;q++){const re=rt(v,P[q],A||m.handleEvent,!1,m.h||m);if(!re)break;m.g[re.key]=re}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ei(),Oh(u.i,u.v,u.B,u.l,u.S,u.u)}zn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Fn(u)==3?m.j():this.Y(u)},zn.prototype.Y=function(u){try{if(u==this.g)e:{const we=Fn(this.g),mt=this.g.ya(),He=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||zt(this.g)))){this.K||we!=4||mt==7||(mt==8||He<=0?ei(3):ei(2)),ai(this);var m=this.g.ca();this.X=m;var v=Vh(this);if(this.o=m==200,iu(this.i,this.v,this.B,this.l,this.S,we,m),this.o){if(this.U&&!this.L){t:{if(this.g){var A,P=this.g;if((A=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(A)){var q=A;break t}}q=null}if(u=q)ii(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,oi(this,u);else{this.o=!1,this.m=3,vt(12),fn(this),Sn(this);break e}}if(this.R){u=!0;let at;for(;!this.K&&this.C<v.length;)if(at=au(this,v),at==Vt){we==4&&(this.m=4,vt(14),u=!1),ii(this.i,this.l,null,"[Incomplete Response]");break}else if(at==Et){this.m=4,vt(15),ii(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ii(this.i,this.l,at,null),oi(this,at);if(ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||v.length!=0||this.h.h||(this.m=1,vt(16),u=!1),this.o=this.o&&u,!u)ii(this.i,this.l,v,"[Invalid Chunked Response]"),fn(this),Sn(this);else if(v.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),No(re),re.P=!0,vt(11))}}else ii(this.i,this.l,v,null),oi(this,v);we==4&&fn(this),this.o&&!this.K&&(we==4?gu(this.j,this):(this.o=!1,ri(this)))}else Di(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),fn(this),Sn(this)}}}catch{}finally{}};function Vh(u){if(!ru(u))return u.g.la();const m=zt(u.g);if(m==="")return"";let v="";const A=m.length,P=Fn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return fn(u),Sn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<A;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(P&&q==A-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function ru(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function au(u,m){var v=u.C,A=m.indexOf(`
`,v);return A==-1?Vt:(v=Number(m.substring(v,A)),isNaN(v)?Et:(A+=1,A+v>m.length?Vt:(m=m.slice(A,A+v),u.C=A+v,m)))}zn.prototype.cancel=function(){this.K=!0,fn(this)};function ri(u){u.T=Date.now()+u.H,Jr(u,u.H)}function Jr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ni(_(u.aa,u),m)}function ai(u){u.D&&(d.clearTimeout(u.D),u.D=null)}zn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ar(this.i,this.B),this.M!=2&&(ei(),vt(17)),fn(this),this.m=2,Sn(this)):Jr(this,this.T-u)};function Sn(u){u.j.I==0||u.K||gu(u.j,u)}function fn(u){ai(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,ho(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function oi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||ui(v.h,u))){if(!u.L&&ui(v.h,u)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var P=A;if(P[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)aa(v),ms(v);else break e;pr(v),vt(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ni(_(v.Va,v),6e3));li(v.h)<=1&&v.ta&&(v.ta=void 0)}else gi(v,11)}else if((u.L||v.g==u)&&aa(v),!C(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let He=P[m];const at=He[0];if(!(at<=v.K))if(v.K=at,He=He[1],v.I==2)if(He[0]=="c"){v.M=He[1],v.ba=He[2];const xn=He[3];xn!=null&&(v.ka=xn,v.j.info("VER="+v.ka));const pi=He[4];pi!=null&&(v.za=pi,v.j.info("SVER="+v.za));const Gn=He[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(A=1.5*Gn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Qn=u.g;if(Qn){const yr=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yr){var q=A.h;q.g||yr.indexOf("spdy")==-1&&yr.indexOf("quic")==-1&&yr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(yo(q,q.h),q.h=null))}if(A.G){const oa=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;oa&&(A.wa=oa,Ke(A.J,A.G,oa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var re=u;if(A.na=_u(A,A.L?A.ba:null,A.W),re.L){_o(A.h,re);var we=re,mt=A.O;mt&&(we.H=mt),we.D&&(ai(we),ri(we)),A.g=re}else du(A);v.i.length>0&&mi(v)}else He[0]!="stop"&&He[0]!="close"||gi(v,7);else v.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?gi(v,7):Ro(v):He[0]!="noop"&&v.l&&v.l.qa(He),v.A=0)}}ei(4)}catch{}}var bt=class{constructor(u,m){this.g=u,this.map=m}};function go(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function po(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function li(u){return u.h?1:u.g?u.g.size:0}function ui(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function yo(u,m){u.g?u.g.add(m):u.h=m}function _o(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}go.prototype.cancel=function(){if(this.i=vo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function vo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return z(u.i)}var ou=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wr(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const A=u[v].indexOf("=");let P,q=null;A>=0?(P=u[v].substring(0,A),q=u[v].substring(A+1)):P=u[v],m(P,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof dn?(this.l=u.l,kt(this,u.j),this.o=u.o,this.g=u.g,os(this,u.u),this.h=u.h,Eo(this,hu(u.i)),this.m=u.m):u&&(m=String(u).match(ou))?(this.l=!1,kt(this,m[1]||"",!0),this.o=ci(m[2]||""),this.g=ci(m[3]||"",!0),os(this,m[4]),this.h=ci(m[5]||"",!0),Eo(this,m[6]||"",!0),this.m=ci(m[7]||"")):(this.l=!1,this.i=new us(null,this.l))}dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(cr(m,ea,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(cr(m,ea,!0),"@"),u.push(Ni(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(cr(v,v.charAt(0)=="/"?bo:lu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",cr(v,uu)),u.join("")},dn.prototype.resolve=function(u){const m=Tt(this);let v=!!u.j;v?kt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var A=u.h;if(v)os(m,u.u);else if(v=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var P=m.h.lastIndexOf("/");P!=-1&&(A=m.h.slice(0,P+1)+A)}if(P=A,P==".."||P==".")A="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){A=P.lastIndexOf("/",0)==0,P=P.split("/");const q=[];for(let re=0;re<P.length;){const we=P[re++];we=="."?A&&re==P.length&&q.push(""):we==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),A&&re==P.length&&q.push("")):(q.push(we),A=!0)}A=q.join("/")}else A=P}return v?m.h=A:v=u.i.toString()!=="",v?Eo(m,hu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Tt(u){return new dn(u)}function kt(u,m,v){u.j=v?ci(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function os(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Eo(u,m,v){m instanceof us?(u.i=m,na(u.i,u.l)):(v||(m=cr(m,ls)),u.i=new us(m,u.l))}function Ke(u,m,v){u.i.set(m,v)}function ur(u){return Ke(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ci(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function cr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,nn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ea=/[#\/\?@]/g,lu=/[#\?:]/g,bo=/[#\?]/g,ls=/[#\?@]/g,uu=/#/g;function us(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function sn(u){u.g||(u.g=new Map,u.h=0,u.i&&Wr(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=us.prototype,s.add=function(u,m){sn(this),this.i=null,u=cs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function cu(u,m){sn(u),m=cs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function To(u,m){return sn(u),m=cs(u,m),u.g.has(m)}s.forEach=function(u,m){sn(this),this.g.forEach(function(v,A){v.forEach(function(P){u.call(m,P,A,this)},this)},this)};function So(u,m){sn(u);let v=[];if(typeof m=="string")To(u,m)&&(v=v.concat(u.g.get(cs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return sn(this),this.i=null,u=cs(this,u),To(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=So(this,u),u.length>0?String(u[0]):m):m};function ta(u,m,v){cu(u,m),v.length>0&&(u.i=null,u.g.set(cs(u,m),z(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const P=Ni(v);v=So(this,v);for(let q=0;q<v.length;q++){let re=P;v[q]!==""&&(re+="="+Ni(v[q])),u.push(re)}}return this.i=u.join("&")};function hu(u){const m=new us;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function cs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function na(u,m){m&&!u.j&&(sn(u),u.i=null,u.g.forEach(function(v,A){const P=A.toLowerCase();A!=P&&(cu(this,A),ta(this,P,v))},u)),u.j=m}function Hn(u,m){const v=new Un;if(d.Image){const A=new Image;A.onload=T(An,v,"TestLoadImage: loaded",!0,m,A),A.onerror=T(An,v,"TestLoadImage: error",!1,m,A),A.onabort=T(An,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=T(An,v,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Ao(u,m){const v=new Un,A=new AbortController,P=setTimeout(()=>{A.abort(),An(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(q=>{clearTimeout(P),q.ok?An(v,"TestPingServer: ok",!0,m):An(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),An(v,"TestPingServer: error",!1,m)})}function An(u,m,v,A,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),A(v)}catch{}}function hs(){this.g=new Jl}function hi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(hi,Wl),hi.prototype.g=function(){return new hr(this.i,this.h)};function hr(u,m){_t.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(hr,_t),s=hr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,qn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ia(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ia(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?fs(this):qn(this),this.readyState==3&&ia(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,fs(this))},s.Na=function(u){this.g&&(this.response=u,fs(this))},s.ga=function(){this.g&&fs(this)};function fs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,qn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(hr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function wn(u){let m="";return De(u,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function fr(u,m,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=wn(v),typeof u=="string"?v!=null&&Ni(v):Ke(u,m,v))}function $e(u){_t.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w($e,_t);var fi=/^https?$/i,wo=["POST","PUT"];s=$e.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():mo.g(),this.g.onreadystatechange=I(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){dr(this,q);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var P in A)v.set(P,A[P]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())v.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(wo,m,void 0)>=0)||A||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,re]of v)this.g.setRequestHeader(q,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){dr(this,q)}};function dr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,xo(u),Ii(u)}function xo(u){u.A||(u.A=!0,It(u,"complete"),It(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,It(this,"complete"),It(this,"abort"),Ii(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ii(this,!0)),$e.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?mr(this):this.Xa())},s.Xa=function(){mr(this)};function mr(u){if(u.h&&typeof c<"u"){if(u.v&&Fn(u)==4)setTimeout(u.Ca.bind(u),0);else if(It(u,"readystatechange"),Fn(u)==4){u.h=!1;try{const q=u.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var A;if(A=q===0){let re=String(u.D).match(ou)[1]||null;!re&&d.self&&d.self.location&&(re=d.self.location.protocol.slice(0,-1)),A=!fi.test(re?re.toLowerCase():"")}v=A}if(v)It(u,"complete"),It(u,"success");else{u.o=6;try{var P=Fn(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",xo(u)}}finally{Ii(u)}}}}function Ii(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||It(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Fn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Fn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Dh(m)}};function zt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Di(u){const m={};u=(u.g&&Fn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(C(u[A]))continue;var v=su(u[A]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[P]||[];m[P]=q,q.push(v)}Qe(m,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function di(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ds(u){this.za=0,this.i=[],this.j=new Un,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=di("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=di("baseRetryDelayMs",5e3,u),this.Za=di("retryDelaySeedMs",1e4,u),this.Ta=di("forwardChannelMaxRetries",2,u),this.va=di("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new go(u&&u.concurrentRequestLimit),this.Ba=new hs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ds.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,A){vt(0),this.W=u,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=_u(this,null,this.W),mi(this)};function Ro(u){if(sa(u),u.I==3){var m=u.V++,v=Tt(u.J);if(Ke(v,"SID",u.M),Ke(v,"RID",m),Ke(v,"TYPE","terminate"),gr(u,v),m=new zn(u,u.j,m),m.M=2,m.A=ur(Tt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=vu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ri(m)}yu(u)}function ms(u){u.g&&(No(u),u.g.cancel(),u.g=null)}function sa(u){ms(u),u.v&&(d.clearTimeout(u.v),u.v=null),aa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function mi(u){if(!po(u.h)&&!u.m){u.m=!0;var m=u.Ea;W||S(),J||(W(),J=!0),x.add(m,u),u.D=0}}function ra(u,m){return li(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ni(_(u.Ea,u,m),pu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new zn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=V(q),oe(q,this.U)):q=this.U),this.u!==null||this.R||(P.J=q,q=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=fu(this,P,m),v=Tt(this.J),Ke(v,"RID",u),Ke(v,"CVER",22),this.G&&Ke(v,"X-HTTP-Session-Id",this.G),gr(this,v),q&&(this.R?m="headers="+Ni(wn(q))+"&"+m:this.u&&fr(v,this.u,q)),yo(this.h,P),this.Ra&&Ke(v,"TYPE","init"),this.S?(Ke(v,"$req",m),Ke(v,"SID","null"),P.U=!0,si(P,v,null)):si(P,v,m),this.I=2}}else this.I==3&&(u?Co(this,u):this.i.length==0||po(this.h)||Co(this))};function Co(u,m){var v;m?v=m.l:v=u.V++;const A=Tt(u.J);Ke(A,"SID",u.M),Ke(A,"RID",v),Ke(A,"AID",u.K),gr(u,A),u.u&&u.o&&fr(A,u.u,u.o),v=new zn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=fu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),yo(u.h,v),si(v,A,m)}function gr(u,m){u.H&&De(u.H,function(v,A){Ke(m,A,v)}),u.l&&De({},function(v,A){Ke(m,A,v)})}function fu(u,m,v){v=Math.min(u.i.length,v);const A=u.l?_(u.l.Ka,u.l,u):null;e:{var P=u.i;let we=-1;for(;;){const mt=["count="+v];we==-1?v>0?(we=P[0].g,mt.push("ofs="+we)):we=0:mt.push("ofs="+we);let He=!0;for(let at=0;at<v;at++){var q=P[at].g;const xn=P[at].map;if(q-=we,q<0)we=Math.max(0,P[at].g-100),He=!1;else try{q="req"+q+"_"||"";try{var re=xn instanceof Map?xn:Object.entries(xn);for(const[pi,Gn]of re){let Qn=Gn;g(Gn)&&(Qn=as(Gn)),mt.push(q+pi+"="+encodeURIComponent(Qn))}}catch(pi){throw mt.push(q+"type="+encodeURIComponent("_badmap")),pi}}catch{A&&A(xn)}}if(He){re=mt.join("&");break e}}re=void 0}return u=u.i.splice(0,v),m.G=u,re}function du(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;W||S(),J||(W(),J=!0),x.add(m,u),u.A=0}}function pr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ni(_(u.Da,u),pu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,mu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ni(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),ms(this),mu(this))};function No(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function mu(u){u.g=new zn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Tt(u.na);Ke(m,"RID","rpc"),Ke(m,"SID",u.M),Ke(m,"AID",u.K),Ke(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ke(m,"TO",u.ia),Ke(m,"TYPE","xmlhttp"),gr(u,m),u.u&&u.o&&fr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=ur(Tt(m)),v.u=null,v.R=!0,Zr(v,u)}s.Va=function(){this.C!=null&&(this.C=null,ms(this),pr(this),vt(19))};function aa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function gu(u,m){var v=null;if(u.g==m){aa(u),No(u),u.g=null;var A=2}else if(ui(u.h,m))v=m.G,_o(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;A=$r(),It(A,new ti(A,v)),mi(u)}else du(u);else if(P=m.m,P==3||P==0&&m.X>0||!(A==1&&ra(u,m)||A==2&&pr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),P){case 1:gi(u,5);break;case 4:gi(u,10);break;case 3:gi(u,6);break;default:gi(u,2)}}}function pu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function gi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),A=u.Ua;const P=!A;A=new dn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||kt(A,"https"),ur(A),P?Hn(A.toString(),v):Ao(A.toString(),v)}else vt(2);u.I=0,u.l&&u.l.pa(m),yu(u),sa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function yu(u){if(u.I=0,u.ja=[],u.l){const m=vo(u.h);(m.length!=0||u.i.length!=0)&&(te(u.ja,m),te(u.ja,u.i),u.h.i.length=0,z(u.i),u.i.length=0),u.l.oa()}}function _u(u,m,v){var A=v instanceof dn?Tt(v):new dn(v);if(A.g!="")m&&(A.g=m+"."+A.g),os(A,A.u);else{var P=d.location;A=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const q=new dn(null);A&&kt(q,A),m&&(q.g=m),P&&os(q,P),v&&(q.h=v),A=q}return v=u.G,m=u.wa,v&&m&&Ke(A,v,m),Ke(A,"VER",u.ka),gr(u,A),A}function vu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new $e(new hi({ab:v})):new $e(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}s=Eu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function gs(){}gs.prototype.g=function(u,m){return new en(u,m)};function en(u,m){_t.call(this),this.g=new ds(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!C(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Oi(this)}w(en,_t),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Ro(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=as(u),u=v);m.i.push(new bt(m.Ya++,u)),m.I==3&&mi(m)},en.prototype.N=function(){this.g.l=null,delete this.j,Ro(this.g),delete this.g,en.Z.N.call(this)};function bu(u){Ut.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(bu,Ut);function Tu(){Tn.call(this),this.status=1}w(Tu,Tn);function Oi(u){this.g=u}w(Oi,Eu),Oi.prototype.ra=function(){It(this.g,"a")},Oi.prototype.qa=function(u){It(this.g,new bu(u))},Oi.prototype.pa=function(u){It(this.g,new Tu)},Oi.prototype.oa=function(){It(this.g,"b")},gs.prototype.createWebChannel=gs.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,R1=function(){return new gs},x1=function(){return $r()},w1=dt,am={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},or.NO_ERROR=0,or.TIMEOUT=8,or.HTTP_ERROR=6,Bc=or,fo.COMPLETE="complete",A1=fo,eu.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",_t.prototype.listen=_t.prototype.J,_l=eu,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,S1=$e}).apply(typeof Ic<"u"?Ic:typeof self<"u"?self:typeof window<"u"?window:{});const C_="@firebase/firestore",N_="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let io="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br=new wm("@firebase/firestore");function Pa(){return Br.logLevel}function ue(s,...e){if(Br.logLevel<=Ve.DEBUG){const i=e.map(Lm);Br.debug(`Firestore (${io}): ${s}`,...i)}}function ts(s,...e){if(Br.logLevel<=Ve.ERROR){const i=e.map(Lm);Br.error(`Firestore (${io}): ${s}`,...i)}}function Ya(s,...e){if(Br.logLevel<=Ve.WARN){const i=e.map(Lm);Br.warn(`Firestore (${io}): ${s}`,...i)}}function Lm(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,C1(s,r,i)}function C1(s,e,i){let r=`FIRESTORE (${io}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw ts(r),new Error(r)}function Fe(s,e,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||C1(e,l,r)}function Ae(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends is{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Kx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i($t.UNAUTHENTICATED)))}shutdown(){}}class Yx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Xx{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Fe(this.o===void 0,42304);let r=this.i;const l=p=>this.i!==r?(r=this.i,i(p)):Promise.resolve();let c=new Ks;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ks,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const p=c;e.enqueueRetryable((async()=>{await p.promise,await l(this.currentUser)}))},g=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((p=>g(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ks)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Fe(typeof r.accessToken=="string",31837,{l:r}),new N1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class $x{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Zx{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new $x(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i($t.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class I_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Jx{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Fe(this.o===void 0,3512);const r=c=>{c.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ue("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const l=c=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new I_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Fe(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new I_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=Wx(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=e.charAt(l[c]%62))}return r}}function ke(s,e){return s<e?-1:s>e?1:0}function om(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const l=s.charAt(r),c=e.charAt(r);if(l!==c)return Hd(l)===Hd(c)?ke(l,c):Hd(l)?1:-1}return ke(s.length,e.length)}const eR=55296,tR=57343;function Hd(s){const e=s.charCodeAt(0);return e>=eR&&e<=tR}function Xa(s,e,i){return s.length===e.length&&s.every(((r,l)=>i(r,e[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="__name__";class bi{constructor(e,i,r){i===void 0?i=0:i>e.length&&Ee(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&Ee(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return bi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof bi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let l=0;l<r;l++){const c=bi.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return ke(e.length,i.length)}static compareSegments(e,i){const r=bi.isNumericId(e),l=bi.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?bi.extractNumericId(e).compare(bi.extractNumericId(i)):om(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qs.fromString(e.substring(4,e.length-2))}}class lt extends bi{construct(e,i,r){return new lt(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new ge(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new lt(i)}static emptyPath(){return new lt([])}}const nR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends bi{construct(e,i,r){return new Qt(e,i,r)}static isValidIdentifier(e){return nR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===D_}static keyField(){return new Qt([D_])}static fromServerFormat(e){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new ge(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new ge(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ge(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(r+=g,l++):(c(),l++)}if(c(),d)throw new ge(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(i)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(lt.fromString(e))}static fromName(e){return new ye(lt.fromString(e).popFirst(5))}static empty(){return new ye(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return lt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new lt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(s,e,i){if(!i)throw new ge(ee.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function sR(s,e,i,r){if(e===!0&&r===!0)throw new ge(ee.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function O_(s){if(!ye.isDocumentKey(s))throw new ge(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function I1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function zm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ee(12329,{type:typeof s})}function Dl(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ge(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=zm(s);throw new ge(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(s,e){const i={typeString:s};return e&&(i.value=e),i}function Ql(s,e){if(!I1(s))throw new ge(ee.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const l=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new ge(ee.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_=-62135596800,V_=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*V_);return new st(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ge(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ge(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<M_)throw new ge(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/V_}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ql(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-M_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:Ct("string",st._jsonSchemaVersion),seconds:Ct("number"),nanoseconds:Ct("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new st(0,0))}static max(){return new Te(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol=-1;function rR(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Te.fromTimestamp(r===1e9?new st(i+1,0):new st(i,r));return new Ys(l,ye.empty(),e)}function aR(s){return new Ys(s.readTime,s.key,Ol)}class Ys{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Ys(Te.min(),ye.empty(),Ol)}static max(){return new Ys(Te.max(),ye.empty(),Ol)}}function oR(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ye.comparator(s.documentKey,e.documentKey),i!==0?i:ke(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function so(s){if(s.code!==ee.FAILED_PRECONDITION||s.message!==lR)throw s;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,r)=>{i(e)}))}static reject(e){return new Z(((i,r)=>{r(e)}))}static waitFor(e){return new Z(((i,r)=>{let l=0,c=0,d=!1;e.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(p=>r(p)))})),d=!0,c===l&&i()}))}static or(e){let i=Z.resolve(!1);for(const r of e)i=i.next((l=>l?Z.resolve(l):r()));return i}static forEach(e,i){const r=[];return e.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(e,i){return new Z(((r,l)=>{const c=e.length,d=new Array(c);let g=0;for(let p=0;p<c;p++){const _=p;i(e[_]).next((T=>{d[_]=T,++g,g===c&&r(d)}),(T=>l(T)))}}))}static doWhile(e,i){return new Z(((r,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):r()};c()}))}}function cR(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ro(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}yh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm=-1;function _h(s){return s==null}function th(s){return s===0&&1/s==-1/0}function hR(s){return typeof s=="number"&&Number.isInteger(s)&&!th(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="";function fR(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=k_(e)),e=dR(s.get(i),e);return k_(e)}function dR(s,e){let i=e;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case D1:i+="";break;default:i+=c}}return i}function k_(s){return s+D1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function qr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function O1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,i){this.comparator=e,this.root=i||Gt.EMPTY}insert(e,i){return new ut(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dc(this.root,e,this.comparator,!0)}}class Dc{constructor(e,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?r(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,i,r,l,c){this.key=e,this.value=i,this.color=r??Gt.RED,this.left=l??Gt.EMPTY,this.right=c??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,l,c){return new Gt(e??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let l=this;const c=r(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Gt.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,i,r,l,c){return this}insert(e,i,r){return new Gt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new P_(this.data.getIterator())}getIteratorFrom(e){return new P_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Mt(this.comparator);return i.data=e,i}}class P_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Zn([])}unionWith(e){let i=new Mt(Qt.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Zn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Xa(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new M1("Invalid base64 string: "+c):c}})(e);return new Kt(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new Kt(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const mR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xs(s){if(Fe(!!s,39018),typeof s=="string"){let e=0;const i=mR.exec(s);if(Fe(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yt(s.seconds),nanos:yt(s.nanos)}}function yt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function $s(s){return typeof s=="string"?Kt.fromBase64String(s):Kt.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="server_timestamp",k1="__type__",j1="__previous_value__",P1="__local_write_time__";function Hm(s){var i,r;return((r=(((i=s==null?void 0:s.mapValue)==null?void 0:i.fields)||{})[k1])==null?void 0:r.stringValue)===V1}function vh(s){const e=s.mapValue.fields[j1];return Hm(e)?vh(e):e}function Ml(s){const e=Xs(s.mapValue.fields[P1].timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,i,r,l,c,d,g,p,_,T){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=_,this.isUsingEmulator=T}}const nh="(default)";class Vl{constructor(e,i){this.projectId=e,this.database=i||nh}static empty(){return new Vl("","")}get isDefaultDatabase(){return this.database===nh}isEqual(e){return e instanceof Vl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="__type__",pR="__max__",Oc={mapValue:{}},U1="__vector__",ih="value";function Zs(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Hm(s)?4:_R(s)?9007199254740991:yR(s)?10:11:Ee(28295,{value:s})}function Ri(s,e){if(s===e)return!0;const i=Zs(s);if(i!==Zs(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Ml(s).isEqual(Ml(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Xs(l.timestampValue),g=Xs(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return $s(l.bytesValue).isEqual($s(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return yt(l.geoPointValue.latitude)===yt(c.geoPointValue.latitude)&&yt(l.geoPointValue.longitude)===yt(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return yt(l.integerValue)===yt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=yt(l.doubleValue),g=yt(c.doubleValue);return d===g?th(d)===th(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return Xa(s.arrayValue.values||[],e.arrayValue.values||[],Ri);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(j_(d)!==j_(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!Ri(d[p],g[p])))return!1;return!0})(s,e);default:return Ee(52216,{left:s})}}function kl(s,e){return(s.values||[]).find((i=>Ri(i,e)))!==void 0}function $a(s,e){if(s===e)return 0;const i=Zs(s),r=Zs(e);if(i!==r)return ke(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return ke(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=yt(c.integerValue||c.doubleValue),p=yt(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1})(s,e);case 3:return L_(s.timestampValue,e.timestampValue);case 4:return L_(Ml(s),Ml(e));case 5:return om(s.stringValue,e.stringValue);case 6:return(function(c,d){const g=$s(c),p=$s(d);return g.compareTo(p)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),p=d.split("/");for(let _=0;_<g.length&&_<p.length;_++){const T=ke(g[_],p[_]);if(T!==0)return T}return ke(g.length,p.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=ke(yt(c.latitude),yt(d.latitude));return g!==0?g:ke(yt(c.longitude),yt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return U_(s.arrayValue,e.arrayValue);case 10:return(function(c,d){var I,z,te,ne;const g=c.fields||{},p=d.fields||{},_=(I=g[ih])==null?void 0:I.arrayValue,T=(z=p[ih])==null?void 0:z.arrayValue,w=ke(((te=_==null?void 0:_.values)==null?void 0:te.length)||0,((ne=T==null?void 0:T.values)==null?void 0:ne.length)||0);return w!==0?w:U_(_,T)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Oc.mapValue&&d===Oc.mapValue)return 0;if(c===Oc.mapValue)return 1;if(d===Oc.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),_=d.fields||{},T=Object.keys(_);p.sort(),T.sort();for(let w=0;w<p.length&&w<T.length;++w){const I=om(p[w],T[w]);if(I!==0)return I;const z=$a(g[p[w]],_[T[w]]);if(z!==0)return z}return ke(p.length,T.length)})(s.mapValue,e.mapValue);default:throw Ee(23264,{he:i})}}function L_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return ke(s,e);const i=Xs(s),r=Xs(e),l=ke(i.seconds,r.seconds);return l!==0?l:ke(i.nanos,r.nanos)}function U_(s,e){const i=s.values||[],r=e.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=$a(i[l],r[l]);if(c)return c}return ke(i.length,r.length)}function Za(s){return lm(s)}function lm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=Xs(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return $s(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ye.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=lm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${lm(i.fields[d])}`;return l+"}"})(s.mapValue):Ee(61005,{value:s})}function Hc(s){switch(Zs(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vh(s);return e?16+Hc(e):16;case 5:return 2*s.stringValue.length;case 6:return $s(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Hc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return qr(r.fields,((c,d)=>{l+=c.length+Hc(d)})),l})(s.mapValue);default:throw Ee(13486,{value:s})}}function um(s){return!!s&&"integerValue"in s}function qm(s){return!!s&&"arrayValue"in s}function z_(s){return!!s&&"nullValue"in s}function B_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function qc(s){return!!s&&"mapValue"in s}function yR(s){var i,r;return((r=(((i=s==null?void 0:s.mapValue)==null?void 0:i.fields)||{})[L1])==null?void 0:r.stringValue)===U1}function Al(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return qr(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Al(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Al(s.arrayValue.values[i]);return e}return{...s}}function _R(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===pR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.value=e}static empty(){return new kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!qc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Al(i)}setAll(e){let i=Qt.emptyPath(),r={},l=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,r,l),r={},l=[],i=g.popLast()}d?r[g.lastSegment()]=Al(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(e){const i=this.field(e.popLast());qc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ri(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=i.mapValue.fields[e.get(r)];qc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,r){qr(i,((l,c)=>e[l]=c));for(const l of r)delete e[l]}clone(){return new kn(Al(this.value))}}function z1(s){const e=[];return qr(s.fields,((i,r)=>{const l=new Qt([i]);if(qc(r)){const c=z1(r.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new Zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,i,r,l,c,d,g){this.key=e,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Zt(e,0,Te.min(),Te.min(),Te.min(),kn.empty(),0)}static newFoundDocument(e,i,r,l){return new Zt(e,1,i,Te.min(),r,l,0)}static newNoDocument(e,i){return new Zt(e,2,i,Te.min(),Te.min(),kn.empty(),0)}static newUnknownDocument(e,i){return new Zt(e,3,i,Te.min(),Te.min(),kn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,i){this.position=e,this.inclusive=i}}function H_(s,e,i){let r=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?r=ye.comparator(ye.fromName(d.referenceValue),i.key):r=$a(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function q_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ri(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,i="asc"){this.field=e,this.dir=i}}function vR(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{}class Ot extends B1{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new bR(e,i,r):i==="array-contains"?new AR(e,r):i==="in"?new wR(e,r):i==="not-in"?new xR(e,r):i==="array-contains-any"?new RR(e,r):new Ot(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new TR(e,r):new SR(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison($a(i,this.value)):i!==null&&Zs(this.value)===Zs(i)&&this.matchesComparison($a(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ci extends B1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Ci(e,i)}matches(e){return H1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function H1(s){return s.op==="and"}function q1(s){return ER(s)&&H1(s)}function ER(s){for(const e of s.filters)if(e instanceof Ci)return!1;return!0}function cm(s){if(s instanceof Ot)return s.field.canonicalString()+s.op.toString()+Za(s.value);if(q1(s))return s.filters.map((e=>cm(e))).join(",");{const e=s.filters.map((i=>cm(i))).join(",");return`${s.op}(${e})`}}function F1(s,e){return s instanceof Ot?(function(r,l){return l instanceof Ot&&r.op===l.op&&r.field.isEqual(l.field)&&Ri(r.value,l.value)})(s,e):s instanceof Ci?(function(r,l){return l instanceof Ci&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,g)=>c&&F1(d,l.filters[g])),!0):!1})(s,e):void Ee(19439)}function G1(s){return s instanceof Ot?(function(i){return`${i.field.canonicalString()} ${i.op} ${Za(i.value)}`})(s):s instanceof Ci?(function(i){return i.op.toString()+" {"+i.getFilters().map(G1).join(" ,")+"}"})(s):"Filter"}class bR extends Ot{constructor(e,i,r){super(e,i,r),this.key=ye.fromName(r.referenceValue)}matches(e){const i=ye.comparator(e.key,this.key);return this.matchesComparison(i)}}class TR extends Ot{constructor(e,i){super(e,"in",i),this.keys=Q1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class SR extends Ot{constructor(e,i){super(e,"not-in",i),this.keys=Q1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Q1(s,e){var i;return(((i=e.arrayValue)==null?void 0:i.values)||[]).map((r=>ye.fromName(r.referenceValue)))}class AR extends Ot{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return qm(i)&&kl(i.arrayValue,this.value)}}class wR extends Ot{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&kl(this.value.arrayValue,i)}}class xR extends Ot{constructor(e,i){super(e,"not-in",i)}matches(e){if(kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!kl(this.value.arrayValue,i)}}class RR extends Ot{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!qm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>kl(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e,i=null,r=[],l=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function F_(s,e=null,i=[],r=[],l=null,c=null,d=null){return new CR(s,e,i,r,l,c,d)}function Fm(s){const e=Ae(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>cm(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),_h(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Za(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Za(r))).join(",")),e.Te=i}return e.Te}function Gm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!vR(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!F1(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!q_(s.startAt,e.startAt)&&q_(s.endAt,e.endAt)}function hm(s){return ye.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,i=null,r=[],l=[],c=null,d="F",g=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function NR(s,e,i,r,l,c,d,g){return new Eh(s,e,i,r,l,c,d,g)}function Qm(s){return new Eh(s)}function G_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function IR(s){return s.collectionGroup!==null}function wl(s){const e=Ae(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Mt(Qt.comparator);return d.filters.forEach((p=>{p.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new rh(c,r))})),i.has(Qt.keyField().canonicalString())||e.Ie.push(new rh(Qt.keyField(),r))}return e.Ie}function Si(s){const e=Ae(s);return e.Ee||(e.Ee=DR(e,wl(s))),e.Ee}function DR(s,e){if(s.limitType==="F")return F_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new rh(l.field,c)}));const i=s.endAt?new sh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new sh(s.startAt.position,s.startAt.inclusive):null;return F_(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function fm(s,e,i){return new Eh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function bh(s,e){return Gm(Si(s),Si(e))&&s.limitType===e.limitType}function K1(s){return`${Fm(Si(s))}|lt:${s.limitType}`}function La(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>G1(l))).join(", ")}]`),_h(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>Za(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>Za(l))).join(",")),`Target(${r})`})(Si(s))}; limitType=${s.limitType})`}function Th(s,e){return e.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ye.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,l){for(const c of wl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(d,g,p){const _=H_(d,g,p);return d.inclusive?_<=0:_<0})(r.startAt,wl(r),l)||r.endAt&&!(function(d,g,p){const _=H_(d,g,p);return d.inclusive?_>=0:_>0})(r.endAt,wl(r),l))})(s,e)}function OR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Y1(s){return(e,i)=>{let r=!1;for(const l of wl(s)){const c=MR(l,e,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function MR(s,e,i){const r=s.field.isKeyField()?ye.comparator(e.key,i.key):(function(c,d,g){const p=d.data.field(c),_=g.data.field(c);return p!==null&&_!==null?$a(p,_):Ee(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Ee(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){qr(this.inner,((i,r)=>{for(const[l,c]of r)e(l,c)}))}isEmpty(){return O1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR=new ut(ye.comparator);function ns(){return VR}const X1=new ut(ye.comparator);function vl(...s){let e=X1;for(const i of s)e=e.insert(i.key,i);return e}function $1(s){let e=X1;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function kr(){return xl()}function Z1(){return xl()}function xl(){return new Fr((s=>s.toString()),((s,e)=>s.isEqual(e)))}const kR=new ut(ye.comparator),jR=new Mt(ye.comparator);function je(...s){let e=jR;for(const i of s)e=e.add(i);return e}const PR=new Mt(ke);function LR(){return PR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:th(e)?"-0":e}}function J1(s){return{integerValue:""+s}}function UR(s,e){return hR(e)?J1(e):Km(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(){this._=void 0}}function zR(s,e,i){return s instanceof ah?(function(l,c){const d={fields:{[k1]:{stringValue:V1},[P1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Hm(c)&&(c=vh(c)),c&&(d.fields[j1]=c),{mapValue:d}})(i,e):s instanceof jl?eE(s,e):s instanceof Pl?tE(s,e):(function(l,c){const d=W1(l,c),g=Q_(d)+Q_(l.Ae);return um(d)&&um(l.Ae)?J1(g):Km(l.serializer,g)})(s,e)}function BR(s,e,i){return s instanceof jl?eE(s,e):s instanceof Pl?tE(s,e):i}function W1(s,e){return s instanceof oh?(function(r){return um(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class ah extends Sh{}class jl extends Sh{constructor(e){super(),this.elements=e}}function eE(s,e){const i=nE(e);for(const r of s.elements)i.some((l=>Ri(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Pl extends Sh{constructor(e){super(),this.elements=e}}function tE(s,e){let i=nE(e);for(const r of s.elements)i=i.filter((l=>!Ri(l,r)));return{arrayValue:{values:i}}}class oh extends Sh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Q_(s){return yt(s.integerValue||s.doubleValue)}function nE(s){return qm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function HR(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof jl&&l instanceof jl||r instanceof Pl&&l instanceof Pl?Xa(r.elements,l.elements,Ri):r instanceof oh&&l instanceof oh?Ri(r.Ae,l.Ae):r instanceof ah&&l instanceof ah})(s.transform,e.transform)}class qR{constructor(e,i){this.version=e,this.transformResults=i}}class Ji{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ji}static exists(e){return new Ji(void 0,e)}static updateTime(e){return new Ji(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Ah{}function iE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new rE(s.key,Ji.none()):new Kl(s.key,s.data,Ji.none());{const i=s.data,r=kn.empty();let l=new Mt(Qt.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new Gr(s.key,r,new Zn(l.toArray()),Ji.none())}}function FR(s,e,i){s instanceof Kl?(function(l,c,d){const g=l.value.clone(),p=Y_(l.fieldTransforms,c,d.transformResults);g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):s instanceof Gr?(function(l,c,d){if(!Fc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Y_(l.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(sE(l)),p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Rl(s,e,i,r){return s instanceof Kl?(function(c,d,g,p){if(!Fc(c.precondition,d))return g;const _=c.value.clone(),T=X_(c.fieldTransforms,p,d);return _.setAll(T),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,r):s instanceof Gr?(function(c,d,g,p){if(!Fc(c.precondition,d))return g;const _=X_(c.fieldTransforms,p,d),T=d.data;return T.setAll(sE(c)),T.setAll(_),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(s,e,i,r):(function(c,d,g){return Fc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,i)}function GR(s,e){let i=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),c=W1(r.transform,l||null);c!=null&&(i===null&&(i=kn.empty()),i.set(r.field,c))}return i||null}function K_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&Xa(r,l,((c,d)=>HR(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Kl extends Ah{constructor(e,i,r,l=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Gr extends Ah{constructor(e,i,r,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function sE(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function Y_(s,e,i){const r=new Map;Fe(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,g=e.data.field(c.field);r.set(c.field,BR(d,g,i[l]))}return r}function X_(s,e,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,zR(c,d,e))}return r}class rE extends Ah{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QR extends Ah{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e,i,r,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&FR(c,e,r[l])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Rl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Rl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=Z1();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const p=iE(d,g);p!==null&&r.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(Te.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),je())}isEqual(e){return this.batchId===e.batchId&&Xa(this.mutations,e.mutations,((i,r)=>K_(i,r)))&&Xa(this.baseMutations,e.baseMutations,((i,r)=>K_(i,r)))}}class Ym{constructor(e,i,r,l){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(e,i,r){Fe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return kR})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new Ym(e,i,r,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,Ue;function $R(s){switch(s){case ee.OK:return Ee(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ee(15467,{code:s})}}function aE(s){if(s===void 0)return ts("GRPC error has no .code"),ee.UNKNOWN;switch(s){case Rt.OK:return ee.OK;case Rt.CANCELLED:return ee.CANCELLED;case Rt.UNKNOWN:return ee.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return ee.INTERNAL;case Rt.UNAVAILABLE:return ee.UNAVAILABLE;case Rt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Rt.NOT_FOUND:return ee.NOT_FOUND;case Rt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Rt.ABORTED:return ee.ABORTED;case Rt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Rt.DATA_LOSS:return ee.DATA_LOSS;default:return Ee(39323,{code:s})}}(Ue=Rt||(Rt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=new Qs([4294967295,4294967295],0);function $_(s){const e=ZR().encode(s),i=new T1;return i.update(e),new Uint8Array(i.digest())}function Z_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Qs([i,r],0),new Qs([l,c],0)]}class Xm{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new El(`Invalid padding: ${i}`);if(r<0)throw new El(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new El(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new El(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Qs.fromNumber(this.ge)}ye(e,i,r){let l=e.add(i.multiply(Qs.fromNumber(r)));return l.compare(JR)===1&&(l=new Qs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=$_(e),[r,l]=Z_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(e,i,r){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Xm(c,l,i);return r.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=$_(e),[r,l]=Z_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class El extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,i,r,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const l=new Map;return l.set(e,Yl.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new wh(Te.min(),l,new ut(ke),ns(),je())}}class Yl{constructor(e,i,r,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new Yl(r,i,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,i,r,l){this.be=e,this.removedTargetIds=i,this.key=r,this.De=l}}class oE{constructor(e,i){this.targetId=e,this.Ce=i}}class lE{constructor(e,i,r=Kt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=l}}class J_{constructor(){this.ve=0,this.Fe=W_(),this.Me=Kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),i=je(),r=je();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:Ee(38017,{changeType:c})}})),new Yl(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=W_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class WR{constructor(e){this.Ge=e,this.ze=new Map,this.je=ns(),this.Je=Mc(),this.He=Mc(),this.Ye=new ut(ke)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,r=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(hm(c))if(r===0){const d=new ye(c.path);this.et(i,d,Zt.newNoDocument(d,Te.min()))}else Fe(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const g=this.ut(e),p=g?this.ct(g,e,d):1;if(p!==0){this.it(i);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=$s(r).toUint8Array()}catch(p){if(p instanceof M1)return Ya("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Xm(d,l,c)}catch(p){return Ya(p instanceof El?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.ge===0?null:g}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&hm(g.target)){const p=new ye(g.target.path);this.It(p).has(d)||this.Et(d,p)||this.et(d,p,Zt.newNoDocument(p,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=je();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((p=>{const _=this.ot(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new wh(e,i,this.Ye,this.je,r);return this.je=ns(),this.Je=Mc(),this.He=Mc(),this.Ye=new ut(ke),l}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new J_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Mt(ke),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Mt(ke),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ue("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new J_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Mc(){return new ut(ye.comparator)}function W_(){return new ut(ye.comparator)}const eC={asc:"ASCENDING",desc:"DESCENDING"},tC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nC={and:"AND",or:"OR"};class iC{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function dm(s,e){return s.useProto3Json||_h(e)?e:{value:e}}function lh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function sC(s,e){return lh(s,e.toTimestamp())}function Ai(s){return Fe(!!s,49232),Te.fromTimestamp((function(i){const r=Xs(i);return new st(r.seconds,r.nanos)})(s))}function $m(s,e){return mm(s,e).canonicalString()}function mm(s,e){const i=(function(l){return new lt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function cE(s){const e=lt.fromString(s);return Fe(gE(e),10190,{key:e.toString()}),e}function gm(s,e){return $m(s.databaseId,e.path)}function qd(s,e){const i=cE(e);if(i.get(1)!==s.databaseId.projectId)throw new ge(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ge(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ye(fE(i))}function hE(s,e){return $m(s.databaseId,e)}function rC(s){const e=cE(s);return e.length===4?lt.emptyPath():fE(e)}function pm(s){return new lt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function fE(s){return Fe(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function ev(s,e,i){return{name:gm(s,e),fields:i.value.mapValue.fields}}function aC(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ee(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(_,T){return _.useProto3Json?(Fe(T===void 0||typeof T=="string",58123),Kt.fromBase64String(T||"")):(Fe(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Kt.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(_){const T=_.code===void 0?ee.UNKNOWN:aE(_.code);return new ge(T,_.message||"")})(d);i=new lE(r,l,c,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=qd(s,r.document.name),c=Ai(r.document.updateTime),d=r.document.createTime?Ai(r.document.createTime):Te.min(),g=new kn({mapValue:{fields:r.document.fields}}),p=Zt.newFoundDocument(l,c,d,g),_=r.targetIds||[],T=r.removedTargetIds||[];i=new Gc(_,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=qd(s,r.document),c=r.readTime?Ai(r.readTime):Te.min(),d=Zt.newNoDocument(l,c),g=r.removedTargetIds||[];i=new Gc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=qd(s,r.document),c=r.removedTargetIds||[];i=new Gc([],c,l,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new XR(l,c),g=r.targetId;i=new oE(g,d)}}return i}function oC(s,e){let i;if(e instanceof Kl)i={update:ev(s,e.key,e.value)};else if(e instanceof rE)i={delete:gm(s,e.key)};else if(e instanceof Gr)i={update:ev(s,e.key,e.data),updateMask:pC(e.fieldMask)};else{if(!(e instanceof QR))return Ee(16599,{Vt:e.type});i={verify:gm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const g=d.transform;if(g instanceof ah)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof jl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Pl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof oh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Ee(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:sC(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ee(27497)})(s,e.precondition)),i}function lC(s,e){return s&&s.length>0?(Fe(e!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Ai(l.updateTime):Ai(c);return d.isEqual(Te.min())&&(d=Ai(c)),new qR(d,l.transformResults||[])})(i,e)))):[]}function uC(s,e){return{documents:[hE(s,e.path)]}}function cC(s,e){const i={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=hE(s,l);const c=(function(_){if(_.length!==0)return mE(Ci.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((T=>(function(I){return{field:Ua(I.field),direction:dC(I.dir)}})(T)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=dm(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:l}}function hC(s){let e=rC(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Fe(r===1,65062);const T=i.from[0];T.allDescendants?l=T.collectionId:e=e.child(T.collectionId)}let c=[];i.where&&(c=(function(w){const I=dE(w);return I instanceof Ci&&q1(I)?I.getFilters():[I]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((I=>(function(te){return new rh(za(te.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(te.direction))})(I)))})(i.orderBy));let g=null;i.limit&&(g=(function(w){let I;return I=typeof w=="object"?w.value:w,_h(I)?null:I})(i.limit));let p=null;i.startAt&&(p=(function(w){const I=!!w.before,z=w.values||[];return new sh(z,I)})(i.startAt));let _=null;return i.endAt&&(_=(function(w){const I=!w.before,z=w.values||[];return new sh(z,I)})(i.endAt)),NR(e,l,d,c,g,"F",p,_)}function fC(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function dE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=za(i.unaryFilter.field);return Ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=za(i.unaryFilter.field);return Ot.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=za(i.unaryFilter.field);return Ot.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=za(i.unaryFilter.field);return Ot.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Ot.create(za(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Ci.create(i.compositeFilter.filters.map((r=>dE(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(i.compositeFilter.op))})(s):Ee(30097,{filter:s})}function dC(s){return eC[s]}function mC(s){return tC[s]}function gC(s){return nC[s]}function Ua(s){return{fieldPath:s.canonicalString()}}function za(s){return Qt.fromServerFormat(s.fieldPath)}function mE(s){return s instanceof Ot?(function(i){if(i.op==="=="){if(B_(i.value))return{unaryFilter:{field:Ua(i.field),op:"IS_NAN"}};if(z_(i.value))return{unaryFilter:{field:Ua(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(B_(i.value))return{unaryFilter:{field:Ua(i.field),op:"IS_NOT_NAN"}};if(z_(i.value))return{unaryFilter:{field:Ua(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ua(i.field),op:mC(i.op),value:i.value}}})(s):s instanceof Ci?(function(i){const r=i.getFilters().map((l=>mE(l)));return r.length===1?r[0]:{compositeFilter:{op:gC(i.op),filters:r}}})(s):Ee(54877,{filter:s})}function pC(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function gE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,i,r,l,c=Te.min(),d=Te.min(),g=Kt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new Hs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e){this.yt=e}}function _C(s){const e=hC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?fm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(){this.Cn=new EC}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(Ys.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(Ys.min())}updateCollectionGroup(e,i,r){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class EC{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i]||new Mt(lt.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(e){return(this.index[e]||new Mt(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pE=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(pE,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ja(0)}static cr(){return new Ja(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv="LruGarbageCollector",bC=1048576;function iv([s,e],[i,r]){const l=ke(s,i);return l===0?ke(e,r):l}class TC{constructor(e){this.Ir=e,this.buffer=new Mt(iv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();iv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class SC{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(nv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ro(i)?ue(nv,"Ignoring IndexedDB error during garbage collection: ",i):await so(i)}await this.Vr(3e5)}))}}class AC{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(yh.ce);const r=new TC(i);return this.mr.forEachTarget(e,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(tv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,l,c,d,g,p,_;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(e,l)))).next((w=>(r=w,g=Date.now(),this.removeTargets(e,r,i)))).next((w=>(c=w,p=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(_=Date.now(),Pa()<=Ve.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${w} documents in `+(_-p)+`ms
Total Duration: ${_-T}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:w}))))}}function wC(s,e){return new AC(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(){this.changes=new Fr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Z.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e,i,r,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(r!==null&&Rl(r.mutation,l,Zn.empty(),st.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,je()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=je()){const l=kr();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,r).next((c=>{let d=vl();return c.forEach(((g,p)=>{d=d.insert(g,p.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=kr();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,je())))}populateOverlays(e,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,r,l){let c=ns();const d=xl(),g=(function(){return xl()})();return i.forEach(((p,_)=>{const T=r.get(_.key);l.has(_.key)&&(T===void 0||T.mutation instanceof Gr)?c=c.insert(_.key,_):T!==void 0?(d.set(_.key,T.mutation.getFieldMask()),Rl(T.mutation,_,T.mutation.getFieldMask(),st.now())):d.set(_.key,Zn.empty())})),this.recalculateAndSaveOverlays(e,c).next((p=>(p.forEach(((_,T)=>d.set(_,T))),i.forEach(((_,T)=>g.set(_,new RC(T,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(e,i){const r=xl();let l=new ut(((d,g)=>d-g)),c=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((p=>{const _=i.get(p);if(_===null)return;let T=r.get(p)||Zn.empty();T=g.applyToLocalView(_,T),r.set(p,T);const w=(l.get(g.batchId)||je()).add(p);l=l.insert(g.batchId,w)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),_=p.key,T=p.value,w=Z1();T.forEach((I=>{if(!c.has(I)){const z=iE(i.get(I),r.get(I));z!==null&&w.set(I,z),c=c.add(I)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,w))}return Z.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,l){return(function(d){return ye.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):IR(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,l):this.getDocumentsMatchingCollectionQuery(e,i,r,l)}getNextDocuments(e,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,l-c.size):Z.resolve(kr());let g=Ol,p=c;return d.next((_=>Z.forEach(_,((T,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),c.get(T)?Z.resolve():this.remoteDocumentCache.getEntry(e,T).next((I=>{p=p.insert(T,I)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,p,_,je()))).next((T=>({batchId:g,changes:$1(T)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ye(i)).next((r=>{let l=vl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,l){const c=i.collectionGroup;let d=vl();return this.indexManager.getCollectionParents(e,c).next((g=>Z.forEach(g,(p=>{const _=(function(w,I){return new Eh(I,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,r,l).next((T=>{T.forEach(((w,I)=>{d=d.insert(w,I)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,c,l)))).next((d=>{c.forEach(((p,_)=>{const T=_.getKey();d.get(T)===null&&(d=d.insert(T,Zt.newInvalidDocument(T)))}));let g=vl();return d.forEach(((p,_)=>{const T=c.get(p);T!==void 0&&Rl(T.mutation,_,Zn.empty(),st.now()),Th(i,_)&&(g=g.insert(p,_))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ai(l.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:_C(l.bundledQuery),readTime:Ai(l.readTime)}})(i)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(){this.overlays=new ut(ye.comparator),this.qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const r=kr();return Z.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((l,c)=>{this.St(e,i,c)})),Z.resolve()}removeOverlaysForBatchId(e,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),Z.resolve()}getOverlaysForCollection(e,i,r){const l=kr(),c=i.length+1,d=new ye(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,_=p.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&p.largestBatchId>r&&l.set(p.getKey(),p)}return Z.resolve(l)}getOverlaysForCollectionGroup(e,i,r,l){let c=new ut(((_,T)=>_-T));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let T=c.get(_.largestBatchId);T===null&&(T=kr(),c=c.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const g=kr(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((_,T)=>g.set(_,T))),!(g.size()>=l)););return Z.resolve(g)}St(e,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new YR(i,r));let c=this.qr.get(i);c===void 0&&(c=je(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(){this.Qr=new Mt(Pt.$r),this.Ur=new Mt(Pt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Pt(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new Pt(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new ye(new lt([])),r=new Pt(i,e),l=new Pt(i,e+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ye(new lt([])),r=new Pt(i,e),l=new Pt(i,e+1);let c=je();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Pt(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Pt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ye.comparator(e.key,i.key)||ke(e.Yr,i.Yr)}static Kr(e,i){return ke(e.Yr,i.Yr)||ye.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Mt(Pt.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new KR(c,i,r,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Pt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,l=this.ei(r),c=l<0?0:l;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Bm:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Pt(i,0),l=new Pt(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Mt(ke);return i.forEach((l=>{const c=new Pt(l,0),d=new Pt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{r=r.add(g.Yr)}))})),Z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,l=r.length+1;let c=r;ye.isDocumentKey(c)||(c=c.child(""));const d=new Pt(new ye(c),0);let g=new Mt(ke);return this.Zr.forEachWhile((p=>{const _=p.key.path;return!!r.isPrefixOf(_)&&(_.length===l&&(g=g.add(p.Yr)),!0)}),d),Z.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){Fe(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Z.forEach(i.mutations,(l=>{const c=new Pt(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new Pt(i,0),l=this.Zr.firstAfterOrEqual(r);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e){this.ri=e,this.docs=(function(){return new ut(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return Z.resolve(r?r.document.mutableCopy():Zt.newInvalidDocument(i))}getEntries(e,i){let r=ns();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():Zt.newInvalidDocument(l))})),Z.resolve(r)}getDocumentsMatchingQuery(e,i,r,l){let c=ns();const d=i.path,g=new ye(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:_,value:{document:T}}=p.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||oR(aR(T),r)<=0||(l.has(T.key)||Th(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(e,i,r,l){Ee(9500)}ii(e,i){return Z.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new VC(this)}getSize(e){return Z.resolve(this.size)}}class VC extends xC{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(r)})),Z.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e){this.persistence=e,this.si=new Fr((i=>Fm(i)),Gm),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.oi=0,this._i=new Zm,this.targetCount=0,this.ai=Ja.ur()}forEachTarget(e,i){return this.si.forEach(((r,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),Z.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Ja(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Pr(i),Z.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,r){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),Z.waitFor(c).next((()=>l))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return Z.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),Z.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return Z.resolve(r)}containsKey(e,i){return Z.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e,i){this.ui={},this.overlays={},this.ci=new yh(0),this.li=!1,this.li=!0,this.hi=new DC,this.referenceDelegate=e(this),this.Pi=new kC(this),this.indexManager=new vC,this.remoteDocumentCache=(function(l){return new MC(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new yC(i),this.Ii=new NC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new IC,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new OC(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){ue("MemoryPersistence","Starting transaction:",e);const l=new jC(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return Z.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class jC extends uR{constructor(e){super(),this.currentSequenceNumber=e}}class Jm{constructor(e){this.persistence=e,this.Ri=new Zm,this.Vi=null}static mi(e){return new Jm(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),Z.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(r=>{const l=ye.fromPath(r);return this.gi(e,l).next((c=>{c||i.removeEntry(l,Te.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class uh{constructor(e,i){this.persistence=e,this.pi=new Fr((r=>fR(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=wC(this,i)}static mi(e,i){return new uh(e,i)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((l=>r+l))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return Z.forEach(this.pi,((r,l)=>this.br(e,r,l).next((c=>c?Z.resolve():i(l)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((g=>{g||(r++,c.removeEntry(d,Te.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Hc(e.data.value)),i}br(e,i,r){return Z.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return Z.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,i,r,l){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=l}static As(e,i){let r=je(),l=je();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Wm(e,i.fromCache,r,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return h2()?8:cR(Jt())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,l){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new PC;return this.Ss(e,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>c.result))}bs(e,i,r,l){return r.documentReadCount<this.fs?(Pa()<=Ve.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",La(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Pa()<=Ve.DEBUG&&ue("QueryEngine","Query:",La(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(Pa()<=Ve.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",La(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Si(i))):Z.resolve())}ys(e,i){if(G_(i))return Z.resolve(null);let r=Si(i);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=fm(i,null,"F"),r=Si(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=je(...c);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,r).next((p=>{const _=this.Ds(i,g);return this.Cs(i,_,d,p.readTime)?this.ys(e,fm(i,null,"F")):this.vs(e,_,i,p)}))))})))))}ws(e,i,r,l){return G_(i)||l.isEqual(Te.min())?Z.resolve(null):this.ps.getDocuments(e,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,l)?Z.resolve(null):(Pa()<=Ve.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),La(i)),this.vs(e,d,i,rR(l,Ol)).next((g=>g)))}))}Ds(e,i){let r=new Mt(Y1(e));return i.forEach(((l,c)=>{Th(e,c)&&(r=r.add(c))})),r}Cs(e,i,r,l){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,r){return Pa()<=Ve.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",La(i)),this.ps.getDocumentsMatchingQuery(e,i,Ys.min(),r)}vs(e,i,r,l){return this.ps.getDocumentsMatchingQuery(e,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg="LocalStore",UC=3e8;class zC{constructor(e,i,r,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new ut(ke),this.xs=new Fr((c=>Fm(c)),Gm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function BC(s,e,i,r){return new zC(s,e,i,r)}async function _E(s,e){const i=Ae(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],g=[];let p=je();for(const _ of l){d.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}for(const _ of c){g.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}return i.localDocuments.getDocuments(r,p).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function HC(s,e){const i=Ae(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,p,_,T){const w=_.batch,I=w.keys();let z=Z.resolve();return I.forEach((te=>{z=z.next((()=>T.getEntry(p,te))).next((ne=>{const $=_.docVersions.get(te);Fe($!==null,48541),ne.version.compareTo($)<0&&(w.applyToRemoteDocument(ne,_),ne.isValidDocument()&&(ne.setReadTime(_.commitVersion),T.addEntry(ne)))}))})),z.next((()=>g.mutationQueue.removeMutationBatch(p,w)))})(i,r,e,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let p=je();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(p=p.add(g.batch.mutations[_].key));return p})(e)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function vE(s){const e=Ae(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function qC(s,e){const i=Ae(s),r=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];e.targetChanges.forEach(((T,w)=>{const I=l.get(w);if(!I)return;g.push(i.Pi.removeMatchingKeys(c,T.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(c,T.addedDocuments,w))));let z=I.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?z=z.withResumeToken(Kt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):T.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(T.resumeToken,r)),l=l.insert(w,z),(function(ne,$,le){return ne.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-ne.snapshotVersion.toMicroseconds()>=UC?!0:le.addedDocuments.size+le.modifiedDocuments.size+le.removedDocuments.size>0})(I,z,T)&&g.push(i.Pi.updateTargetData(c,z))}));let p=ns(),_=je();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),g.push(FC(c,d,e.documentUpdates).next((T=>{p=T.ks,_=T.qs}))),!r.isEqual(Te.min())){const T=i.Pi.getLastRemoteSnapshotVersion(c).next((w=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));g.push(T)}return Z.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,p,_))).next((()=>p))})).then((c=>(i.Ms=l,c)))}function FC(s,e,i){let r=je(),l=je();return i.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let d=ns();return i.forEach(((g,p)=>{const _=c.get(g);p.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(Te.min())?(e.removeEntry(g,p.readTime),d=d.insert(g,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(p),d=d.insert(g,p)):ue(eg,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",p.version)})),{ks:d,qs:l}}))}function GC(s,e){const i=Ae(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Bm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function QC(s,e){const i=Ae(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,e).next((c=>c?(l=c,Z.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new Hs(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function ym(s,e,i){const r=Ae(s),l=r.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!ro(d))throw d;ue(eg,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(l.target)}function sv(s,e,i){const r=Ae(s);let l=Te.min(),c=je();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(p,_,T){const w=Ae(p),I=w.xs.get(T);return I!==void 0?Z.resolve(w.Ms.get(I)):w.Pi.getTargetData(_,T)})(r,d,Si(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,g.targetId).next((p=>{c=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?l:Te.min(),i?c:je()))).next((g=>(KC(r,OR(e),g),{documents:g,Qs:c})))))}function KC(s,e,i){let r=s.Os.get(e)||Te.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(e,r)}class rv{constructor(){this.activeTargetIds=LR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YC{constructor(){this.Mo=new rv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new rv,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="ConnectivityMonitor";class ov{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(av,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(av,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vc=null;function _m(){return Vc===null?Vc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vc++,"0x"+Vc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd="RestConnection",$C={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ZC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===nh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(e,i,r,l,c){const d=_m(),g=this.zo(e,i.toUriEncodedString());ue(Fd,`Sending RPC '${e}' ${d}:`,g,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,l,c);const{host:_}=new URL(g),T=eo(_);return this.Jo(e,g,p,r,T).then((w=>(ue(Fd,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw Ya(Fd,`RPC '${e}' ${d} failed with error: `,w,"url: ",g,"request:",r),w}))}Ho(e,i,r,l,c,d){return this.Go(e,i,r,l,c)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+io})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),r&&r.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const r=$C[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class WC extends ZC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,l,c){const d=_m();return new Promise(((g,p)=>{const _=new S1;_.setWithCredentials(!0),_.listenOnce(A1.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Bc.NO_ERROR:const w=_.getResponseJson();ue(Xt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),g(w);break;case Bc.TIMEOUT:ue(Xt,`RPC '${e}' ${d} timed out`),p(new ge(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Bc.HTTP_ERROR:const I=_.getStatus();if(ue(Xt,`RPC '${e}' ${d} failed with status:`,I,"response text:",_.getResponseText()),I>0){let z=_.getResponseJson();Array.isArray(z)&&(z=z[0]);const te=z==null?void 0:z.error;if(te&&te.status&&te.message){const ne=(function(le){const ae=le.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(ae)>=0?ae:ee.UNKNOWN})(te.status);p(new ge(ne,te.message))}else p(new ge(ee.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new ge(ee.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ue(Xt,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(l);ue(Xt,`RPC '${e}' ${d} sending request:`,l),_.send(i,"POST",T,r,15)}))}T_(e,i,r){const l=_m(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=R1(),g=x1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,i,r),p.encodeInitMessageHeaders=!0;const T=c.join("");ue(Xt,`Creating RPC '${e}' stream ${l}: ${T}`,p);const w=d.createWebChannel(T,p);this.I_(w);let I=!1,z=!1;const te=new JC({Yo:$=>{z?ue(Xt,`Not sending because RPC '${e}' stream ${l} is closed:`,$):(I||(ue(Xt,`Opening RPC '${e}' stream ${l} transport.`),w.open(),I=!0),ue(Xt,`RPC '${e}' stream ${l} sending:`,$),w.send($))},Zo:()=>w.close()}),ne=($,le,ae)=>{$.listen(le,(se=>{try{ae(se)}catch(H){setTimeout((()=>{throw H}),0)}}))};return ne(w,_l.EventType.OPEN,(()=>{z||(ue(Xt,`RPC '${e}' stream ${l} transport opened.`),te.o_())})),ne(w,_l.EventType.CLOSE,(()=>{z||(z=!0,ue(Xt,`RPC '${e}' stream ${l} transport closed`),te.a_(),this.E_(w))})),ne(w,_l.EventType.ERROR,($=>{z||(z=!0,Ya(Xt,`RPC '${e}' stream ${l} transport errored. Name:`,$.name,"Message:",$.message),te.a_(new ge(ee.UNAVAILABLE,"The operation could not be completed")))})),ne(w,_l.EventType.MESSAGE,($=>{var le;if(!z){const ae=$.data[0];Fe(!!ae,16349);const se=ae,H=(se==null?void 0:se.error)||((le=se[0])==null?void 0:le.error);if(H){ue(Xt,`RPC '${e}' stream ${l} received error:`,H);const W=H.status;let J=(function(R){const M=Rt[R];if(M!==void 0)return aE(M)})(W),x=H.message;J===void 0&&(J=ee.INTERNAL,x="Unknown error status: "+W+" with message "+H.message),z=!0,te.a_(new ge(J,x)),w.close()}else ue(Xt,`RPC '${e}' stream ${l} received:`,ae),te.u_(ae)}})),ne(g,w1.STAT_EVENT,($=>{$.stat===am.PROXY?ue(Xt,`RPC '${e}' stream ${l} detected buffering proxy`):$.stat===am.NOPROXY&&ue(Xt,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{te.__()}),0),te}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Gd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(s){return new iC(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e,i,r=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&ue("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="PersistentStream";class bE{constructor(e,i,r,l,c,d,g,p){this.Mi=e,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new EE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===ee.RESOURCE_EXHAUSTED?(ts(i.toString()),ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{e((()=>{const l=new ge(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(lv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ue(lv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class eN extends bE{constructor(e,i,r,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=aC(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Te.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Te.min():d.readTime?Ai(d.readTime):Te.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=pm(this.serializer),i.addTarget=(function(c,d){let g;const p=d.target;if(g=hm(p)?{documents:uC(c,p)}:{query:cC(c,p).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=uE(c,d.resumeToken);const _=dm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(Te.min())>0){g.readTime=lh(c,d.snapshotVersion.toTimestamp());const _=dm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,e);const r=fC(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=pm(this.serializer),i.removeTarget=e,this.q_(i)}}class tN extends bE{constructor(e,i,r,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=lC(e.writeResults,e.commitTime),r=Ai(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=pm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>oC(this.serializer,r)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{}class iN extends nN{constructor(e,i,r,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ge(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,mm(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ge(ee.UNKNOWN,c.toString())}))}Ho(e,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,mm(i,r),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ge(ee.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class sN{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ts(i),this.aa=!1):ue("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr="RemoteStore";class rN{constructor(e,i,r,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Qr(this)&&(ue(Hr,"Restarting streams for network reachability change."),await(async function(p){const _=Ae(p);_.Ea.add(4),await Xl(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Rh(_)})(this))}))})),this.Ra=new sN(r,l)}}async function Rh(s){if(Qr(s))for(const e of s.da)await e(!0)}async function Xl(s){for(const e of s.da)await e(!1)}function TE(s,e){const i=Ae(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),sg(i)?ig(i):ao(i).O_()&&ng(i,e))}function tg(s,e){const i=Ae(s),r=ao(i);i.Ia.delete(e),r.O_()&&SE(i,e),i.Ia.size===0&&(r.O_()?r.L_():Qr(i)&&i.Ra.set("Unknown"))}function ng(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}ao(s).Y_(e)}function SE(s,e){s.Va.Ue(e),ao(s).Z_(e)}function ig(s){s.Va=new WR({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),ao(s).start(),s.Ra.ua()}function sg(s){return Qr(s)&&!ao(s).x_()&&s.Ia.size>0}function Qr(s){return Ae(s).Ea.size===0}function AE(s){s.Va=void 0}async function aN(s){s.Ra.set("Online")}async function oN(s){s.Ia.forEach(((e,i)=>{ng(s,e)}))}async function lN(s,e){AE(s),sg(s)?(s.Ra.ha(e),ig(s)):s.Ra.set("Unknown")}async function uN(s,e,i){if(s.Ra.set("Online"),e instanceof lE&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(s,e)}catch(r){ue(Hr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ch(s,r)}else if(e instanceof Gc?s.Va.Ze(e):e instanceof oE?s.Va.st(e):s.Va.tt(e),!i.isEqual(Te.min()))try{const r=await vE(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const T=c.Ia.get(_);T&&c.Ia.set(_,T.withResumeToken(p.resumeToken,d))}})),g.targetMismatches.forEach(((p,_)=>{const T=c.Ia.get(p);if(!T)return;c.Ia.set(p,T.withResumeToken(Kt.EMPTY_BYTE_STRING,T.snapshotVersion)),SE(c,p);const w=new Hs(T.target,p,_,T.sequenceNumber);ng(c,w)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(r){ue(Hr,"Failed to raise snapshot:",r),await ch(s,r)}}async function ch(s,e,i){if(!ro(e))throw e;s.Ea.add(1),await Xl(s),s.Ra.set("Offline"),i||(i=()=>vE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ue(Hr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Rh(s)}))}function wE(s,e){return e().catch((i=>ch(s,i,e)))}async function Ch(s){const e=Ae(s),i=Js(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Bm;for(;cN(e);)try{const l=await GC(e.localStore,r);if(l===null){e.Ta.length===0&&i.L_();break}r=l.batchId,hN(e,l)}catch(l){await ch(e,l)}xE(e)&&RE(e)}function cN(s){return Qr(s)&&s.Ta.length<10}function hN(s,e){s.Ta.push(e);const i=Js(s);i.O_()&&i.X_&&i.ea(e.mutations)}function xE(s){return Qr(s)&&!Js(s).x_()&&s.Ta.length>0}function RE(s){Js(s).start()}async function fN(s){Js(s).ra()}async function dN(s){const e=Js(s);for(const i of s.Ta)e.ea(i.mutations)}async function mN(s,e,i){const r=s.Ta.shift(),l=Ym.from(r,e,i);await wE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Ch(s)}async function gN(s,e){e&&Js(s).X_&&await(async function(r,l){if((function(d){return $R(d)&&d!==ee.ABORTED})(l.code)){const c=r.Ta.shift();Js(r).B_(),await wE(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Ch(r)}})(s,e),xE(s)&&RE(s)}async function uv(s,e){const i=Ae(s);i.asyncQueue.verifyOperationInProgress(),ue(Hr,"RemoteStore received new credentials");const r=Qr(i);i.Ea.add(3),await Xl(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Rh(i)}async function pN(s,e){const i=Ae(s);e?(i.Ea.delete(2),await Rh(i)):e||(i.Ea.add(2),await Xl(i),i.Ra.set("Unknown"))}function ao(s){return s.ma||(s.ma=(function(i,r,l){const c=Ae(i);return c.sa(),new eN(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:aN.bind(null,s),t_:oN.bind(null,s),r_:lN.bind(null,s),H_:uN.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),sg(s)?ig(s):s.Ra.set("Unknown")):(await s.ma.stop(),AE(s))}))),s.ma}function Js(s){return s.fa||(s.fa=(function(i,r,l){const c=Ae(i);return c.sa(),new tN(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:fN.bind(null,s),r_:gN.bind(null,s),ta:dN.bind(null,s),na:mN.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Ch(s)):(await s.fa.stop(),s.Ta.length>0&&(ue(Hr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,i,r,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new Ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,l,c){const d=Date.now()+r,g=new rg(e,i,d,l,c);return g.start(r),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ag(s,e){if(ts("AsyncQueue",`${e}: ${s}`),ro(s))return new ge(ee.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{static emptySet(e){return new Ga(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||ye.comparator(i.key,r.key):(i,r)=>ye.comparator(i.key,r.key),this.keyedMap=vl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ga)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Ga;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(){this.ga=new ut(ye.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class Wa{constructor(e,i,r,l,c,d,g,p,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Wa(e,i,Ga.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class _N{constructor(){this.queries=hv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Ae(i),c=l.queries;l.queries=hv(),c.forEach(((d,g)=>{for(const p of g.Sa)p.onError(r)}))})(this,new ge(ee.ABORTED,"Firestore shutting down"))}}function hv(){return new Fr((s=>K1(s)),bh)}async function vN(s,e){const i=Ae(s);let r=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(r=2):(c=new yN,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=ag(d,`Initialization of query '${La(e.query)}' failed`);return void e.onError(g)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&og(i)}async function EN(s,e){const i=Ae(s),r=e.query;let l=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function bN(s,e){const i=Ae(s);let r=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(r=!0);d.wa=l}}r&&og(i)}function TN(s,e,i){const r=Ae(s),l=r.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);r.queries.delete(e)}function og(s){s.Ca.forEach((e=>{e.next()}))}var vm,fv;(fv=vm||(vm={})).Ma="default",fv.Cache="cache";class SN{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new Wa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Wa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==vm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e){this.key=e}}class NE{constructor(e){this.key=e}}class AN{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=je(),this.mutatedKeys=je(),this.eu=Y1(e),this.tu=new Ga(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new cv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((T,w)=>{const I=l.get(T),z=Th(this.query,w)?w:null,te=!!I&&this.mutatedKeys.has(I.key),ne=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let $=!1;I&&z?I.data.isEqual(z.data)?te!==ne&&(r.track({type:3,doc:z}),$=!0):this.su(I,z)||(r.track({type:2,doc:z}),$=!0,(p&&this.eu(z,p)>0||_&&this.eu(z,_)<0)&&(g=!0)):!I&&z?(r.track({type:0,doc:z}),$=!0):I&&!z&&(r.track({type:1,doc:I}),$=!0,(p||_)&&(g=!0)),$&&(z?(d=d.add(z),c=ne?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Cs:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,w)=>(function(z,te){const ne=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:$})}};return ne(z)-ne(te)})(T.type,w.type)||this.eu(T.doc,w.doc))),this.ou(r),l=l??!1;const g=i&&!l?this._u():[],p=this.Xa.size===0&&this.current&&!l?1:0,_=p!==this.Za;return this.Za=p,d.length!==0||_?{snapshot:new Wa(this.query,e.tu,c,d,e.mutatedKeys,p===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new cv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=je(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new NE(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new CE(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=je();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Wa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const lg="SyncEngine";class wN{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class xN{constructor(e){this.key=e,this.hu=!1}}class RN{constructor(e,i,r,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Fr((g=>K1(g)),bh),this.Iu=new Map,this.Eu=new Set,this.du=new ut(ye.comparator),this.Au=new Map,this.Ru=new Zm,this.Vu={},this.mu=new Map,this.fu=Ja.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function CN(s,e,i=!0){const r=kE(s);let l;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await IE(r,e,i,!0),l}async function NN(s,e){const i=kE(s);await IE(i,e,!0,!1)}async function IE(s,e,i,r){const l=await QC(s.localStore,Si(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return r&&(g=await IN(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&TE(s.remoteStore,l),g}async function IN(s,e,i,r,l){s.pu=(w,I,z)=>(async function(ne,$,le,ae){let se=$.view.ru(le);se.Cs&&(se=await sv(ne.localStore,$.query,!1).then((({documents:x})=>$.view.ru(x,se))));const H=ae&&ae.targetChanges.get($.targetId),W=ae&&ae.targetMismatches.get($.targetId)!=null,J=$.view.applyChanges(se,ne.isPrimaryClient,H,W);return mv(ne,$.targetId,J.au),J.snapshot})(s,w,I,z);const c=await sv(s.localStore,e,!0),d=new AN(e,c.Qs),g=d.ru(c.documents),p=Yl.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),_=d.applyChanges(g,s.isPrimaryClient,p);mv(s,i,_.au);const T=new wN(e,i,d);return s.Tu.set(e,T),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function DN(s,e,i){const r=Ae(s),l=r.Tu.get(e),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!bh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await ym(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&tg(r.remoteStore,l.targetId),Em(r,l.targetId)})).catch(so)):(Em(r,l.targetId),await ym(r.localStore,l.targetId,!0))}async function ON(s,e){const i=Ae(s),r=i.Tu.get(e),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),tg(i.remoteStore,r.targetId))}async function MN(s,e,i){const r=zN(s);try{const l=await(function(d,g){const p=Ae(d),_=st.now(),T=g.reduce(((z,te)=>z.add(te.key)),je());let w,I;return p.persistence.runTransaction("Locally write mutations","readwrite",(z=>{let te=ns(),ne=je();return p.Ns.getEntries(z,T).next(($=>{te=$,te.forEach(((le,ae)=>{ae.isValidDocument()||(ne=ne.add(le))}))})).next((()=>p.localDocuments.getOverlayedDocuments(z,te))).next(($=>{w=$;const le=[];for(const ae of g){const se=GR(ae,w.get(ae.key).overlayedDocument);se!=null&&le.push(new Gr(ae.key,se,z1(se.value.mapValue),Ji.exists(!0)))}return p.mutationQueue.addMutationBatch(z,_,le,g)})).next(($=>{I=$;const le=$.applyToLocalDocumentSet(w,ne);return p.documentOverlayCache.saveOverlays(z,$.batchId,le)}))})).then((()=>({batchId:I.batchId,changes:$1(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,g,p){let _=d.Vu[d.currentUser.toKey()];_||(_=new ut(ke)),_=_.insert(g,p),d.Vu[d.currentUser.toKey()]=_})(r,l.batchId,i),await $l(r,l.changes),await Ch(r.remoteStore)}catch(l){const c=ag(l,"Failed to persist write");i.reject(c)}}async function DE(s,e){const i=Ae(s);try{const r=await qC(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Fe(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Fe(d.hu,14607):l.removedDocuments.size>0&&(Fe(d.hu,42227),d.hu=!1))})),await $l(i,r,e)}catch(r){await so(r)}}function dv(s,e,i){const r=Ae(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const p=Ae(d);p.onlineState=g;let _=!1;p.queries.forEach(((T,w)=>{for(const I of w.Sa)I.va(g)&&(_=!0)})),_&&og(p)})(r.eventManager,e),l.length&&r.Pu.H_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function VN(s,e,i){const r=Ae(s);r.sharedClientState.updateQueryState(e,"rejected",i);const l=r.Au.get(e),c=l&&l.key;if(c){let d=new ut(ye.comparator);d=d.insert(c,Zt.newNoDocument(c,Te.min()));const g=je().add(c),p=new wh(Te.min(),new Map,new ut(ke),d,g);await DE(r,p),r.du=r.du.remove(c),r.Au.delete(e),ug(r)}else await ym(r.localStore,e,!1).then((()=>Em(r,e,i))).catch(so)}async function kN(s,e){const i=Ae(s),r=e.batch.batchId;try{const l=await HC(i.localStore,e);ME(i,r,null),OE(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await $l(i,l)}catch(l){await so(l)}}async function jN(s,e,i){const r=Ae(s);try{const l=await(function(d,g){const p=Ae(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let T;return p.mutationQueue.lookupMutationBatch(_,g).next((w=>(Fe(w!==null,37113),T=w.keys(),p.mutationQueue.removeMutationBatch(_,w)))).next((()=>p.mutationQueue.performConsistencyCheck(_))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(_,T,g))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T))).next((()=>p.localDocuments.getDocuments(_,T)))}))})(r.localStore,e);ME(r,e,i),OE(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await $l(r,l)}catch(l){await so(l)}}function OE(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function ME(s,e,i){const r=Ae(s);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),r.Vu[r.currentUser.toKey()]=l}}function Em(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||VE(s,r)}))}function VE(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(tg(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),ug(s))}function mv(s,e,i){for(const r of i)r instanceof CE?(s.Ru.addReference(r.key,e),PN(s,r)):r instanceof NE?(ue(lg,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||VE(s,r.key)):Ee(19791,{wu:r})}function PN(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(ue(lg,"New document in limbo: "+i),s.Eu.add(r),ug(s))}function ug(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ye(lt.fromString(e)),r=s.fu.next();s.Au.set(r,new xN(i)),s.du=s.du.insert(i,r),TE(s.remoteStore,new Hs(Si(Qm(i.path)),r,"TargetPurposeLimboResolution",yh.ce))}}async function $l(s,e,i){const r=Ae(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,p)=>{d.push(r.pu(p,e,i).then((_=>{var T;if((_||i)&&r.isPrimaryClient){const w=_?!_.fromCache:(T=i==null?void 0:i.targetChanges.get(p.targetId))==null?void 0:T.current;r.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(_){l.push(_);const w=Wm.As(p.targetId,_);c.push(w)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(p,_){const T=Ae(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>Z.forEach(_,(I=>Z.forEach(I.Es,(z=>T.persistence.referenceDelegate.addReference(w,I.targetId,z))).next((()=>Z.forEach(I.ds,(z=>T.persistence.referenceDelegate.removeReference(w,I.targetId,z)))))))))}catch(w){if(!ro(w))throw w;ue(eg,"Failed to update sequence numbers: "+w)}for(const w of _){const I=w.targetId;if(!w.fromCache){const z=T.Ms.get(I),te=z.snapshotVersion,ne=z.withLastLimboFreeSnapshotVersion(te);T.Ms=T.Ms.insert(I,ne)}}})(r.localStore,c))}async function LN(s,e){const i=Ae(s);if(!i.currentUser.isEqual(e)){ue(lg,"User change. New user:",e.toKey());const r=await _E(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((p=>{p.reject(new ge(ee.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await $l(i,r.Ls)}}function UN(s,e){const i=Ae(s),r=i.Au.get(e);if(r&&r.hu)return je().add(r.key);{let l=je();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function kE(s){const e=Ae(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=DE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VN.bind(null,e),e.Pu.H_=bN.bind(null,e.eventManager),e.Pu.yu=TN.bind(null,e.eventManager),e}function zN(s){const e=Ae(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jN.bind(null,e),e}class hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return BC(this.persistence,new LC,e.initialUser,this.serializer)}Cu(e){return new yE(Jm.mi,this.serializer)}Du(e){return new YC}async terminate(){var e,i;(e=this.gcScheduler)==null||e.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hh.provider={build:()=>new hh};class BN extends hh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Fe(this.persistence.referenceDelegate instanceof uh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new SC(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new yE((r=>uh.mi(r,i)),this.serializer)}}class bm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>dv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=LN.bind(null,this.syncEngine),await pN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new _N})()}createDatastore(e){const i=xh(e.databaseInfo.databaseId),r=(function(c){return new WC(c)})(e.databaseInfo);return(function(c,d,g,p){return new iN(c,d,g,p)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,l,c,d,g){return new rN(r,l,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>dv(this.syncEngine,i,0)),(function(){return ov.v()?new ov:new XC})())}createSyncEngine(e,i){return(function(l,c,d,g,p,_,T){const w=new RN(l,c,d,g,p,_);return T&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(l){const c=Ae(l);ue(Hr,"RemoteStore shutting down."),c.Ea.add(5),await Xl(c),c.Aa.shutdown(),c.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(i=this.eventManager)==null||i.terminate()}}bm.provider={build:()=>new bm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ts("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="FirestoreClient";class qN{constructor(e,i,r,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=$t.UNAUTHENTICATED,this.clientId=Um.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{ue(Ws,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ue(Ws,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=ag(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Qd(s,e){s.asyncQueue.verifyOperationInProgress(),ue(Ws,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await _E(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function gv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await FN(s);ue(Ws,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>uv(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>uv(e.remoteStore,l))),s._onlineComponents=e}async function FN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ue(Ws,"Using user provided OfflineComponentProvider");try{await Qd(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===ee.FAILED_PRECONDITION||l.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Ya("Error using user provided cache. Falling back to memory cache: "+i),await Qd(s,new hh)}}else ue(Ws,"Using default OfflineComponentProvider"),await Qd(s,new BN(void 0));return s._offlineComponents}async function jE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ue(Ws,"Using user provided OnlineComponentProvider"),await gv(s,s._uninitializedComponentsProvider._online)):(ue(Ws,"Using default OnlineComponentProvider"),await gv(s,new bm))),s._onlineComponents}function GN(s){return jE(s).then((e=>e.syncEngine))}async function QN(s){const e=await jE(s),i=e.eventManager;return i.onListen=CN.bind(null,e.syncEngine),i.onUnlisten=DN.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=NN.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=ON.bind(null,e.syncEngine),i}function KN(s,e,i={}){const r=new Ks;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,p,_){const T=new HN({next:I=>{T.Nu(),d.enqueueAndForget((()=>EN(c,w)));const z=I.docs.has(g);!z&&I.fromCache?_.reject(new ge(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):z&&I.fromCache&&p&&p.source==="server"?_.reject(new ge(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(I)},error:I=>_.reject(I)}),w=new SN(Qm(g.path),T,{includeMetadataChanges:!0,qa:!0});return vN(c,w)})(await QN(s),s.asyncQueue,e,i,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="firestore.googleapis.com",yv=!0;class _v{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=LE,this.ssl=yv}else this.host=e.host,this.ssl=e.ssl??yv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<bC)throw new ge(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PE(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ge(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ge(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ge(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cg{constructor(e,i,r,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _v({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _v(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Kx;switch(r.type){case"firstParty":return new Zx(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ge(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=pv.get(i);r&&(ue("ComponentProvider","Removing Datastore"),pv.delete(i),r.terminate())})(this),Promise.resolve()}}function YN(s,e,i,r={}){var _;s=Dl(s,cg);const l=eo(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;l&&(kv(`https://${g}`),jv("Firestore",!0)),c.host!==LE&&c.host!==g&&Ya("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:g,ssl:l,emulatorOptions:r};if(!Pr(p,d)&&(s._setSettings(p),r.mockUserToken)){let T,w;if(typeof r.mockUserToken=="string")T=r.mockUserToken,w=$t.MOCK_USER;else{T=n2(r.mockUserToken,(_=s._app)==null?void 0:_.options.projectId);const I=r.mockUserToken.sub||r.mockUserToken.user_id;if(!I)throw new ge(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new $t(I)}s._authCredentials=new Yx(new N1(T,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new hg(this.firestore,e,this._query)}}class Lt{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ll(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lt(this.firestore,e,this._key)}toJSON(){return{type:Lt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(Ql(i,Lt._jsonSchema))return new Lt(e,r||null,new ye(lt.fromString(i.referencePath)))}}Lt._jsonSchemaVersion="firestore/documentReference/1.0",Lt._jsonSchema={type:Ct("string",Lt._jsonSchemaVersion),referencePath:Ct("string")};class Ll extends hg{constructor(e,i,r){super(e,i,Qm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new ye(e))}withConverter(e){return new Ll(this.firestore,e,this._path)}}function vv(s,e,...i){if(s=hn(s),arguments.length===1&&(e=Um.newId()),iR("doc","path",e),s instanceof cg){const r=lt.fromString(e,...i);return O_(r),new Lt(s,null,new ye(r))}{if(!(s instanceof Lt||s instanceof Ll))throw new ge(ee.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(lt.fromString(e,...i));return O_(r),new Lt(s.firestore,s instanceof Ll?s.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="AsyncQueue";class bv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new EE(this,"async_queue_retry"),this._c=()=>{const r=Gd();r&&ue(Ev,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=Gd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Gd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ks;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ro(e))throw e;ue(Ev,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ts("INTERNAL UNHANDLED ERROR: ",Tv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=rg.createAndSchedule(this,e,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Ee(47125,{Pc:Tv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Tv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class fg extends cg{constructor(e,i,r,l){super(e,i,r,l),this.type="firestore",this._queue=new bv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new bv(e),this._firestoreClient=void 0,await e}}}function XN(s,e){const i=typeof s=="object"?s:zv(),r=typeof s=="string"?s:nh,l=Rm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=e2("firestore");c&&YN(l,...c)}return l}function UE(s){if(s._terminated)throw new ge(ee.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||$N(s),s._firestoreClient}function $N(s){var r,l,c;const e=s._freezeSettings(),i=(function(g,p,_,T){return new gR(g,p,_,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,PE(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator)})(s._databaseId,((r=s._app)==null?void 0:r.options.appId)||"",s._persistenceKey,e);s._componentsProvider||(l=e.localCache)!=null&&l._offlineComponentProvider&&((c=e.localCache)!=null&&c._onlineComponentProvider)&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new qN(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jn(Kt.fromBase64String(e))}catch(i){throw new ge(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new jn(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ql(e,jn._jsonSchema))return jn.fromBase64String(e.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:Ct("string",jn._jsonSchemaVersion),bytes:Ct("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ge(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ge(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ge(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wi._jsonSchemaVersion}}static fromJSON(e){if(Ql(e,wi._jsonSchema))return new wi(e.latitude,e.longitude)}}wi._jsonSchemaVersion="firestore/geoPoint/1.0",wi._jsonSchema={type:Ct("string",wi._jsonSchemaVersion),latitude:Ct("number"),longitude:Ct("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:xi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ql(e,xi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new xi(e.vectorValues);throw new ge(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xi._jsonSchemaVersion="firestore/vectorValue/1.0",xi._jsonSchema={type:Ct("string",xi._jsonSchemaVersion),vectorValues:Ct("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=/^__.*__$/;class JN{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Gr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Kl(e,this.data,i,this.fieldTransforms)}}function BE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:s})}}class mg{constructor(e,i,r,l,c,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new mg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var l;const i=(l=this.path)==null?void 0:l.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){var l;const i=(l=this.path)==null?void 0:l.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return fh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(BE(this.Ac)&&ZN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class WN{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||xh(e)}Cc(e,i,r,l=!1){return new mg({Ac:e,methodName:i,Dc:r,path:Qt.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function eI(s){const e=s._freezeSettings(),i=xh(s._databaseId);return new WN(s._databaseId,!!e.ignoreUndefinedProperties,i)}function tI(s,e,i,r,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,l);GE("Data must be an object, but it was:",d,r);const g=qE(r,d);let p,_;if(c.merge)p=new Zn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const w of c.mergeFields){const I=nI(e,w,i);if(!d.contains(I))throw new ge(ee.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);sI(T,I)||T.push(I)}p=new Zn(T),_=d.fieldTransforms.filter((w=>p.covers(w.field)))}else p=null,_=d.fieldTransforms;return new JN(new kn(g),p,_)}function HE(s,e){if(FE(s=hn(s)))return GE("Unsupported field value:",e,s),qE(s,e);if(s instanceof zE)return(function(r,l){if(!BE(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const g of r){let p=HE(g,l.wc(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}})(s,e)}return(function(r,l){if((r=hn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return UR(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=st.fromDate(r);return{timestampValue:lh(l.serializer,c)}}if(r instanceof st){const c=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lh(l.serializer,c)}}if(r instanceof wi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof jn)return{bytesValue:uE(l.serializer,r._byteString)};if(r instanceof Lt){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:$m(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof xi)return(function(d,g){return{mapValue:{fields:{[L1]:{stringValue:U1},[ih]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Km(g.serializer,_)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${zm(r)}`)})(s,e)}function qE(s,e){const i={};return O1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qr(s,((r,l)=>{const c=HE(l,e.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function FE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof st||s instanceof wi||s instanceof jn||s instanceof Lt||s instanceof zE||s instanceof xi)}function GE(s,e,i){if(!FE(i)||!I1(i)){const r=zm(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function nI(s,e,i){if((e=hn(e))instanceof dg)return e._internalPath;if(typeof e=="string")return QE(s,e);throw fh("Field path arguments must be of type string or ",s,!1,void 0,i)}const iI=new RegExp("[~\\*/\\[\\]]");function QE(s,e,i){if(e.search(iI)>=0)throw fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new dg(...e.split("."))._internalPath}catch{throw fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function fh(s,e,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${r}`),d&&(p+=` in document ${l}`),p+=")"),new ge(ee.INVALID_ARGUMENT,g+s+p)}function sI(s,e){return s.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e,i,r,l,c){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(YE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class rI extends KE{data(){return super.data()}}function YE(s,e){return typeof e=="string"?QE(s,e):e instanceof dg?e._internalPath:e._delegate._internalPath}class aI{convertValue(e,i="none"){switch(Zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes($s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return qr(e,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(e){var r,l,c;const i=(c=(l=(r=e.fields)==null?void 0:r[ih].arrayValue)==null?void 0:l.values)==null?void 0:c.map((d=>yt(d.doubleValue)));return new xi(i)}convertGeoPoint(e){return new wi(yt(e.latitude),yt(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=vh(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Ml(e));default:return null}}convertTimestamp(e){const i=Xs(e);return new st(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=lt.fromString(e);Fe(gE(r),9688,{name:e});const l=new Vl(r.get(1),r.get(3)),c=new ye(r.popFirst(5));return l.isEqual(i)||ts(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(s,e,i){let r;return r=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,r}class bl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jr extends KE{constructor(e,i,r,l,c,d){super(e,i,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(YE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=jr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}jr._jsonSchemaVersion="firestore/documentSnapshot/1.0",jr._jsonSchema={type:Ct("string",jr._jsonSchemaVersion),bundleSource:Ct("string","DocumentSnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class Qc extends jr{data(e={}){return super.data(e)}}class Cl{constructor(e,i,r,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new bl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new Qc(this._firestore,this._userDataWriter,r.key,r,new bl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ge(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const p=new Qc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new bl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const p=new Qc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new bl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,T=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:lI(g.type),doc:p,oldIndex:_,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Cl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Um.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function lI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(s){s=Dl(s,Lt);const e=Dl(s.firestore,fg);return KN(UE(e),s._key).then((i=>dI(e,s,i)))}Cl._jsonSchemaVersion="firestore/querySnapshot/1.0",Cl._jsonSchema={type:Ct("string",Cl._jsonSchemaVersion),bundleSource:Ct("string","QuerySnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class cI extends aI{constructor(e){super(),this.firestore=e}convertBytes(e){return new jn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Lt(this.firestore,null,i)}}function hI(s,e,i){s=Dl(s,Lt);const r=Dl(s.firestore,fg),l=oI(s.converter,e,i);return fI(r,[tI(eI(r),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,Ji.none())])}function fI(s,e){return(function(r,l){const c=new Ks;return r.asyncQueue.enqueueAndForget((async()=>MN(await GN(r),l,c))),c.promise})(UE(s),e)}function dI(s,e,i){const r=i.docs.get(e._key),l=new cI(s);return new jr(s,l,e._key,r,new bl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(l){io=l})(to),Qa(new Lr("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),g=new fg(new Xx(r.getProvider("auth-internal")),new Jx(d,r.getProvider("app-check-internal")),(function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ge(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vl(_.options.projectId,T)})(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Gs(C_,N_,e),Gs(C_,N_,"esm2020")})();var mI="firebase",gI="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gs(mI,gI,"app");const pI={apiKey:"AIzaSyAYVgmM92fSuTpc22ZoNVn-ka6CF4wtmjE",authDomain:"tentcard-c8de2.firebaseapp.com",projectId:"tentcard-c8de2",storageBucket:"tentcard-c8de2.firebasestorage.app",messagingSenderId:"545219434464",appId:"1:545219434464:web:cbfc668cde8258ba73bd85"},XE=Uv(pI),gl=Gx(XE),Sv=XN(XE),yI=new Yi,$E=me.createContext(void 0),kc=20,ZE="tentcard_guest_data",Kd=s=>({uid:s.uid,email:s.email||"",displayName:s.displayName||void 0,createdAt:new Date}),jc=()=>{try{const s=localStorage.getItem(ZE);if(s){const e=JSON.parse(s);return e.history&&(e.history=e.history.map(i=>({...i,savedAt:new Date(i.savedAt)}))),e}}catch(s){console.error("Error reading guest data:",s)}return null},Yd=(s,e,i)=>{try{localStorage.setItem(ZE,JSON.stringify({config:s,names:e,history:i}))}catch(r){console.error("Error saving guest data:",r)}},_I=({children:s})=>{const[e,i]=me.useState(null),[r,l]=me.useState(null),[c,d]=me.useState(!0),[g,p]=me.useState(null),_=async H=>{try{const W=vv(Sv,"users",H),J=await uI(W);if(J.exists()){const x=J.data();return x.history&&(x.history=x.history.map(S=>({...S,savedAt:S.savedAt instanceof Date?S.savedAt:new Date(S.savedAt.seconds*1e3)}))),x}}catch(W){console.error("Error loading user data:",W)}return null},T=async(H,W)=>{try{const J=vv(Sv,"users",H);await hI(J,W,{merge:!0})}catch(J){throw console.error("Error saving user data:",J),J}};me.useEffect(()=>{const H=Mw(gl,async W=>{if(W){const J=Kd(W);i(J);const x=await _(W.uid);l(x)}else i(null),l(null);d(!1)});return()=>H()},[]);const w=async(H,W)=>{try{p(null),d(!0),await Cw(gl,H,W)}catch(J){throw p(J.message||"Login failed"),J}finally{d(!1)}},I=async(H,W,J)=>{try{p(null),d(!0);const x=await Rw(gl,H,W);J&&await Iw(x.user,{displayName:J});const S=Kd(x.user);S.displayName=J;const R={profile:S,currentConfig:Xd,currentNames:[],history:[]};await T(x.user.uid,R),l(R)}catch(x){throw p(x.message||"Signup failed"),x}finally{d(!1)}},z=async()=>{try{p(null),d(!0);const H=await ex(gl,yI),W=await _(H.user.uid);if(W)l(W);else{const x={profile:Kd(H.user),currentConfig:Xd,currentNames:[],history:[]};await T(H.user.uid,x),l(x)}}catch(H){throw p(H.message||"Google login failed"),H}finally{d(!1)}},te=async()=>{try{await Vw(gl),i(null),l(null)}catch(H){p(H.message||"Logout failed")}},ne=async(H,W)=>{if(e&&r){const J={...r,currentConfig:H,currentNames:W};await T(e.uid,J),l(J)}else{const J=jc();Yd(H,W,(J==null?void 0:J.history)||[])}},$=async(H,W,J)=>{const x={id:Date.now().toString(),name:H,config:W,names:J,savedAt:new Date};if(e&&r){let S=[...r.history||[],x];S.length>kc&&(S=S.slice(-kc));const R={...r,history:S};await T(e.uid,R),l(R)}else{const S=jc();let R=[...(S==null?void 0:S.history)||[],x];R.length>kc&&(R=R.slice(-kc)),Yd((S==null?void 0:S.config)||W,(S==null?void 0:S.names)||J,R)}},le=H=>{var x;const W=e?r==null?void 0:r.history:(x=jc())==null?void 0:x.history,J=W==null?void 0:W.find(S=>S.id===H);return J?{config:J.config,names:J.names}:null},ae=async H=>{if(e&&r){const W=r.history.filter(x=>x.id!==H),J={...r,history:W};await T(e.uid,J),l(J)}else{const W=jc();if(W){const J=W.history.filter(x=>x.id!==H);Yd(W.config,W.names,J)}}},se=()=>p(null);return E.jsx($E.Provider,{value:{user:e,loading:c,error:g,userData:r,login:w,signup:I,loginWithGoogle:z,logout:te,saveCurrentSettings:ne,saveToHistory:$,restoreFromHistory:le,deleteFromHistory:ae,clearError:se},children:s})},Nh=()=>{const s=me.useContext($E);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s},vI=({isOpen:s,onClose:e})=>{const[i,r]=me.useState("login"),[l,c]=me.useState(""),[d,g]=me.useState(""),[p,_]=me.useState(""),[T,w]=me.useState(!1),[I,z]=me.useState(null),{login:te,signup:ne,loginWithGoogle:$,error:le,clearError:ae}=Nh();if(!s)return null;const se=async S=>{if(S.preventDefault(),z(null),ae(),!l||!d){z("Please fill in all required fields");return}if(i==="signup"&&d.length<6){z("Password must be at least 6 characters");return}w(!0);try{i==="login"?await te(l,d):await ne(l,d,p||void 0),e(),W()}catch{}finally{w(!1)}},H=async()=>{z(null),ae(),w(!0);try{await $(),e(),W()}catch{}finally{w(!1)}},W=()=>{c(""),g(""),_(""),z(null),ae()},J=()=>{r(i==="login"?"signup":"login"),W()},x=I||le;return E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-gray-900/40 backdrop-blur-[2px] transition-all duration-300",children:E.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-[360px] mx-4 overflow-hidden border border-gray-100 flex flex-col",children:[E.jsxs("div",{className:"relative pt-8 pb-4 px-6 text-center",children:[E.jsx("button",{onClick:()=>{e(),W()},className:"absolute top-3 right-3 p-1.5 rounded-full text-gray-400 hover:text-gray-600 hover:bg-gray-100 transition-all",children:E.jsx(Ul,{size:18})}),E.jsx("div",{className:"mx-auto w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center mb-3",children:E.jsx(X0,{className:"text-blue-600",size:20})}),E.jsx("h2",{className:"text-xl font-bold text-gray-800",children:i==="login"?"Welcome Back":"Get Started"}),E.jsx("p",{className:"text-gray-500 text-xs mt-1 px-4",children:i==="login"?"Sign in to access your saved nameplates":"Sign up to save your nameplate designs"})]}),E.jsxs("form",{onSubmit:se,className:"px-6 pb-8 pt-2 space-y-3.5",children:[x&&E.jsxs("div",{className:"flex items-center gap-2 p-2.5 bg-red-50 border border-red-100 rounded-lg text-red-600 text-[11px] leading-tight font-medium",children:[E.jsx(JT,{size:14,className:"flex-shrink-0"}),E.jsx("span",{children:x})]}),i==="signup"&&E.jsx("div",{children:E.jsxs("div",{className:"relative group",children:[E.jsx(kS,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-blue-500 transition-colors",size:16}),E.jsx("input",{type:"text",value:p,onChange:S=>_(S.target.value),placeholder:"Display Name (optional)",className:"w-full pl-9 pr-4 py-2 text-sm border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all placeholder:text-gray-400"})]})}),E.jsx("div",{children:E.jsxs("div",{className:"relative group",children:[E.jsx(gS,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-blue-500 transition-colors",size:16}),E.jsx("input",{type:"email",value:l,onChange:S=>c(S.target.value),placeholder:"Email Address",required:!0,className:"w-full pl-9 pr-4 py-2 text-sm border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all placeholder:text-gray-400"})]})}),E.jsx("div",{children:E.jsxs("div",{className:"relative group",children:[E.jsx(X0,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-blue-500 transition-colors",size:16}),E.jsx("input",{type:"password",value:d,onChange:S=>g(S.target.value),placeholder:i==="signup"?"Password (6+ chars)":"Password",required:!0,className:"w-full pl-9 pr-4 py-2 text-sm border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all placeholder:text-gray-400"})]})}),E.jsx("button",{type:"submit",disabled:T,className:"w-full py-2 bg-blue-600 text-white text-sm font-bold rounded-lg hover:bg-blue-700 shadow-md hover:shadow-blue-200 transition-all transform active:scale-[0.98] disabled:opacity-70 disabled:cursor-not-allowed flex items-center justify-center gap-2 mt-2",children:T?E.jsxs(E.Fragment,{children:[E.jsx(Sm,{className:"animate-spin",size:16}),E.jsx("span",{className:"text-xs",children:"Processing..."})]}):i==="login"?"Sign In":"Create Account"}),E.jsxs("div",{className:"relative py-2",children:[E.jsx("div",{className:"absolute inset-0 flex items-center",children:E.jsx("div",{className:"w-full border-t border-gray-100"})}),E.jsx("div",{className:"relative flex justify-center text-[10px] font-bold text-gray-400 uppercase tracking-tighter",children:E.jsx("span",{className:"px-2 bg-white",children:"or"})})]}),E.jsxs("button",{type:"button",onClick:H,disabled:T,className:"w-full py-2 border border-gray-200 rounded-lg text-xs font-semibold text-gray-600 hover:bg-gray-50 transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:[E.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",children:[E.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),E.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),E.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),E.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),E.jsx("div",{className:"text-center pt-2",children:E.jsx("button",{type:"button",onClick:J,className:"text-[11px] text-gray-500 font-medium hover:text-blue-600 transition-colors",children:i==="login"?E.jsxs(E.Fragment,{children:["New here? ",E.jsx("span",{className:"text-blue-600 font-bold",children:"Create an account"})]}):E.jsxs(E.Fragment,{children:["Already have an account? ",E.jsx("span",{className:"text-blue-600 font-bold",children:"Sign in"})]})})})]})]})})},EI=({onOpenHistory:s,onSaveToHistory:e})=>{const[i,r]=me.useState(!1),[l,c]=me.useState(!1),d=me.useRef(null),{user:g,logout:p}=Nh();me.useEffect(()=>{const w=I=>{d.current&&!d.current.contains(I.target)&&r(!1)};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]);const _=async()=>{c(!0);try{await p()}finally{c(!1),r(!1)}};if(!g)return null;const T=g.displayName?g.displayName.split(" ").map(w=>w[0]).join("").toUpperCase().slice(0,2):g.email[0].toUpperCase();return E.jsxs("div",{className:"relative",ref:d,children:[E.jsxs("button",{onClick:()=>r(!i),className:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors",children:[E.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white text-sm font-semibold",children:T}),E.jsx("span",{className:"text-sm font-medium text-gray-700 max-w-[120px] truncate hidden sm:block",children:g.displayName||g.email}),E.jsx(Ba,{size:16,className:`text-gray-500 transition-transform ${i?"rotate-180":""}`})]}),i&&E.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-xl shadow-lg border border-gray-100 py-2 z-50",children:[E.jsxs("div",{className:"px-4 py-2 border-b border-gray-100",children:[E.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:g.displayName||"User"}),E.jsx("p",{className:"text-xs text-gray-500 truncate",children:g.email})]}),E.jsxs("div",{className:"py-1",children:[E.jsxs("button",{onClick:()=>{e(),r(!1)},className:"w-full px-4 py-2.5 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-3 transition-colors",children:[E.jsx(Rv,{size:16,className:"text-gray-400"}),"Save Current Design"]}),E.jsxs("button",{onClick:()=>{s(),r(!1)},className:"w-full px-4 py-2.5 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-3 transition-colors",children:[E.jsx(aS,{size:16,className:"text-gray-400"}),"View History"]})]}),E.jsx("div",{className:"border-t border-gray-100 pt-1",children:E.jsxs("button",{onClick:_,disabled:l,className:"w-full px-4 py-2.5 text-left text-sm text-red-600 hover:bg-red-50 flex items-center gap-3 transition-colors disabled:opacity-50",children:[l?E.jsx(Sm,{size:16,className:"animate-spin"}):E.jsx(dS,{size:16}),"Sign Out"]})})]})]})},bI=({isOpen:s,onClose:e,onRestore:i})=>{const{userData:r,deleteFromHistory:l,user:c}=Nh();if(!s)return null;const g=[...(r==null?void 0:r.history)||[]].sort((T,w)=>new Date(w.savedAt).getTime()-new Date(T.savedAt).getTime()),p=T=>new Date(T).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),_=async(T,w)=>{w.stopPropagation(),window.confirm("Delete this saved design?")&&await l(T)};return E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:E.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl mx-4 max-h-[80vh] flex flex-col overflow-hidden",children:[E.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-100",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center",children:E.jsx(K0,{size:20,className:"text-white"})}),E.jsxs("div",{children:[E.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Saved Designs"}),E.jsxs("p",{className:"text-sm text-gray-500",children:[g.length," saved design",g.length!==1?"s":""]})]})]}),E.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:E.jsx(Ul,{size:20,className:"text-gray-500"})})]}),E.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:g.length===0?E.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[E.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center mb-4",children:E.jsx(K0,{size:32,className:"text-gray-400"})}),E.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No saved designs yet"}),E.jsxs("p",{className:"text-sm text-gray-500 max-w-xs",children:["Create a nameplate design and save it to see it here. Your designs will be",c?" synced across devices.":" saved locally."]})]}):E.jsx("div",{className:"grid gap-3",children:g.map(T=>E.jsx("div",{className:"group bg-gray-50 rounded-xl p-4 hover:bg-gray-100 transition-colors",children:E.jsxs("div",{className:"flex items-start justify-between",children:[E.jsxs("div",{className:"flex-1 min-w-0",children:[E.jsx("h3",{className:"font-medium text-gray-900 truncate",children:T.name}),E.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:p(T.savedAt)}),E.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[E.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-indigo-100 text-indigo-700",children:[T.names.length," name",T.names.length!==1?"s":""]}),E.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-purple-100 text-purple-700",children:[T.config.plateWidthCm,"",T.config.plateHeightCm," cm"]})]})]}),E.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[E.jsxs("button",{onClick:()=>i(T.id),className:"flex items-center gap-1.5 px-3 py-1.5 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700 transition-colors",children:[E.jsx(AS,{size:14}),"Restore"]}),E.jsx("button",{onClick:w=>_(T.id,w),className:"p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:E.jsx(Cv,{size:16})})]})]})},T.id))})}),g.length>0&&E.jsx("div",{className:"px-6 py-3 border-t border-gray-100 bg-gray-50",children:E.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Maximum 20 designs can be saved. Oldest designs are removed when limit is reached."})})]})})},TI=({isOpen:s,onClose:e,onSave:i})=>{const[r,l]=me.useState(""),[c,d]=me.useState(!1),[g,p]=me.useState(null);if(!s)return null;const _=async T=>{if(T.preventDefault(),!r.trim()){p("Please enter a name for your design");return}d(!0),p(null);try{await i(r.trim()),l(""),e()}catch{p("Failed to save design. Please try again.")}finally{d(!1)}};return E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:E.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm mx-4 overflow-hidden",children:[E.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-100",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center",children:E.jsx(Rv,{size:20,className:"text-white"})}),E.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Save Design"})]}),E.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:E.jsx(Ul,{size:20,className:"text-gray-500"})})]}),E.jsxs("form",{onSubmit:_,className:"p-6",children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Design Name"}),E.jsx("input",{type:"text",value:r,onChange:T=>l(T.target.value),placeholder:"e.g., Conference Event 2024",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all",autoFocus:!0}),g&&E.jsx("p",{className:"mt-2 text-sm text-red-600",children:g}),E.jsxs("div",{className:"flex gap-3 mt-6",children:[E.jsx("button",{type:"button",onClick:e,className:"flex-1 py-2.5 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),E.jsx("button",{type:"submit",disabled:c,className:"flex-1 py-2.5 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-semibold rounded-lg hover:from-indigo-700 hover:to-purple-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:c?E.jsxs(E.Fragment,{children:[E.jsx(Sm,{className:"animate-spin",size:18}),"Saving..."]}):"Save"})]})]})]})})},SI=()=>{const s=[{id:"1",line1:"Full Name",line2:"Designation"}],[e,i]=me.useState(Xd),[r,l]=me.useState(s),[c,d]=me.useState(s.map(ie=>`${ie.line1}, ${ie.line2}`).join(`
`)),[g,p]=me.useState(!1),[_,T]=me.useState(!0),[w,I]=me.useState(!1),[z,te]=me.useState(!1),[ne,$]=me.useState(!1),[le,ae]=me.useState("names"),[se,H]=me.useState("manual"),{user:W,userData:J,loading:x,saveToHistory:S,restoreFromHistory:R,saveCurrentSettings:M}=Nh();me.useEffect(()=>{J&&(J.currentConfig&&i(J.currentConfig),J.currentNames&&J.currentNames.length>0&&(l(J.currentNames),d(J.currentNames.map(ie=>`${ie.line1}, ${ie.line2}`).join(`
`))))},[J]),me.useEffect(()=>{if(W&&!x){const ie=setTimeout(()=>{M(e,r)},2e3);return()=>clearTimeout(ie)}},[e,r,W,x]);const D=()=>{T(!1),ae("names"),H("manual"),localStorage.setItem("tentcard_onboarding_seen","true")},j=ie=>{ie===1?(ae("names"),H("manual")):ie===2?(ae("names"),H("bulk")):ie===3||ie===4?(ae("names"),H("manual")):ie===5&&ae("style")},C=()=>{p(!0)},tt=()=>{window.print(),p(!1)},ft=async ie=>{await S(ie,e,r)},G=ie=>{const de=R(ie);de&&(i(de.config),l(de.names),d(de.names.map(De=>`${De.line1}, ${De.line2}`).join(`
`)),te(!1))};return E.jsxs("div",{className:"flex flex-col h-screen w-screen bg-gray-100 overflow-hidden font-sans text-gray-900",children:[E.jsx("style",{children:`
          @media print {
            @page {
              size: ${e.paperSize} ${e.orientation};
              margin: 0;
            }
            
            html, body, #root {
              height: auto !important;
              width: 100% !important;
              overflow: visible !important;
              margin: 0 !important;
              padding: 0 !important;
              display: block !important;
              background: white !important;
            }
            
            #root > div {
              display: block !important;
              height: auto !important;
              width: 100% !important;
              overflow: visible !important;
              background: white !important;
            }
            
            header, .print-hidden {
              display: none !important;
            }

            main {
              display: block !important;
              height: auto !important;
              width: 100% !important;
              overflow: visible !important;
              position: static !important;
              background: white !important;
              padding: 0 !important;
            }
            
            main > div,
            main > div > div,
            main > div > div > div {
              height: auto !important;
              overflow: visible !important;
              position: static !important;
            }
            
            .print-pages-wrapper {
              transform: none !important;
              transform-origin: initial !important;
            }
            
            .page-wrapper {
              position: static !important;
              break-inside: avoid !important;
              page-break-inside: avoid !important;
            }
            
            .print-page {
              box-shadow: none !important;
              margin: 0 !important;
              break-after: page !important;
              page-break-after: always !important;
              break-inside: avoid !important;
              page-break-inside: avoid !important;
            }
            
            .print-page:last-of-type {
              break-after: auto !important;
              page-break-after: auto !important;
            }
            
            * {
              -webkit-print-color-adjust: exact !important;
              print-color-adjust: exact !important;
            }
          }
        `}),E.jsxs("header",{className:"print:hidden z-30 bg-white border-b border-gray-200 shadow-sm px-6 py-3 flex items-center justify-between h-14",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"p-1.5 rounded bg-blue-600 text-white shadow-md",children:E.jsx(Am,{className:"w-5 h-5"})}),E.jsxs("div",{children:[E.jsx("h1",{className:"text-lg font-bold text-gray-800 leading-none",children:"Name Plate Gen"}),E.jsx("p",{className:"text-[10px] text-gray-500 uppercase tracking-widest mt-0.5 font-semibold",children:"Professional Tent Cards"})]})]}),E.jsx("div",{className:"flex items-center gap-4",children:E.jsx("div",{className:"flex items-center gap-2",children:x?E.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 animate-pulse"}):W?E.jsx(EI,{onOpenHistory:()=>te(!0),onSaveToHistory:()=>$(!0)}):E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsxs("button",{onClick:()=>I(!0),className:"px-4 py-2 text-sm font-semibold text-gray-600 hover:bg-gray-100 rounded-lg transition-all active:scale-95 flex items-center gap-2",children:[E.jsx(hS,{size:18}),E.jsx("span",{children:"Log In"})]}),E.jsxs("button",{onClick:()=>I(!0),className:"px-4 py-2 text-sm font-bold text-white bg-blue-600 hover:bg-blue-700 rounded-lg shadow-md transition-all active:scale-95 flex items-center gap-2",children:[E.jsx(MS,{size:18}),E.jsx("span",{children:"Sign Up"})]})]})})})]}),E.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[E.jsx("div",{className:"print:hidden h-full flex-shrink-0 z-20 shadow-xl",children:E.jsx(BS,{config:e,setConfig:i,names:r,setNames:l,onPrint:C,bulkText:c,setBulkText:d,activeTab:le,setActiveTab:ae,inputMode:se,setInputMode:H})}),E.jsx("main",{className:"flex-1 h-full overflow-auto bg-gray-200/80 relative",children:E.jsx(qS,{config:e,names:r,onHelp:()=>T(!0)})})]}),E.jsx(FS,{isOpen:g,onClose:()=>p(!1),onConfirm:tt}),E.jsx(GS,{isOpen:_,onClose:D,onStepChange:j}),E.jsx(vI,{isOpen:w,onClose:()=>I(!1)}),E.jsx(bI,{isOpen:z,onClose:()=>te(!1),onRestore:G}),E.jsx(TI,{isOpen:ne,onClose:()=>$(!1),onSave:ft}),E.jsx("footer",{className:"fixed bottom-4 right-6 text-xs text-gray-400 pointer-events-none print:hidden z-10",children:"Minimalist Name Plate Gen "})]})},AI=()=>E.jsx(_I,{children:E.jsx(SI,{})}),JE=document.getElementById("root");if(!JE)throw new Error("Could not find root element to mount to");const wI=zT.createRoot(JE);wI.render(E.jsx(OT.StrictMode,{children:E.jsx(AI,{})}));
